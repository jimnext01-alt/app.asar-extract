(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-setting-index~pages-questionCourse-answer~pages-study-indexPc"],{"0276":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-513d9588], uni-scroll-view[data-v-513d9588], uni-swiper-item[data-v-513d9588]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-upload[data-v-513d9588]{\ndisplay:flex;\nflex-direction:column;flex:1}.u-upload__wrap[data-v-513d9588]{\ndisplay:flex;\nflex-direction:row;flex-wrap:wrap;flex:1}.u-upload__wrap__preview[data-v-513d9588]{border-radius:2px;margin:0 8px 8px 0;position:relative;overflow:hidden;\ndisplay:flex;\nflex-direction:row}.u-upload__wrap__preview__image[data-v-513d9588]{width:80px;height:80px}.u-upload__wrap__preview__other[data-v-513d9588]{width:80px;height:80px;background-color:#f2f2f2;flex:1;\ndisplay:flex;\nflex-direction:column;justify-content:center;align-items:center}.u-upload__wrap__preview__other__text[data-v-513d9588]{font-size:11px;color:#909193;margin-top:2px}.u-upload__deletable[data-v-513d9588]{position:absolute;top:0;right:0;background-color:#373737;height:14px;width:14px;\ndisplay:flex;\nflex-direction:row;border-bottom-left-radius:100px;align-items:center;justify-content:center;z-index:3}.u-upload__deletable__icon[data-v-513d9588]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);top:0;right:0;top:1px;right:0}.u-upload__success[data-v-513d9588]{position:absolute;bottom:0;right:0;\ndisplay:flex;\nflex-direction:row;border-style:solid;border-top-color:transparent;border-left-color:transparent;border-bottom-color:#5ac725;border-right-color:#5ac725;border-width:9px;align-items:center;justify-content:center}.u-upload__success__icon[data-v-513d9588]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);bottom:-10px;right:-10px}.u-upload__status[data-v-513d9588]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5);\ndisplay:flex;\nflex-direction:column;align-items:center;justify-content:center}.u-upload__status__icon[data-v-513d9588]{position:relative;z-index:1}.u-upload__status__message[data-v-513d9588]{font-size:12px;color:#fff;margin-top:5px}.u-upload__default-slot--empty-list[data-v-513d9588]{flex:1}.u-upload__button[data-v-513d9588]{\ndisplay:flex;\nflex-direction:column;align-items:center;justify-content:center;width:80px;height:80px;background-color:#f4f5f7;border-radius:2px;margin:0 8px 8px 0;box-sizing:border-box}.u-upload__button__text[data-v-513d9588]{font-size:11px;color:#909193;margin-top:2px}.u-upload__button--hover[data-v-513d9588]{background-color:#e6e7e9}.u-upload__button--disabled[data-v-513d9588]{opacity:.5}',""]),e.exports=t},"0f36":function(e,t,a){var r=a("0276");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("967d").default;i("1368cba8",r,!0,{sourceMap:!1,shadowMode:!1})},1008:function(e,t,a){
/*!
 * Crypto-JS v1.1.0
 * http://code.google.com/p/crypto-js/
 * Copyright (c) 2009, Jeff Mott. All rights reserved.
 * http://code.google.com/p/crypto-js/wiki/License
 */
var r=a("2d82b");(function(){var e=r.util,t=r.SHA1=function(a,r){var i=e.wordsToBytes(t._sha1(a));return r&&r.asBytes?i:r&&r.asString?e.bytesToString(i):e.bytesToHex(i)};t._sha1=function(t){var a=e.stringToWords(t),r=8*t.length,i=[],n=1732584193,o=-271733879,u=-1732584194,s=271733878,l=-1009589776;a[r>>5]|=128<<24-r%32,a[15+(r+64>>>9<<4)]=r;for(var d=0;d<a.length;d+=16){for(var c=n,f=o,p=u,h=s,m=l,g=0;g<80;g++){if(g<16)i[g]=a[d+g];else{var v=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=v<<1|v>>>31}var b=(n<<5|n>>>27)+l+(i[g]>>>0)+(g<20?1518500249+(o&u|~o&s):g<40?1859775393+(o^u^s):g<60?(o&u|o&s|u&s)-1894007588:(o^u^s)-899497514);l=s,s=u,u=o<<30|o>>>2,o=n,n=b}n+=c,o+=f,u+=p,s+=h,l+=m}return[n,o,u,s,l]},t._blocksize=16})(),e.exports=r},"1b9c":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("64aa");var r={props:{accept:{type:String,default:uni.$u.props.upload.accept},capture:{type:[String,Array],default:uni.$u.props.upload.capture},compressed:{type:Boolean,default:uni.$u.props.upload.compressed},camera:{type:String,default:uni.$u.props.upload.camera},maxDuration:{type:Number,default:uni.$u.props.upload.maxDuration},uploadIcon:{type:String,default:uni.$u.props.upload.uploadIcon},uploadIconColor:{type:String,default:uni.$u.props.upload.uploadIconColor},useBeforeRead:{type:Boolean,default:uni.$u.props.upload.useBeforeRead},afterRead:{type:Function,default:null},beforeRead:{type:Function,default:null},previewFullImage:{type:Boolean,default:uni.$u.props.upload.previewFullImage},maxCount:{type:[String,Number],default:uni.$u.props.upload.maxCount},disabled:{type:Boolean,default:uni.$u.props.upload.disabled},imageMode:{type:String,default:uni.$u.props.upload.imageMode},name:{type:String,default:uni.$u.props.upload.name},sizeType:{type:Array,default:uni.$u.props.upload.sizeType},multiple:{type:Boolean,default:uni.$u.props.upload.multiple},deletable:{type:Boolean,default:uni.$u.props.upload.deletable},maxSize:{type:[String,Number],default:uni.$u.props.upload.maxSize},fileList:{type:Array,default:uni.$u.props.upload.fileList},uploadText:{type:String,default:uni.$u.props.upload.uploadText},width:{type:[String,Number],default:uni.$u.props.upload.width},height:{type:[String,Number],default:uni.$u.props.upload.height},previewImage:{type:Boolean,default:uni.$u.props.upload.previewImage}}};t.default=r},"2d82b":function(e,t,a){a("64aa"),a("aa9c"),a("c9b5"),a("bf0f"),a("ab80"),a("e966"),a("d5c6"),a("5a56"),a("f074"),a("15d1"),a("5c47"),a("a1c1");
/*!
 * Crypto-JS v1.1.0
 * http://code.google.com/p/crypto-js/
 * Copyright (c) 2009, Jeff Mott. All rights reserved.
 * http://code.google.com/p/crypto-js/wiki/License
 */
var r={};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=r.util={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var a=0;a<e.length;a++)e[a]=t.endian(e[a]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},stringToBytes:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.charCodeAt(a));return t},bytesToString:function(e){for(var t=[],a=0;a<e.length;a++)t.push(String.fromCharCode(e[a]));return t.join("")},stringToWords:function(e){for(var t=[],a=0,r=0;a<e.length;a++,r+=8)t[r>>>5]|=e.charCodeAt(a)<<24-r%32;return t},bytesToWords:function(e){for(var t=[],a=0,r=0;a<e.length;a++,r+=8)t[r>>>5]|=e[a]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],a=0;a<32*e.length;a+=8)t.push(e[a>>>5]>>>24-a%32&255);return t},bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t},bytesToBase64:function(a){if("function"==typeof btoa)return btoa(t.bytesToString(a));for(var r,i=[],n=0;n<a.length;n++)switch(n%3){case 0:i.push(e.charAt(a[n]>>>2)),r=(3&a[n])<<4;break;case 1:i.push(e.charAt(r|a[n]>>>4)),r=(15&a[n])<<2;break;case 2:i.push(e.charAt(r|a[n]>>>6)),i.push(e.charAt(63&a[n])),r=-1}void 0!=r&&-1!=r&&i.push(e.charAt(r));while(i.length%4!=0)i.push("=");return i.join("")},base64ToBytes:function(a){if("function"==typeof atob)return t.stringToBytes(atob(a));a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],i=0;i<a.length;i++)switch(i%4){case 1:r.push(e.indexOf(a.charAt(i-1))<<2|e.indexOf(a.charAt(i))>>>4);break;case 2:r.push((15&e.indexOf(a.charAt(i-1)))<<4|e.indexOf(a.charAt(i))>>>2);break;case 3:r.push((3&e.indexOf(a.charAt(i-1)))<<6|e.indexOf(a.charAt(i)));break}return r}};r.mode={}})(),e.exports=r},"37f4":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={watch:{accept:{immediate:!0,handler:function(e){"all"!==e&&"media"!==e||uni.$u.error("只有微信小程序才支持把accept配置为all、media之一")}}}};t.default=r},"46fc":function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.closeStatus=function(e){return(0,n.default)({url:"/system/user/closeStatus",method:"post",data:e})},t.collect=function(e){return(0,n.default)({url:"/user/collect/collect",method:"post",data:e})},t.deleteUserAddress=function(e){return(0,n.default)({url:"/user/deleteUserAddress",method:"post",data:e})},t.getCourseErrorList=function(e){return(0,n.default)({url:"/user/getCourseErrorList",method:"post",data:e})},t.getUserAddressList=function(e){return(0,n.default)({url:"/user/getUserAddressList",header:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",data:e})},t.getUserInfo=function(e){return(0,n.default)({url:"/system/user/getUserInfo",method:"post",data:e})},t.getUserProfile=function(){return(0,n.default)({url:"/system/user/profile",method:"get"})},t.getWrongBookList=function(e){return(0,n.default)({url:"/user/getWrongBookList",header:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",data:e})},t.saveUserAddress=function(e){return(0,n.default)({url:"/user/saveUserAddress",method:"post",data:e})},t.updateUserInfo=function(e){return(0,n.default)({url:"/system/user/updateUserInfo",method:"post",data:e})},t.updateUserProfile=function(e){return(0,n.default)({url:"/system/user/profile",method:"put",data:e})},t.updateUserPwd=function(e,t){var a={oldPassword:e,newPassword:t};return(0,n.default)({url:"/system/user/profile/updatePwd",method:"put",params:a})},t.uploadAvatar=function(e){return(0,i.default)({url:"/system/user/profile/avatar",name:e.name,filePath:e.filePath})};var i=r(a("9a87")),n=r(a("eb6c"))},"5a6a":function(e,t){e.exports={AccessKeyId:"ITB8C6XQV3HRNAWRHQTI",SecretKey:"gIcj8fe4y4xFSmUhw8qN36RQe2HbO6jBYrwDxZnc",bucket:"videoapp",EndPoint:"https://videoapp.obs.cn-north-9.myhuaweicloud.com"}},"5c6b":function(e,t,a){a("f7a5");
/*!
 * Crypto-JS v1.1.0
 * http://code.google.com/p/crypto-js/
 * Copyright (c) 2009, Jeff Mott. All rights reserved.
 * http://code.google.com/p/crypto-js/wiki/License
 */
var r=a("2d82b");(function(){var e=r.util;r.HMAC=function(t,a,r,i){r=r.length>4*t._blocksize?t(r,{asBytes:!0}):e.stringToBytes(r);for(var n=r,o=r.slice(0),u=0;u<4*t._blocksize;u++)n[u]^=92,o[u]^=54;var s=t(e.bytesToString(n)+t(e.bytesToString(o)+a,{asString:!0}),{asBytes:!0});return i&&i.asBytes?s:i&&i.asString?e.bytesToString(s):e.bytesToHex(s)}})(),e.exports=r},7520:function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFile=function(e){var t=e.accept,a=e.multiple,r=e.capture,u=e.compressed,s=e.maxDuration,l=e.sizeType,d=e.camera,c=e.maxCount;return new Promise((function(e,f){switch(t){case"image":uni.chooseImage({count:a?Math.min(c,9):1,sourceType:r,sizeType:l,success:function(t){return e(function(e){return e.tempFiles.map((function(e){return(0,i.default)((0,i.default)({},n(e,["path"])),{},{type:"image",url:e.path,thumb:e.path,size:e.size,name:e.name})}))}(t))},fail:f});break;case"video":uni.chooseVideo({sourceType:r,compressed:u,maxDuration:s,camera:d,success:function(t){return e(function(e){return[(0,i.default)((0,i.default)({},n(e,["tempFilePath","thumbTempFilePath","errMsg"])),{},{type:"video",url:e.tempFilePath,thumb:e.thumbTempFilePath,size:e.size,name:e.name})]}(t))},fail:f});break;case"file":uni.chooseFile({count:a?c:1,type:t,success:function(t){return e(o(t))},fail:f});break;default:uni.chooseFile({count:a?c:1,type:"all",success:function(t){return e(o(t))},fail:f})}}))};var i=r(a("9b1b"));function n(e,t){return["[object Object]","[object File]"].includes(Object.prototype.toString.call(e))?Object.keys(e).reduce((function(a,r){return t.includes(r)||(a[r]=e[r]),a}),{}):{}}function o(e){return e.tempFiles.map((function(e){return(0,i.default)((0,i.default)({},n(e,["path"])),{},{url:e.path,size:e.size,name:e.name,type:e.type})}))}a("4626"),a("bf0f"),a("473f"),a("dc8a"),a("5ac7"),a("fd3c")},7725:function(e,t,a){"use strict";var r=a("f5bd").default;a("bf0f");var i=r(a("2634")),n=r(a("2fdc")),o=a("93ec"),u=a("5a6a"),s=a("ff95"),l=a("7dfc"),d=function(){var e=(0,n.default)((0,i.default)().mark((function e(t){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.url,e.abrupt("return",new Promise((function(e,r){if(a){var i=t.url.split("."),n="userFile/"+o.publicMethod.getUUID()+"."+i[i.length-1],d={expiration:new Date((new Date).setHours((new Date).getHours()+1)),conditions:[{bucket:u.bucket},{key:n}]},c=s(d),f=l(c,u.SecretKey);uni.uploadFile({url:u.EndPoint,filePath:a,name:"file",formData:{AccessKeyID:u.AccessKeyId,policy:c,signature:f,key:n},success:function(t){console.log(t.statusCode),"204"==t.statusCode?e(u.EndPoint+"/"+n):e(!1)},fail:function(t){console.log(t),e(!1)}})}else uni.showToast({title:"文件路径不能为空",icon:"请重新选择路径"})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.exports=d},"7dfc":function(e,t,a){a("5c6b"),a("1008");var r=a("2d82b");a("fa69");e.exports=function(e,t){var a=r.HMAC(r.SHA1,e,t,{asBytes:!0}),i=r.util.bytesToBase64(a);return i}},"81e9":function(e,t,a){"use strict";var r=a("0f36"),i=a.n(r);i.a},"8a59":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}));var r={uIcon:a("99cf").default,uLoadingIcon:a("bef1").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"u-upload",style:[e.$u.addStyle(e.customStyle)]},[a("v-uni-view",{staticClass:"u-upload__wrap"},[e.previewImage?e._l(e.lists,(function(t,r){return a("v-uni-view",{key:r,staticClass:"u-upload__wrap__preview"},[t.isImage||t.type&&"image"===t.type?a("v-uni-image",{staticClass:"u-upload__wrap__preview__image",style:[{width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}],attrs:{src:t.thumb||t.url,mode:e.imageMode},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onPreviewImage(t)}}}):a("v-uni-view",{staticClass:"u-upload__wrap__preview__other"},[a("u-icon",{attrs:{color:"#80CBF9",size:"26",name:t.isVideo||t.type&&"video"===t.type?"movie":"folder"}}),a("v-uni-text",{staticClass:"u-upload__wrap__preview__other__text"},[e._v(e._s(t.isVideo||t.type&&"video"===t.type?"视频":"文件"))])],1),"uploading"===t.status||"failed"===t.status?a("v-uni-view",{staticClass:"u-upload__status"},[a("v-uni-view",{staticClass:"u-upload__status__icon"},["failed"===t.status?a("u-icon",{attrs:{name:"close-circle",color:"#ffffff",size:"25"}}):a("u-loading-icon",{attrs:{size:"22",mode:"circle",color:"#ffffff"}})],1),t.message?a("v-uni-text",{staticClass:"u-upload__status__message"},[e._v(e._s(t.message))]):e._e()],1):e._e(),"uploading"!==t.status&&(e.deletable||t.deletable)?a("v-uni-view",{staticClass:"u-upload__deletable",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.deleteItem(r)}}},[a("v-uni-view",{staticClass:"u-upload__deletable__icon"},[a("u-icon",{attrs:{name:"close",color:"#ffffff",size:"10"}})],1)],1):e._e(),"success"===t.status?a("v-uni-view",{staticClass:"u-upload__success"},[a("v-uni-view",{staticClass:"u-upload__success__icon"},[a("u-icon",{attrs:{name:"checkmark",color:"#ffffff",size:"12"}})],1)],1):e._e()],1)})):e._e(),e.isInCount?[e.$slots.default||e.$slots.$default?a("v-uni-view",{staticClass:"u-upload__default-slot",class:[0===e.lists.length?"u-upload__default-slot--empty-list":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[e._t("default")],2):a("v-uni-view",{staticClass:"u-upload__button",class:[e.disabled&&"u-upload__button--disabled"],style:[{width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}],attrs:{"hover-class":e.disabled?"":"u-upload__button--hover","hover-stay-time":"150"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:e.uploadIcon,size:"26",color:e.uploadIconColor}}),e.uploadText?a("v-uni-text",{staticClass:"u-upload__button__text"},[e._v(e._s(e.uploadText))]):e._e()],1)]:e._e()],2)],1)},n=[]},"9a87":function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("f7a5"),a("bf0f"),a("4626"),a("5ac7");var i=r(a("6560")),n=r(a("a0f3")),o=a("d3f2"),u=r(a("1e65")),s=a("3051"),l=n.default.baseUrl,d=function(e){var t=!1===(e.headers||{}).isToken;if(e.header=e.header||{},(0,o.getToken)()&&!t&&(e.header["Authorization"]="Bearer "+(0,o.getToken)()),e.params){var a=e.url+"?"+(0,s.tansParams)(e.params);a=a.slice(0,-1),e.url=a}return new Promise((function(t,a){uni.uploadFile({timeout:e.timeout||1e4,url:l+e.url,filePath:e.filePath,name:e.name||"file",header:e.header,formData:e.formData,success:function(e){var r=JSON.parse(e.data),n=r.code||200,o=u.default[n]||r.msg||u.default["default"];200===n?t(r):401==n?((0,s.showConfirm)("登录状态已过期，您可以继续留在该页面，或者重新登录?").then((function(e){e.confirm&&i.default.dispatch("LogOut").then((function(e){uni.reLaunch({url:"/pages/login/login"})}))})),a("无效的会话，或者会话已过期，请重新登录。")):500===n?((0,s.toast)(o),a("500")):200!==n&&((0,s.toast)(o),a(n))},fail:function(e){var t=e.message;"Network Error"==t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),(0,s.toast)(t),a(e)}})}))};t.default=d},d6e7:function(e,t,a){"use strict";a.r(t);var r=a("8a59"),i=a("e779");for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("81e9");var o=a("828b"),u=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"513d9588",null,!1,r["a"],void 0);t["default"]=u.exports},e779:function(e,t,a){"use strict";a.r(t);var r=a("f1dc"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},f1dc:function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fd3c"),a("5c47"),a("0506"),a("bf0f"),a("8f71");var i=a("7520"),n=r(a("37f4")),o=r(a("1b9c")),u={name:"u-upload",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default,o.default],data:function(){return{lists:[],isInCount:!0}},watch:{fileList:{immediate:!0,handler:function(){this.formatFileList()}}},methods:{formatFileList:function(){var e=this,t=this.fileList,a=void 0===t?[]:t,r=this.maxCount,i=a.map((function(t){return Object.assign(Object.assign({},t),{isImage:"image"===e.accept||uni.$u.test.image(t.url||t.thumb),isVideo:"video"===e.accept||uni.$u.test.video(t.url||t.thumb),deletable:"boolean"===typeof t.deletable?t.deletable:e.deletable})}));this.lists=i,this.isInCount=i.length<r},chooseFile:function(){var e=this,t=this.maxCount,a=this.multiple,r=this.lists,n=this.disabled;if(!n){var o;try{o=uni.$u.test.array(this.capture)?this.capture:this.capture.split(",")}catch(u){o=[]}(0,i.chooseFile)(Object.assign({accept:this.accept,multiple:this.multiple,capture:o,compressed:this.compressed,maxDuration:this.maxDuration,sizeType:this.sizeType,camera:this.camera},{maxCount:t-r.length})).then((function(t){e.onBeforeRead(a?t:t[0])})).catch((function(t){e.$emit("error",t)}))}},onBeforeRead:function(e){var t=this,a=this.beforeRead,r=this.useBeforeRead,i=!0;uni.$u.test.func(a)&&(i=a(e,this.getDetail())),r&&(i=new Promise((function(a,r){t.$emit("beforeRead",Object.assign(Object.assign({file:e},t.getDetail()),{callback:function(e){e?a():r()}}))}))),i&&(uni.$u.test.promise(i)?i.then((function(a){return t.onAfterRead(a||e)})):this.onAfterRead(e))},getDetail:function(e){return{name:this.name,index:null==e?this.fileList.length:e}},onAfterRead:function(e){var t=this.maxSize,a=this.afterRead,r=Array.isArray(e)?e.some((function(e){return e.size>t})):e.size>t;r?this.$emit("oversize",Object.assign({file:e},this.getDetail())):("function"===typeof a&&a(e,this.getDetail()),this.$emit("afterRead",Object.assign({file:e},this.getDetail())))},deleteItem:function(e){this.$emit("delete",Object.assign(Object.assign({},this.getDetail(e)),{file:this.fileList[e]}))},onPreviewImage:function(e){var t=this;e.isImage&&this.previewFullImage&&uni.previewImage({urls:this.lists.filter((function(e){return"image"===t.accept||uni.$u.test.image(e.url||e.thumb)})).map((function(e){return e.url||e.thumb})),current:e.url||e.thumb,fail:function(){uni.$u.toast("预览图片失败")}})},onPreviewVideo:function(e){if(this.data.previewFullImage){var t=e.currentTarget.dataset.index,a=this.data.lists;wx.previewMedia({sources:a.filter((function(e){return isVideoFile(e)})).map((function(e){return Object.assign(Object.assign({},e),{type:"video"})})),current:t,fail:function(){uni.$u.toast("预览视频失败")}})}},onClickPreview:function(e){var t=e.currentTarget.dataset.index,a=this.data.lists[t];this.$emit("clickPreview",Object.assign(Object.assign({},a),this.getDetail(t)))}}};t.default=u},fa69:function(e,t,a){a("5c47"),a("a1c1"),a("5ef2");var r={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,i,n,o,u,s,l="",d=0;e=r._utf8_encode(e);while(d<e.length)t=e.charCodeAt(d++),a=e.charCodeAt(d++),i=e.charCodeAt(d++),n=t>>2,o=(3&t)<<4|a>>4,u=(15&a)<<2|i>>6,s=63&i,isNaN(a)?u=s=64:isNaN(i)&&(s=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(s);return l},decode:function(e){var t,a,i,n,o,u,s,l="",d=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<e.length)n=this._keyStr.indexOf(e.charAt(d++)),o=this._keyStr.indexOf(e.charAt(d++)),u=this._keyStr.indexOf(e.charAt(d++)),s=this._keyStr.indexOf(e.charAt(d++)),t=n<<2|o>>4,a=(15&o)<<4|u>>2,i=(3&u)<<6|s,l+=String.fromCharCode(t),64!=u&&(l+=String.fromCharCode(a)),64!=s&&(l+=String.fromCharCode(i));return l=r._utf8_decode(l),l},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var r=e.charCodeAt(a);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){var t="",a=0,r=c1=c2=0;while(a<e.length)r=e.charCodeAt(a),r<128?(t+=String.fromCharCode(r),a++):r>191&&r<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&r)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),a+=3);return t}};e.exports=r},ff95:function(e,t,a){a("d4b5");var r=a("fa69");e.exports=function(e){var t=r.encode(JSON.stringify(e));return t}}}]);
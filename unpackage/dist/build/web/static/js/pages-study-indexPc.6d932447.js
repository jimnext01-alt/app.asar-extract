(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-study-indexPc"],{"008d":function(e,t,r){"use strict";r.r(t);var i=r("db01"),n=r("1e6e");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("b5d5");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"596aa276",null,!1,i["a"],void 0);t["default"]=s.exports},"05bc":function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("c1e8")),o={name:"u-notice-bar",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{show:!0}},methods:{click:function(e){this.$emit("click",e),this.url&&this.linkType&&this.openPage()},close:function(){this.show=!1,this.$emit("close")}}};t.default=o},"0659":function(e,t,r){"use strict";var i=r("cf2f"),n=r.n(i);n.a},"07c5":function(e,t,r){"use strict";var i=r("e75b"),n=r.n(i);n.a},"0a72":function(e,t,r){"use strict";r.r(t);var i=r("2bf2"),n=r("b54d");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("263b");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"75e0247e",null,!1,i["a"],void 0);t["default"]=s.exports},"0ab2":function(e,t,r){var i=r("e061");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("87201632",i,!0,{sourceMap:!1,shadowMode:!1})},"14bd":function(e,t,r){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t)}r("8a8d"),r("926e"),e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},1512:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAABE5JREFUWAnNmM9vG0UUx9+8mdm1s3YKTtPWVkJMUCtqVJUm/IqAJj1U4lIOnPhvoP8N4gASuSAh0bQXWtoEqkCoQApOHeyINAHF3tq7szvDPBdHrhMhx95ErGTZM573/X78PDO7bxj0XMYY1um6CcBgCTC/ACwAwN1aja9XMumNXT7dDFVRRfEoMuHFsclQDOesoU3kS8H30o4sT+Xi9enJRjOXz8cugK4tgYEF0J+Aff/3Yoztf6aufXNqdGAIpGRff1mIWrnMvXSaL664F+otuAIaJyzyc3EUe9hlrQyg3sym4IcbM8GvfrMZ54vF+EULt2btOmDdUPvC3TCUldIC4FoNxN2HTyb/bMqr2rDCYab99iEz1TNpdeedy6crpTxEa0ugu7PVgWoDdcPM26zcLpfF0yAjb/3mLqjQzPRr2s846bCVa+eDpRG3oeaLxei2zVZ3plg3TH55mdfGZvl2C7zvHtVvaG2m+jE56hhEtjH3anZxPAV+fmc5rs3OxvtQBHTTzpdnmQFR3alnVirm40jD2FGNjjJeIOzMTLLPCmPZxnwR9jPFPjUGac5AsSxgdNT56o786Lgy0wtMmfrwqvoC9vZCKBcjmlPsc2O4HcjXtredr++lrrUSnjO9EL3tlJ1TH7zdulUaHw/tdzHS0qbVdP8hTp40DMGRJ3kTA7G095mcuytqDfF+L/1Jtcm7zWD3PKRN78sHqfNas/xJAfT6kDcxEAu6UvK/W/Hl3kEn3SYGYsFHW+4IKDNx0gAH/CwDseDPj/XL/d6bDogk2EEMxIJBoF9KUHcoKWJBFcfZoVQSDCYWBBRegprDSVkW7DxcDaeUTDSxoH3UMsnIJaBiWZAj8xOQSkSCWGyGzP8GiFgwxaGeyM9LQIRYMJ3CPxLQSkRixHM28bVC9LhdHSQiObgIMZTOtip41pFNFKw6uFQykcTQZglTOj7jmZ+SkR1chRiIBXMjUfTeK/x3wc3W4HLDRZI3MRALBkrFzNHRxClzbzjZwaPJmxiIBam8zaSVeveiqHpCrw4uO1gkeZI3MRALUq29G+SiKIjV9SvRXVewymDSR48iL/Ikb2IgFqTCn2rtIB0qB91g7oL8ljOwBcDxXuRBXuRJ3sRALEinEO3C3/cj7mbDF06pxlzJLDpoNo8LibTJg7zIE6w3MRBLu7bvLqUh2nXAkw5olfrmR+ctP9CXkgTzXFy9/nr4PaBsga9CELnwuVL6sMOGdOaJjAPXMRF37q+rQnUP3ghjdm4YMMcu7cIoPHhzWlaZiEPuBmGzcVodOGwgk26oZ4cOts73POE2HSlcLv166KxU5NSWDxdVYAr9FgV0O5Auq57z4JeZSbXhZZ2QJjDNGfqbDj2O6fzqbqjuAyuqKBtNKU2IwkgUO3sqvVrVE34o81EYZmPNR7Qx7cdgZMznGD8VjlP3HFW7VMDNsVHZZEpHtM/Q0qbV9F8HVv8Ab1VE7GXnBiUAAAAASUVORK5CYII="},"18a7":function(e,t,r){"use strict";var i=r("d70a"),n=r.n(i);n.a},"19bc":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uIcon:r("99cf").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"title_view dfac",style:e.wrapStyle,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click")}}},[r("v-uni-image",{staticClass:"title_icon mr12",attrs:{src:e.titleInfo.icon}}),r("v-uni-view",{staticClass:"title fwb5 flex1 fz32"},[e._v(e._s(e.titleInfo.title))]),e.titleInfo.rightTxt?r("v-uni-view",{staticClass:"right_view dfac fz24",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleToNext.apply(void 0,arguments)}}},[e._v(e._s(e.titleInfo.rightTxt)),r("u-icon",{attrs:{name:"arrow-right",size:e.isPad?14*e.$multiplier:14,color:"#33B3DC",bold:!0}})],1):e._e()],1)},o=[]},"19e7":function(e,t,r){e.exports=r.p+"assets/bigplay.682d4265.png"},"1bfe":function(e,t,r){"use strict";r.r(t);var i=r("969c"),n=r("c75e");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("d9f2");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"10085c4b",null,!1,i["a"],void 0);t["default"]=s.exports},"1e6e":function(e,t,r){"use strict";r.r(t);var i=r("dce4"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"20f31":function(e,t,r){"use strict";var i=r("8bdb"),n=r("5145");i({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},"22a0":function(e,t,r){r("5ef2"),r("c9b5"),r("bf0f"),r("ab80"),e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"247d":function(e,t,r){"use strict";var i=r("6a50");i("Uint16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"24d0":function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{itemData:{type:Object,default:function(){}},showBorder:{type:Boolean,default:!0}},components:{},data:function(){return{isPad:getApp().globalData.config.isPad}},methods:{}};t.default=i},"263b":function(e,t,r){"use strict";var i=r("3cba"),n=r.n(i);n.a},2774:function(e,t,r){r("01a2"),r("e39c"),r("bf0f"),r("844d"),r("18f7"),r("de6c"),r("08eb"),e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},2922:function(e,t,r){r("6a88"),r("bf0f"),r("7996"),r("aa9c");var i=r("51b9"),n=r("cdb7");function o(t,r,a){return n()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=o=function(e,t,r){var n=[null];n.push.apply(n,t);var o=Function.bind.apply(e,n),a=new o;return r&&i(a,r.prototype),a},e.exports.__esModule=!0,e.exports["default"]=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},"295e":function(e,t,r){"use strict";var i=r("6a50");i("Uint32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"2bf2":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"banner_view"},[r("v-uni-swiper",{staticClass:"swiper",style:{width:e.deviceWH.windowWidth+"px",height:110*e.deviceWH.windowWidth/355+"px"},attrs:{circular:!0}},e._l(e.bannerList,(function(t,i){return r("v-uni-swiper-item",{key:i,on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleToNext(t)}}},[r("v-uni-image",{style:{width:e.deviceWH.windowWidth+"px",height:110*e.deviceWH.windowWidth/355+"px"},attrs:{src:t.jumpPic}})],1)})),1)],1)},n=[]},"2c14":function(e,t,r){"use strict";r.r(t);var i=r("fbe0"),n=r("8abe");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("a622");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"fed5a3f4",null,!1,i["a"],void 0);t["default"]=s.exports},"2d0b":function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-7508bc40], uni-scroll-view[data-v-7508bc40], uni-swiper-item[data-v-7508bc40]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-notice[data-v-7508bc40]{\ndisplay:flex;\nflex-direction:row;align-items:center;justify-content:space-between}.u-notice__left-icon[data-v-7508bc40]{align-items:center;margin-right:5px}.u-notice__right-icon[data-v-7508bc40]{margin-left:5px;align-items:center}.u-notice__content[data-v-7508bc40]{text-align:right;flex:1;\ndisplay:flex;\nflex-direction:row;flex-wrap:nowrap;overflow:hidden}.u-notice__content__text[data-v-7508bc40]{font-size:14px;color:#f9ae3d;padding-left:100%;word-break:keep-all;white-space:nowrap;-webkit-animation:u-loop-animation-data-v-7508bc40 10s linear infinite both;animation:u-loop-animation-data-v-7508bc40 10s linear infinite both;\ndisplay:flex;\nflex-direction:row}@-webkit-keyframes u-loop-animation-data-v-7508bc40{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}100%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes u-loop-animation-data-v-7508bc40{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}100%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}',""]),e.exports=t},"2ddf":function(e,t,r){"use strict";r.r(t);var i=r("ca7c"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"2fc8":function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("2634")),o=i(r("9b1b")),a=i(r("2fdc"));r("bf0f"),r("2797"),r("c223"),r("fd3c"),r("aa9c"),r("dd2b"),r("8f71");var s=i(r("7725")),l=r("7158"),c={props:{studyData:{type:Object,default:function(){}}},data:function(){return{isShow:!1,fileListIssue:[],fileListAnswer:[],form:{wrongQ:[],wrongA:[]},errorCategory:[]}},mounted:function(){},methods:{show:function(){var e=this;this.isShow=!this.isShow,(0,l.getErrorCategory)().then((function(t){e.errorCategory=t.data,e.errorCategory.forEach((function(t){e.$set(t,"checked",!1)}))}))},handleAfterRead:function(e){var t=this;return(0,a.default)((0,n.default)().mark((function r(){var i,a,l,c,u;return(0,n.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:i=[].concat(e.file),a=t.form[e.name].length,i.map((function(r){t.form[e.name].push((0,o.default)((0,o.default)({},r),{},{status:"uploading",message:"上传中"}))})),l=0;case 4:if(!(l<i.length)){r.next=14;break}return r.next=7,(0,s.default)(i[l]);case 7:c=r.sent,u=t.form[e.name][a],t.form[e.name].splice(a,1,Object.assign(u,{status:"success",message:"",url:c})),a++;case 11:l++,r.next=4;break;case 14:case"end":return r.stop()}}),r)})))()},handleDeletePic:function(e){this.form[e.name].splice(e.index,1)},handleSubmit:function(){var e=this;this.form.categoryIdString=this.errorCategory.filter((function(e){return e.checked})).map((function(e){return e.wrongCategoryId})).join(),this.form.categoryIdString?this.form.wrongQ.length?this.form.wrongA.length?this.form.wrongDesc?(this.form.wrongQ=this.form.wrongQ[0].url,this.form.wrongA=this.form.wrongA[0].url,uni.showLoading({title:"提交中..."}),(0,l.saveCourseError)((0,o.default)((0,o.default)({},this.form),{},{dataId:this.studyData.unitDetailId})).then((function(t){uni.hideLoading(),uni.showToast({title:"提交成功",icon:"none"}),e.isShow=!1}))):uni.showToast({title:"请输入补充说明",icon:"none"}):uni.showToast({title:"请上传答案图片",icon:"none"}):uni.showToast({title:"请上传问题图片",icon:"none"}):uni.showToast({title:"请选择错误类别",icon:"none"})}}};t.default=c},"305b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAAHdbkFIAAAAAXNSR0IArs4c6QAABNNJREFUeAHtWs2LFEcUfz07yO5BkkB2RQ+yuxAESRD8QoLuSo7JLezm7N1LICdD9qSgeBPRP0Fh/4A96CHs6IKQkFPMJTBr9pBE96IomQS3p1O/6nndr6qrZ7tnu8eZtfpSr169z199dHV1EVX/rLcjabSZVKwGzVe8RiJgE1BYnA9MNpguS4bUrgKGdPWV1l/TttEYBw4s6qA90Jn0UnTjgEZWSkyCkWEmrWNNWL0tcpEJZ0ZFKpeON/CkUiqTUo+3TlO485NmHJmbpE+C/9z9kKqYFJSh2GyepT83/0VjfgqP2svUpVVtoU8KpgdfqwkBxySVnsyBJFtAY2DxJLbbenW3AXiNOi9ydAx2akAO49irIUitP5YoiE7QhdkVam0+JZq8SAuHt9ORKA2YqpQssZAJaJsimmZeubkQBL9p5UbjGvsobgBhR9Fx7bnb/YFaz76HkTQFNiknEfP6TKasAVaSmPQxkJ8ClBr0DdvzpUdglBFotVd3fR/2iT9djfoIZZrgNKJlzTf2hRnJXRn5E9FW5Uwxw9m5LSPrG1ufympCW28INwJyGWHNMpliC7KjdhHrbSKsnLyGYzHEWv97pLclMO1ey1wBcCB5pWu9k3sh6PX2Q9JE8S6QWkVoLP+8EWse+FyrYD/16NlVqe7uAikxKA24zYwDAiLd8IEyucJm3V3ArXbZar/Qb0Sbj7qrC1xyFq9cAFLZDmbAAKTJwWkE4x+PgEfAI/B+I4DNyoDP3t6G/CVaZrNiBTr4fkDvC4t9Bls+jWp5BCrIWkZQDoGKspYBFEOgqqyfPD9E5w49lwG4NyR73ZSut98qJ01jl7Tx9wzt/APnvyr+ZxxEuS5grV3L4I0W4URS54odbEn1egJYnPtIOXqZBBFnDudrtDj3Vf0BwEMcxKvUWdY52upBAJYBO0UfgIyf6EumZFlPAGafrxndIb0ruvoAHm8f7I12Zb4Huz0mRBDVB3B++jUFwc3EOTvjIILGKWahdK8DUgK0/RFit6M+4IdJMQQW5mfqOrQrhoDMOA+NWhGQAVSMRnkEZDASjaEhIAOoGA1p2tMeAY+AR8Aj4BHwCHgEPALDQgD3BbCz5A/5YflVfoqdzdQREJKO6I7++dStw0Exm8MFYESSltDUD8AIJl0/ACOedD0ADCNp+OjSPXUR4Ya+iCAzsWmcjoWdH9WtrS4FU1/gwpktgnrxM4FhrdCuswWctoWv1RUM+thIgm9kSGaa+HHJVqneUgem35q8cQGAo9a3QMKH6tD1Q2bpEkA0Jm/3etxOfI2OzH6N27OGTq8yHiPAjjwPCENOncv2SZxFi51MsvSolOeP/kzNqWPqDBjTIvtMTFzXPyJyel0qjB8AmOO4k4S/LlE0L5LBf6n4CcMreldp3VHiZlmODwBm4mKeY6iri+6L8wdoonlGLWvxrylkifu6WLz7ADE+AISd7/RF5KT7OHH1z42HOqYGfoPYQETRZXVx+WSiKojxWwRbm5fo8Oz9JGmRTIbc2DpDYTekhdlfMm09RnEA8ixIvr6a2bmrPnCWJLsU7doHlDJQTrhaAKTvQcHYNwAMCsa+BCALBs4B4ivYsg30vgdAJhxPExOMIQMgw3m3NMDYw9Wzdxu89+4R8Ah4BDwC44nA/waj6T5+FH+zAAAAAElFTkSuQmCC"},"30f7":function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},r("7a76"),r("c9b5")},3249:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uIcon:r("99cf").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"u-notice",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("icon",[e.icon?r("v-uni-view",{staticClass:"u-notice__left-icon"},[r("u-icon",{attrs:{name:e.icon,color:e.color,size:"19"}})],1):e._e()]),r("v-uni-view",{ref:"u-notice__content",staticClass:"u-notice__content"},[r("v-uni-view",{ref:"u-notice__content__text",staticClass:"u-notice__content__text",style:[e.animationStyle]},e._l(e.innerText,(function(t,i){return r("v-uni-text",{key:i,style:[e.textStyle]},[e._v(e._s(t))])})),1)],1),["link","closable"].includes(e.mode)?r("v-uni-view",{staticClass:"u-notice__right-icon"},["link"===e.mode?r("u-icon",{attrs:{name:"arrow-right",size:17,color:e.color}}):e._e(),"closable"===e.mode?r("u-icon",{attrs:{name:"close",size:16,color:e.color},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}}):e._e()],1):e._e()],2)},o=[]},3377:function(e,t,r){"use strict";r.r(t);var i=r("db60"),n=r("4dc43");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("35ff");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"4c72cf65",null,!1,i["a"],void 0);t["default"]=s.exports},3452:function(e,t,r){"use strict";r.r(t);var i=r("8848"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"35ff":function(e,t,r){"use strict";var i=r("d84f"),n=r.n(i);n.a},3710:function(e,t,r){"use strict";var i=r("8bdb"),n=r("1ea2");i({target:"Object",stat:!0,forced:Object.isExtensible!==n},{isExtensible:n})},"38a6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAAHdbkFIAAAAAXNSR0IArs4c6QAAAtJJREFUeAHtWu1x2zAMVXJdIR0gg7RLNNmsHSJbxN3Df3uXBfwviiAF1BMN0gBFfaXwnU2QxMfDE0mRkpum/uf13KLT+1ChDuz8lEeFoNkJoDgq/Hy8Czooh0YWwJqbVi1P/x7ieN/6BgbWXqg6ZtNVxjR7zeufQSGb97XR0VomlEzAM3XUmCFhSiMZ8XfirauwQy4/+6cOYiNFPZ3C3/NT89689D4yKShiuMp8BoRJik6HCYstKNOgESYxqsgOKGp7eUPFlDw6wCE6RJVtSA8Gln4oYwBwrXcARihWdEB50fe+ecYIQYa8Q1snpGcj5pwwJkfpFHJoEILLzsAOGDidX8I9rwDOuBpZjClo2zz1JpN9ocXJoKsHUBqUV4TEaiADYCNMSJsp2yYCokuS00tRrLlQfXMA8iWYk62Seg6Rvp2wBpan81s3+q/OAr2KMTC7tQFgKypjMIUA0GW5TGD84ww4A87A/80AbVYKP/PuhnwS1W5WBJDl+4F+i6Y7BgtxQ5OdgQpZh+idYGOgUtYIQMfAnKxvbFJlAGzEUHNPLVinsLRdAk0QAh8nkLGrDyATTOpyAM6APA2l0aJtM54PZACxk/gQogWj0NOfjPA5vOQ4Bi3pCG16AGycYqMQgH0W/Hj8nnygyiANpZ0BdI5srMYAAqjMBrp22RlwBpwBZ8AZcAacAWdgLQZos087S8OBvhY0+UhUy3vODyXdNr/7l0/vOcVl+9YlYCdJI6XLE7DDpJcnYOdJL0PAVknHC6fxaK6fAnEgpJHkDReyGIqlrifA4rWmbky88QrfgmJ/LHXL48H6nYCDXbDqcH0EVKf0YA73fxeovOrH10dPgAYIvdBuLn+6A86vONBe6/NejuSyKiVDQ3QurrFvOQIQiIWML0nANRn0HGD4Czb2kfzlCcCEh5ExJWNlAhDOtjKRMeOvZ9uC9+jOgDPgDDgDx2TgAweZ71+epUwnAAAAAElFTkSuQmCC"},"3a7e":function(e,t,r){r("7a76"),r("c9b5"),e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"3ab4":function(e,t,r){var i=r("8952");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("7e680e08",i,!0,{sourceMap:!1,shadowMode:!1})},"3cba":function(e,t,r){var i=r("e6cb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("69a081ab",i,!0,{sourceMap:!1,shadowMode:!1})},"3e54":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA/CAYAAAEgWCBJAAAAAXNSR0IArs4c6QAABbpJREFUaAXtm01oHVUUx5uqAS0pgoKpCylFrAEtLdkkiG4EIQurQRduRSkIEcSFC104LuzChatAIejeRa1fi64EUTDZPCtRiBWR4qKt25YoRGz8/6Y9w5n75r6Zee/Ne+ZND5x3zz333PNx586999xJ9u3LwyFV3/asKVdJHG1kYgJFjanQfv2iNoXd3d13IayERuBliBggcDrWCL/UBxNAOOEngOSOgPG66vcJfzO+aUiM4crLotdwMnFMTz5IBYEM1tfXl/0YqCHJCWSSjigVwMl7hG+5Tp5Mw/xHnH+FR3yL6IS6hQltkBgRKT8Q/y9r8woSY1Ysv5bcd6agqzND1ul0/lhZWelAo3RxcfEzSgc7d6rC4+uChYWFY7eYHUeHCqYZ5uy5d2mpwIiGUKEvImdsNn6jyiPCGWFVSCS4bR6EnXi1p0Om6meEf3p+TAEyS8ITwuvCs8Irwi4IFfSaltY5MYLSKzilevoOeYEInRjf3pYnxajamb4JP4ApePpmtdZvgjQKGPEcMHVt+tLg6ZygKkzlrscVTt1b9XAao+uQhUClH3hxUAUzgyq4MKiC80ykB4Sv9TMA6pOuy7mXo4Yi1sZsIiU1OiJ6WZgurP5doCHhpwTSxdRkQgXwY2Oyo7bT1tHKIgXW5kuUviLsmrVeyNEY+1hYOr69HOAN7+cldX5kZG7YMq6IIgdOiV9nafH6ymge/poX8g5UWU1930HobHu3XYln/MYgGmv2fULyW8JsV0uqKPCnq42NjU1/VPBtU1NT71XRJ5l0JWD3GxcssRiy9Y4LTuAA+/644DoOcOgYF5zFAU48rFyjBmxe8etAMmIPUnveAewPc/mNxZNblkMHrFMTy3HXMoyxmAPmyDCW52zZNaW+LHPAyxpNDn5c+LDQEgpeZVKdH4WFx3jxC6GuA7w188KjwlnhAeG28KrworAjvCGsBFWNPydtdVbLC5L/osyDMuPPSgGR9guMxFexzr2MJ7FOffALdRUZPyjlb/ZhoKzLhxK45oWYQB7uUqUJw9hAL/ozCI2/k7U0Q+T0e+Oxi51hu5HZMeOcclnVRgHYwV6WN7GujxJSe4W5d8wLn8T7g+bq6uq84CHr59uMV1BOY3y5oKGQ5S4EaM8uAjAcaytUdJO5zDOf6yHQZNOcTbgmjUR13zYeHZomG24Pe5OjG9XNsJNXjwO2MH5uHJaxayeZZAwOpJcI2F0bsfHUnr1qpDXZN5uGHcEO9rL9HJr0ZhSQ2bHIzej7RjRU5vTb1ZnZItX5QbhojCGWHJ3/9vpstnue0YkRQygLdfUyjs2xpUs+4OdVITWuCqTLn5cJl0Ue9meCjjxFDp3oVScl4lwIHhbeLewXmKCXhOw/IB+lhwZ1R77IMAnIU8JHixob4v0ivd8K08WyXxv9Bk+gJ4WjyvJ6xceO8aWQAakFdYJnOhPw47UsjFb4J5ljICq9HlWCPyhlrwop9wpck6MfCSmjUBb8C+r5f37S0cBuNTATPo0JxYLnnX4p1mkP8j+Rz11rQni2Ii5OFc9ATBA8plhmhL/6mMLgedrHvMAE0WzJs8KfLSYfPEc4RmiS4X4Fd68wfQW4IgR42sdTakg//uO4Vxl+RPdt3H8GV41Zc40P7FmfCEGcvws3OSuDS8I2AfHut0RhkPP3Xhw04p0neD4ithGOEjwrYBthluD5bNxGOEDwfC9vI2wT/NU2Rk7cBM9fSLQRLhJ8R5i7z2zBSBBvh+C5KD7fgoB9iMR7w463m6ocEQ7tiMsx1lszmn8tMTose7WFsgPU+fuj1LcwnyerI5efVCChIbdPwWd1MEj3yHtJ/yYNWNvO+aDC4Gkj4Wf7m6T0lqf9vTAH4bTPNarSyjs8Pwjc2rby9tYPQivv7f0AGM2OcFLYmi82FnhYsjO06ltdOAC+Pq0KM2NOeFg4yC0Rx9BLwi0he/SOcGjwH3EbEPF8TEPUAAAAAElFTkSuQmCC"},"3f54":function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.popup_view[data-v-5575e50e]{padding:%?56?% %?44?%;width:%?710?%}.popup_view .content[data-v-5575e50e]{max-height:%?864?%;display:flex;flex-direction:column}.popup_view .content .wrong_view[data-v-5575e50e]{display:flex;flex-direction:row;flex-wrap:wrap}.popup_view .f_item[data-v-5575e50e]{height:%?50?%;padding:0 %?18?%;background:#f0f0f0;border:%?2?% solid #e2e2e2}.popup_view .check[data-v-5575e50e]{background:#f58b6a}.popup_view .des_area[data-v-5575e50e]{background:#f0f0f0;padding:%?32?% %?24?%;border:%?2?% solid #e2e2e2;box-sizing:border-box;min-height:%?170?%;flex:1}.popup_view .btn_view[data-v-5575e50e]{display:flex;flex-direction:row;justify-content:center;font-size:%?32?%}.popup_view .btn[data-v-5575e50e]{width:%?232?%;height:%?64?%;background:#fff;border:%?2?% solid #f58b6a;border-radius:%?44?%;color:#f58b6a}.popup_view .sub_btn[data-v-5575e50e]{background:linear-gradient(180deg,#f3916f,#ff7253);color:#fff}@media screen and (min-width:768px){.popup_view[data-v-5575e50e]{padding:%?56?% %?44?%;width:%?710?%}.popup_view .content[data-v-5575e50e]{max-height:%?864?%;display:flex;flex-direction:column}.popup_view .content .wrong_view[data-v-5575e50e]{display:flex;flex-direction:row;flex-wrap:wrap}.popup_view .f_item[data-v-5575e50e]{height:%?50?%;padding:0 %?18?%;background:#f0f0f0;border:%?2?% solid #e2e2e2}.popup_view .check[data-v-5575e50e]{background:#f58b6a}.popup_view .des_area[data-v-5575e50e]{background:#f0f0f0;padding:%?32?% %?24?%;border:%?2?% solid #e2e2e2;box-sizing:border-box;min-height:%?170?%;flex:1}.popup_view .btn_view[data-v-5575e50e]{display:flex;flex-direction:row;justify-content:center;font-size:%?32?%}.popup_view .btn[data-v-5575e50e]{width:%?232?%;height:%?64?%;background:#fff;border:%?2?% solid #f58b6a;border-radius:%?44?%;color:#f58b6a}.popup_view .sub_btn[data-v-5575e50e]{background:linear-gradient(180deg,#f3916f,#ff7253);color:#fff}}',""]),e.exports=t},4085:function(e,t,r){"use strict";var i=r("8bdb"),n=r("85c1");i({global:!0,forced:n.globalThis!==n},{globalThis:n})},"415a":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("v-uni-view",{staticClass:"dfac title_view pl22 pt24 mb46"},[r("v-uni-image",{staticClass:"title_iocn mr12",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1728876056809.png"}}),r("v-uni-text",{staticClass:"fwb5 c333"},[e._v("学员评论")])],1),e._l(e.comments.commentList,(function(t,i){return r("commentItem",{key:i,attrs:{itemData:t,showBorder:i!=e.comments.commentList.length-1}})}))],2)},n=[]},4273:function(e,t,r){"use strict";r.r(t);var i=r("a7f2"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"42ff":function(e,t,r){"use strict";r.r(t);var i=r("6ebf"),n=r("b40b");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("b0dc");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"41b4ffb8",null,!1,i["a"],void 0);t["default"]=s.exports},4472:function(e,t,r){var i=r("8cf5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("a46c2410",i,!0,{sourceMap:!1,shadowMode:!1})},4550:function(e,t,r){r("6a54");var i=r("8bcf");e.exports=function(e,t,r){return t=i(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},4733:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(Array.isArray(e))return(0,i.default)(e)};var i=function(e){return e&&e.__esModule?e:{default:e}}(r("8d0b"))},"48e5":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uNoticeBar:r("7026").default},n=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",[t("v-uni-view",{staticClass:"player_container"},[t("div",{attrs:{id:"J_prismPlayer"}},[t("v-uni-view",{staticClass:"tip"},[this.showDamu?t("u-notice-bar",{attrs:{text:this.playData.danmu,icon:"",speed:"50",bgColor:"rgba(0,0,0,0)"}}):this._e()],1)],1)])],1)},o=[]},"4a85":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAPVJREFUeAHtmVEKgzAQBW3pEez9D1jvYL+EJc0SArINzPjTZFGzb95Tqm6bmwQkIAEJSEACVAKPu4V/juPsnfO971Nr3XWeXi+x9owT4lgARNejZhMQaRDHJoDoetRsAiIN4tgEEF2Pml9x0htn/8l7+1bUZvsZPYN4CVS4tvIaJmBldyp6wyegArJrSEACEpCABCQgAQlIQALrERh+sZ19A5NJHL2ZaY+rWhf/NCiANnq0uQmgOd7qHX4X+Nfdu230ms/2cx2X/XoJZGQodRNAcTrTaQIyMpS6CaA4nek0ARkZSh2fAIrR6pSABCQgAQlI4JfAF63mHEuwxA6mAAAAAElFTkSuQmCC"},"4b94":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uIcon:r("99cf").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{ref:"u-rate",staticClass:"u-rate",style:[e.$u.addStyle(e.customStyle)],attrs:{id:e.elId}},[r("v-uni-view",{staticClass:"u-rate__content",on:{touchmove:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.touchMove.apply(void 0,arguments)},touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.touchEnd.apply(void 0,arguments)}}},e._l(Number(e.count),(function(t,i){return r("v-uni-view",{key:i,staticClass:"u-rate__content__item",class:[e.elClass]},[r("v-uni-view",{ref:"u-rate__content__item__icon-wrap",refInFor:!0,staticClass:"u-rate__content__item__icon-wrap",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clickHandler(t,i+1)}}},[r("u-icon",{attrs:{name:Math.floor(e.activeIndex)>i?e.activeIcon:e.inactiveIcon,color:e.disabled?"#c8c9cc":Math.floor(e.activeIndex)>i?e.activeColor:e.inactiveColor,"custom-style":{"padding-left":e.$u.addUnit(e.gutter/2),"padding-right":e.$u.addUnit(e.gutter/2)},size:e.size}})],1),e.allowHalf?r("v-uni-view",{ref:"u-rate__content__item__icon-wrap",refInFor:!0,staticClass:"u-rate__content__item__icon-wrap u-rate__content__item__icon-wrap--half",style:[{width:e.$u.addUnit(e.rateWidth/2)}],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clickHandler(t,i+1)}}},[r("u-icon",{attrs:{name:Math.ceil(e.activeIndex)>i?e.activeIcon:e.inactiveIcon,color:e.disabled?"#c8c9cc":Math.ceil(e.activeIndex)>i?e.activeColor:e.inactiveColor,"custom-style":{"padding-left":e.$u.addUnit(e.gutter/2),"padding-right":e.$u.addUnit(e.gutter/2)},size:e.size}})],1):e._e()],1)})),1)],1)},o=[]},"4c9a":function(e,t,r){"use strict";r.r(t);var i=r("19bc"),n=r("4273");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("f922");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"7e96fd2a",null,!1,i["a"],void 0);t["default"]=s.exports},"4cf1":function(e,t,r){r("01a2"),r("e39c"),r("bf0f"),r("844d"),r("18f7"),r("de6c"),r("7a76"),r("c9b5");var i=r("79b7");e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"4d13":function(e,t,r){"use strict";r.r(t);var i=r("72d4"),n=r("601f");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("fb2c");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"56f6ce02",null,!1,i["a"],void 0);t["default"]=s.exports},"4db6":function(e,t,r){r("6a54");var i=r("8bcf");function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"4dc43":function(e,t,r){"use strict";r.r(t);var i=r("f3c1"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"4f54":function(e,t,r){"use strict";r.r(t);var i=r("b966"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"512e":function(e,t,r){"use strict";r.r(t);var i=r("4b94"),n=r("3452");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("07c5");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"30ed47a6",null,!1,i["a"],void 0);t["default"]=s.exports},"51b9":function(e,t,r){function i(t,r){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t,r)}r("8a8d"),e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"52fc":function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.comment_item[data-v-10085c4b]{display:flex;flex-direction:row;justify-content:center;align-items:flex-start}.comment_item .right_view[data-v-10085c4b]{font-size:12px}.comment_item .time[data-v-10085c4b]{font-size:%?22?%}.comment_item .border_view[data-v-10085c4b]{border-bottom:%?2?% solid #e6e6e6}.comment_item .user_icon[data-v-10085c4b]{width:%?52?%;flex-shrink:0}.comment_item .head_icon[data-v-10085c4b]{width:%?52?%;height:%?52?%;height:%?52?%;border-radius:%?26?%}.comment_item .like_icon[data-v-10085c4b]{width:%?22?%;height:%?20?%;flex-shrink:0}@media screen and (min-width:768px){.comment_item[data-v-10085c4b]{display:flex;flex-direction:row;justify-content:center;align-items:flex-start}.comment_item .right_view[data-v-10085c4b]{font-size:12px}.comment_item .time[data-v-10085c4b]{font-size:%?22?%}.comment_item .border_view[data-v-10085c4b]{border-bottom:%?2?% solid #e6e6e6}.comment_item .user_icon[data-v-10085c4b]{width:%?52?%;flex-shrink:0}.comment_item .head_icon[data-v-10085c4b]{width:%?52?%;height:%?52?%;height:%?52?%;border-radius:%?26?%}.comment_item .like_icon[data-v-10085c4b]{width:%?22?%;height:%?20?%;flex-shrink:0}}',""]),e.exports=t},"553c":function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{bannerList:{type:Array,default:function(){return[]}}},data:function(){return{deviceWH:getApp().globalData.config.deviceWH}},methods:{handleToNext:function(e){this.$redirectFn(e)}}};t.default=i},"56a8":function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("64aa"),r("9c4e");var i={props:{offsetTop:{type:[String,Number],default:uni.$u.props.sticky.offsetTop},customNavHeight:{type:[String,Number],default:44},disabled:{type:Boolean,default:uni.$u.props.sticky.disabled},bgColor:{type:String,default:uni.$u.props.sticky.bgColor},zIndex:{type:[String,Number],default:uni.$u.props.sticky.zIndex},index:{type:[String,Number],default:uni.$u.props.sticky.index}}};t.default=i},"56c9":function(e,t,r){r("9e15"),r("884b"),r("01a2"),r("e39c"),r("bf0f"),r("7a76"),r("c9b5"),r("64aa");var i=r("bdbb")["default"];e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"59a6":function(e,t,r){r("7a76"),r("c9b5"),r("6a54");var i=r("51b9");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"59f0":function(e,t,r){var i=r("c86c"),n=r("2ec5"),o=r("19e7"),a=r("e05e"),s=r("d183"),l=r("68db"),c=r("4a85"),u=r("7d79"),d=r("edc4"),p=r("38a6"),h=r("b6d28"),f=r("305b"),g=r("682a"),_=r("3e54"),m=r("1512"),y=r("f5f9"),v=r("6df4"),b=r("feae");t=i(!1);var w=n(o),S=n(a),x=n(s),T=n(l),k=n(c),E=n(u),C=n(d),P=n(p),A=n(h),R=n(f),I=n(g),L=n(_),D=n(m),O=n(y),M=n(v),N=n(b);t.push([e.i,".prism-player .prism-big-play-btn{background:url("+w+") no-repeat;background-size:contain;width:64px;height:64px}.prism-player .prism-big-play-btn .outter{border:7px solid hsla(0,0%,100%,.51);width:64px;height:64px;border-radius:100%;position:absolute;box-sizing:border-box;top:0;left:0}.prism-player .prism-big-play-btn:hover{cursor:pointer}.prism-player .prism-play-btn{width:24px;height:24px;background:url("+S+") no-repeat;background-size:contain}.prism-player .prism-play-btn:hover{cursor:pointer}.prism-player .prism-live-display{font-size:12px;color:#ebecec;line-height:44px;text-align:center;margin:0}.prism-player .live-shift-display:hover{cursor:pointer;font-size:14px}.prism-player .prism-play-btn.playing{background:url("+x+") no-repeat;background-size:contain}.prism-player .prism-play-btn.playing:hover{cursor:pointer}.prism-player .prism-fullscreen-btn{width:24px;height:24px;background:url("+T+") no-repeat;background-size:contain}.prism-player .prism-fullscreen-btn:hover{cursor:pointer}.prism-player .prism-fullscreen-btn.fullscreen{background:url("+k+") no-repeat;background-size:contain}.prism-player .prism-fullscreen-btn.fullscreen:hover{animation:hoverAnimationScale 1s 1;-moz-animation:hoverAnimationScale 1s 1;-webkit-animation:hoverAnimationScale 1s 1;-o-animation:hoverAnimationScale 1s 1;cursor:pointer}.prism-player .prism-volume{position:relative}.prism-player .prism-volume .volume-icon{width:28px;height:28px;background:url("+E+");background-size:contain}.prism-player .prism-volume .volume-icon .long-horizontal{width:3px;background:#ebecec;height:18px;position:absolute;right:5px;top:50%;-ms-transform:translateY(-50%);-webkit-transform:translateY(-50%);transform:translateY(-50%)}.prism-player .prism-volume .volume-icon .short-horizontal{width:3px;background:#ebecec;height:8px;position:absolute;right:10px;top:50%;-ms-transform:translateY(-50%);-webkit-transform:translateY(-50%);transform:translateY(-50%)}.prism-player .prism-volume .volume-icon:hover{-ms-transform-origin:0 50%;-webkit-transform-origin:0 50%;transform-origin:0 50%;background-size:contain;cursor:pointer}.prism-player .prism-volume .mute .long-horizontal{-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);transform:rotate(-45deg);height:12px;top:10px;left:22px}.prism-player .prism-volume .mute .short-horizontal{-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);height:12px;top:10px;left:22px}.prism-player .prism-volume-control{position:absolute;bottom:44px;display:none;background:rgba(60,60,60,.95);box-shadow:0 0 6px 0 rgba(0,0,0,.1);width:32px;height:130px;z-index:10000}.prism-player .prism-volume-control .volume-control-icon{width:32px;height:32px;background:url("+C+") no-repeat;background-size:contain}.prism-player .prism-volume-control .volume-control-icon:hover{cursor:pointer;background:url("+P+") no-repeat;background-size:contain}.prism-player .prism-volume-control .volume-control-icon.mute{background:url("+A+") no-repeat;background-size:contain}.prism-player .prism-volume-control .volume-control-icon.mute:hover{background:url("+R+") no-repeat;background-size:contain;cursor:pointer}.prism-player .prism-volume-control:hover{cursor:pointer}.prism-player .prism-volume-control .volume-control-icon{position:absolute;bottom:6px;left:8px;width:26px;height:26px}.prism-player .prism-volume-control .volume-range{position:absolute;left:14px;bottom:10px;border-radius:1px;background:#6c6262;box-shadow:inset 1px 1px 1px 0 rgba(0,0,0,.06);width:4px;height:100px}.prism-player .prism-volume-control .volume-value{width:100%;height:0%;background:#30adf2;position:absolute;border-radius:1px;bottom:0}.prism-player .prism-volume-control .volume-cursor{position:absolute;bottom:0;background:#fff;width:15px;height:15px;border-radius:15px;left:-6px}.prism-player .prism-volume-control .volume-cursor:hover{background:#00c1de}.prism-player .prism-animation{width:64px;height:64px;border-radius:64px;opacity:0;position:absolute;left:50%;top:50%;-ms-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.prism-player .prism-play-animation{background:url("+I+") no-repeat;background-size:contain}.prism-player .prism-pause-animation{background:url("+L+') no-repeat;background-size:contain}.prism-player .play-apply-animation{animation:prismplayanimation 1s 1;-moz-animation:prismplayanimation 1s 1;-webkit-animation:prismplayanimation 1s 1;-o-animation:prismplayanimation 1s 1;-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes prismplayanimation{0%{width:32px;height:32px;border-radius:32px;opacity:0}50%{width:32px;height:32px;border-radius:32px;opacity:1}99%{width:76px;height:76px;border-radius:76px;opacity:0}100%{width:0;height:0}}@keyframes prismplayanimation{0%{width:32px;height:32px;border-radius:32px;opacity:0}50%{width:32px;height:32px;border-radius:32px;opacity:1}99%{width:76px;height:76px;border-radius:76px;opacity:0}100%{width:0;height:0}}@-webkit-keyframes spinoffPulse{0%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0)}100%{transform:rotate(1turn);-webkit-transform:rotate(1turn);-moz-transform:rotate(1turn)}}@keyframes spinoffPulse{0%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0)}100%{transform:rotate(1turn);-webkit-transform:rotate(1turn);-moz-transform:rotate(1turn)}}@-webkit-keyframes hoverAnimationRotate{0%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0)}50%{transform:rotate(45deg);-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg)}100%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0)}}@keyframes hoverAnimationRotate{0%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0)}50%{transform:rotate(45deg);-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg)}100%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0)}}@-webkit-keyframes hoverAnimationScale{0%{transform:scale(1);-webkit-transform:scale(1);-moz-transform:scale(1)}50%{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2)}100%{transform:scale(1);-webkit-transform:scale(1);-moz-transform:scale(1)}}@keyframes hoverAnimationScale{0%{transform:scale(1);-webkit-transform:scale(1);-moz-transform:scale(1)}50%{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2)}100%{transform:scale(1);-webkit-transform:scale(1);-moz-transform:scale(1)}}@-webkit-keyframes hoverAnimationScaleX{0%{transform:scaleX(1);-webkit-transform:scaleX(1);-moz-transform:scaleX(1)}50%{transform:scaleX(1.2);-webkit-transform:scaleX(1.2);-moz-transform:scaleX(1.2)}100%{transform:scaleX(1);-webkit-transform:scaleX(1);-moz-transform:scaleX(1)}}@keyframes hoverAnimationScaleX{0%{transform:scaleX(1);-webkit-transform:scaleX(1);-moz-transform:scaleX(1)}50%{transform:scaleX(1.2);-webkit-transform:scaleX(1.2);-moz-transform:scaleX(1.2)}100%{transform:scaleX(1);-webkit-transform:scaleX(1);-moz-transform:scaleX(1)}}@-webkit-keyframes hoverVolumeAnimation{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes hoverVolumeAnimation{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.volume-hover-animation{animation:hoverVolumeAnimation .3s 1;-moz-animation:hoverVolumeAnimation .3s 1;-webkit-animation:hoverVolumeAnimation .3s 1;-o-animation:hoverVolumeAnimation .3s 1}@-webkit-keyframes hoverPlayButtonAnimation{0%{width:63px;height:63px;border:7px solid #fff}60%{width:90px;height:90px;border:7px solid hsla(0,0%,100%,.51)}100%{width:97px;height:97px;border:14px solid hsla(0,0%,100%,0)}}@keyframes hoverPlayButtonAnimation{0%{width:63px;height:63px;border:7px solid #fff}60%{width:90px;height:90px;border:7px solid hsla(0,0%,100%,.51)}100%{width:97px;height:97px;border:14px solid hsla(0,0%,100%,0)}}@-webkit-keyframes warn{0%{-webkit-transform:scale(1);transform:scale(1);opacity:0}25%{-webkit-transform:scale(1);transform:scale(1);opacity:.1}50%{-webkit-transform:scale(1.1);transform:scale(1.1);opacity:.3}75%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:.5}100%{-webkit-transform:scale(2);transform:scale(2);opacity:0}}@keyframes warn{0%{-webkit-transform:scale(1);transform:scale(1);opacity:0}25%{-webkit-transform:scale(1);transform:scale(1);opacity:.1}50%{-webkit-transform:scale(1.1);transform:scale(1.1);opacity:.3}75%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:.5}100%{-webkit-transform:scale(2);transform:scale(2);opacity:0}}.big-playbtn-hover-animation{animation:warn 1s ease-out;-moz-animation:warn 1s ease-out;-webkit-animation:warn 1s ease-out;-o-animation:warn 1s ease-out}.big-playbtn-hover-animation1{animation:hoverPlayButtonAnimation 1s 1;-moz-animation:hoverPlayButtonAnimation 1s 1;-webkit-animation:hoverPlayButtonAnimation 1s 1;-o-animation:hoverPlayButtonAnimation 1s 1}.prism-player{background-color:#000;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.prism-player a{text-decoration:none}.prism-player uni-video{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform-origin:center;-moz-transform-origin:center;-webkit-transform-origin:center;-o-transform-origin:center}.prism-player .x5-full-screen{object-fit:fill;object-position:50% 50%}.prism-player .x5-top-left{object-fit:contain;object-position:0 0}.prism-player .prism-cover{width:100%;height:100%;background-repeat:no-repeat;background-position:50%;background-size:cover;position:absolute;top:0;left:0;z-index:11}.prism-player .prism-text-overlay{width:100%;height:100%;position:absolute;top:0;left:0;z-index:9;pointer-events:none}.prism-player .prism-ErrorMessage{width:100%;height:100%;background-color:#000;background-repeat:no-repeat;background-position:50%;background-size:contain;position:absolute;z-index:99;top:0;left:0;overflow:hidden;display:none;-webkit-user-select:all;-ms-user-select:all;user-select:all}.prism-player .prism-ErrorMessage .prism-error-content,.prism-player .prism-ErrorMessage .prism-error-detail{margin-top:20px;padding:0 5px}.prism-player .prism-ErrorMessage .prism-error-content p,.prism-player .prism-ErrorMessage .prism-error-detail p{text-align:center;font-size:12px;color:#fff}.prism-player .prism-ErrorMessage .prism-error-operation{margin-top:10px;margin-bottom:10px;padding-bottom:5px;border-bottom:1.5px;border-bottom-color:hsla(0,0%,100%,.15);border-bottom-style:dotted;text-align:center}.prism-player .prism-ErrorMessage .prism-error-operation a{width:80px;height:32px;line-height:32px;vertical-align:top;display:inline-block;margin-left:10px}.prism-player .prism-ErrorMessage .prism-error-operation a.prism-button-refresh{color:#21c5e0;border:solid 1px #21c5e0}.prism-player .prism-ErrorMessage .prism-error-operation a.prism-button-refresh:hover{color:#05d3f5;border-color:#05d3f5;cursor:pointer}.prism-player .prism-ErrorMessage .prism-error-operation a.prism-button-refresh:active{color:#026a7b;border-color:#026a7b}.prism-player .prism-ErrorMessage .prism-error-operation .prism-button-orange:visited{color:#05d3f5}.prism-player .prism-ErrorMessage .prism-detect-info{color:#fff;font-size:10px}.prism-player .prism-ErrorMessage .prism-detect-info p{padding:0 5px;word-break:break-all;margin:0 0 4px}.prism-player .prism-ErrorMessage .prism-detect-info span.info-label{display:inline-block;font-weight:700}.prism-player .prism-ErrorMessage .prism-detect-info span.info-content{color:grey}.prism-player .prism-big-play-btn{display:none;z-index:1000}.prism-player .prism-unmute-btn{display:none;z-index:1000;width:160px;height:60px;color:#fff;border:1px solid #fff;border-radius:5px;background-color:rgba(0,0,0,.3);text-align:center;line-height:60px;cursor:pointer;font-weight:lighter;transition:background-color .2s}@media (max-width:480px){.prism-player .prism-unmute-btn{display:none;width:120px;height:40px;line-height:40px;font-size:14px;font-weight:400}}.prism-player .prism-unmute-btn:hover{background-color:rgba(0,0,0,.5);font-weight:400}.prism-player .prism-controlbar{width:100%;height:44px;position:relative;z-index:10;font-size:14px}.prism-player .prism-controlbar .prism-controlbar-bg{background:rgba(75,75,75,.15);width:100%;height:40px;position:absolute;bottom:0;left:0;z-index:-1}.prism-player .prism-time-display{height:40px;line-height:40px;color:#a4aab3;font-size:12px}.prism-player .prism-time-display .current-time{color:#fff}.prism-player .prism-live-time-display{height:44px;line-height:44px;color:#a4aab3;font-size:12px}.prism-player .prism-live-time-display span{display:inline}.prism-player .prism-live-time-display .live-text{margin-left:5px;font-size:12px;color:#ebecec}.prism-player .prism-live-time-display .current-time{color:#fff}.prism-player .prism-fullscreen-btn:hover{animation:hoverAnimationScale 1s 1;-moz-animation:hoverAnimationScale 1s 1;-webkit-animation:hoverAnimationScale 1s 1;-o-animation:hoverAnimationScale 1s 1}.prism-player .prism-progress-mobile::after{display:block;content:"";margin-top:-20px;height:40px;width:100%}.prism-player .prism-progress-mobile{cursor:none!important}.prism-player .prism-liveshift-progress,.prism-player .prism-progress{bottom:40px!important;width:100%;height:4px;background:rgba(195,197,198,.5);box-shadow:inset 1px 1px 1px 0 rgba(0,0,0,.06);position:relative;cursor:pointer}.prism-player .prism-liveshift-progress .prism-progress-time,.prism-player .prism-progress .prism-progress-time{position:absolute;top:-25px;background:rgba(0,0,0,.8);box-shadow:0 0 5px 0 rgba(0,0,0,.1);-webkit-box-shadow:0 0 5px 0 rgba(0,0,0,.1);color:#fff;font-size:14px;border-radius:7.5px;padding:0 6px 0 6px;text-align:center;white-space:nowrap}.prism-player .prism-liveshift-progress .prism-progress-loaded,.prism-player .prism-progress .prism-progress-loaded{position:absolute;top:0;left:0;width:0;height:100%;background:#c3c5c6}.prism-player .prism-liveshift-progress .prism-progress-played,.prism-player .prism-progress .prism-progress-played{position:absolute;top:0;left:0;width:0;height:100%;background-color:#00c1de}.prism-player .prism-liveshift-progress .prism-progress-mask-left,.prism-player .prism-liveshift-progress .prism-progress-mask-right,.prism-player .prism-progress .prism-progress-mask-left,.prism-player .prism-progress .prism-progress-mask-right{position:absolute;top:0;left:0;width:0;height:100%;background-color:initial;cursor:not-allowed}.prism-player .prism-liveshift-progress .prism-progress-mask-right,.prism-player .prism-progress .prism-progress-mask-right{left:auto;right:0}.prism-player .prism-liveshift-progress .prism-progress-cursor,.prism-player .prism-progress .prism-progress-cursor{position:absolute;border-radius:8px;top:-5px;width:16px;height:16px;overflow:hidden;box-sizing:initial;background:url('+D+") 50%;display:none}.prism-player .prism-liveshift-progress .prism-progress-cursor img,.prism-player .prism-progress .prism-progress-cursor img{width:14px;height:14px;position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.prism-player .prism-liveshift-progress .cursor-hover,.prism-player .prism-progress .cursor-hover{border-radius:9px;width:18px;height:18px;top:-5px!important}.prism-player .prism-liveshift-progress .cursor-hover img,.prism-player .prism-progress .cursor-hover img{width:16px;height:16px}.prism-player .prism-liveshift-progress .prism-progress-marker,.prism-player .prism-progress .prism-progress-marker{width:100%;height:100%;position:absolute}.prism-player .prism-liveshift-progress .prism-progress-marker .prism-marker-dot,.prism-player .prism-progress .prism-progress-marker .prism-marker-dot{position:absolute;background:#d9edf7;width:5px;height:100%;border-radius:20%}.prism-player .prism-progress.prism-progress-disabled{pointer-events:none}.prism-player .prism-progress.prism-progress-disabled .prism-progress-cursor{display:none!important}.prism-player .prism-progress-hover{cursor:pointer;height:6px;transition:height .1s}.prism-player .prism-progress-hover .prism-marker-dot{width:10px;height:80%;top:8%;border-radius:30%}.prism-player .prism-progress-hover .prism-progress-cursor{top:-4px}.prism-player .prism-liveshift-progress{background:0 0}.prism-player .prism-liveshift-progress .prism-enable-liveshift{cursor:pointer;position:absolute;background:#fff;height:4px}.prism-player .prism-liveshift-progress .prism-enable-liveshift:hover{height:6px;transition:height .1s}.prism-player .prism-liveshift-progress .prism-liveshift-seperator{height:15px;position:absolute;right:0;top:-8px;color:#fff;margin-right:5px;margin-left:5px;right:-65px}.prism-player .prism-marker-text{padding:5px;background:rgba(0,0,0,.8);position:absolute;max-width:180px;max-height:100px;bottom:50px;color:#fff;border-radius:3px;z-index:9999;display:none;overflow:auto}.prism-player .prism-marker-text p{text-align:center;word-break:break-all;margin:0;font-size:12px}.prism-player .prism-loading{width:55px;height:55px;z-index:10}.prism-player .prism-loading .circle-androidFirefox{background-color:transparent;border:5px solid;border-color:rgba(0,193,222,.2) rgba(0,193,222,.5) rgba(0,193,222,.7) rgba(0,193,222,.1);opacity:.9;border-radius:50px;width:45px;height:45px;margin:0 auto}.prism-player .prism-loading .circle{background-color:transparent;border:5px solid;border-color:rgba(0,193,222,.2) rgba(0,193,222,.5) rgba(0,193,222,.7) rgba(0,193,222,.1);opacity:.9;border-radius:50px;width:45px;height:45px;margin:0 auto;-moz-animation:spinoffPulse .9s infinite linear;-webkit-animation:spinoffPulse .9s infinite linear}.prism-player .prism-hide{display:none}@-webkit-keyframes arrow-flow-forward{0%{border-left-color:transparent}50%{border-left-color:#fff}100%{border-left-color:transparent}}@keyframes arrow-flow-forward{0%{border-left-color:transparent}50%{border-left-color:#fff}100%{border-left-color:transparent}}.prism-player .prism-press-fast-forward{display:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-top:20px;position:relative;z-index:9}.prism-player .ff-arrow-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;padding:10px 12px;font-size:14px;color:#fff;background-color:rgba(0,0,0,.2);border-radius:6px}.prism-player .ff-arrow-container-hide{display:none}.prism-player .ff-arrow{display:inline-block;width:0;height:0;border:8px solid transparent;border-left:8px solid #fff;box-sizing:border-box;-webkit-animation:arrow-flow-forward 1s infinite;animation:arrow-flow-forward 1s infinite}.prism-player .ff-arrow-container-revert .ff-arrow{-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.prism-player .ff-arrow-container-revert .ff-text{margin-left:6px}.prism-player .ff-arrow.ff-arrow2{-webkit-animation-delay:.1s;animation-delay:.1s}.prism-player .ff-arrow.ff-arrow3{-webkit-animation-delay:.2s;animation-delay:.2s}.prism-player .ff-text{color:#fff;-webkit-user-select:none;-ms-user-select:none;user-select:none}@media (max-width:480px){.prism-player .ff-arrow-container{font-size:12px;padding:6px 10px}.prism-player .ff-arrow{border:6px solid transparent;border-left:6px solid #fff}}.prism-player .prism-double-click-skip{position:relative;height:100%;width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.prism-player .prism-double-click-skip .click-skip-container{width:40%;background-color:initial;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.prism-player .prism-double-click-skip .click-skip-container .ff-arrow-container{background-color:initial}@-webkit-keyframes area-active{0%{background:0 0}100%{background:hsla(0,0%,100%,.2)}}@keyframes area-active{0%{background:0 0}100%{background:hsla(0,0%,100%,.2)}}.prism-player .prism-double-click-skip .click-skip-container-active{-webkit-animation:area-active .5s forwards;animation:area-active .5s forwards}@-webkit-keyframes double-click-bg-fade-in{0%{background:0 0}100%{background-color:rgba(0,0,0,.4)}}@keyframes double-click-bg-fade-in{0%{background:0 0}100%{background-color:rgba(0,0,0,.4)}}.prism-player .prism-double-click-skip-active{-webkit-animation:double-click-bg-fade-in .5s forwards;animation:double-click-bg-fade-in .5s forwards}.prism-player .prism-snapshot-btn{width:32px;height:32px;background:url("+O+") no-repeat;background-size:contain}.prism-player .prism-snapshot-btn:hover{animation:hoverAnimationScale 1s 1;-moz-animation:hoverAnimationScale 1s 1;-webkit-animation:hoverAnimationScale 1s 1;-o-animation:hoverAnimationScale 1s 1;cursor:pointer}.prism-player .prism-snapshot-btn:active{display:block}.prism-player .prism-info-display{display:none;width:100%;color:#fff;text-align:center;top:50%;position:absolute;z-index:900;height:26px;line-height:26px;font-size:14px;padding:8px 10px;background-color:rgba(25,25,25,.88)}.prism-player .prism-info-display span{color:#00c1de}.prism-player .prism-info-left-bottom{width:auto!important;top:auto!important;bottom:70px;left:20px!important;text-align:left}.prism-player .prism-info-top-center{width:auto!important;top:20px!important;left:50%!important;text-align:left!important;-ms-transform:translateX(-50%)!important;-webkit-transform:translateX(-50%)!important;transform:translateX(-50%)!important;color:red!important}.prism-player .prism-info-black{color:#000!important}.prism-player .prism-auto-stream-selector{position:absolute;bottom:50%;width:100%;margin:auto;color:#efeff4;display:none}.prism-player .prism-auto-stream-selector p.tip-text{text-align:center}.prism-player .prism-auto-stream-selector .operators{width:100px;margin:auto}.prism-player .prism-button-cancel{font-size:16px;border:1px hsla(0,0%,100%,.6588235294117647) solid;padding:2px 5px 2px 5px;color:hsla(0,0%,100%,.6588235294117647);margin-left:5px;background:rgba(80,63,63,.23921568627450981)}.prism-player .prism-button-ok{font-size:16px;border:1px #fff solid;padding:2px 5px 2px 5px;color:#fff;background:rgba(80,63,63,.38823529411764707)}.prism-player .prism-button-cancel:hover,.prism-player .prism-button-ok:hover{color:#f5f5f5}.prism-player .prism-cc-btn{height:24px;width:24px;background:url("+M+") 50% no-repeat;background-size:contain}.prism-player .prism-cc-btn:hover{cursor:pointer;animation:hoverAnimationScale 1s 1;-moz-animation:hoverAnimationScale 1s 1;-webkit-animation:hoverAnimationScale 1s 1;-o-animation:hoverAnimationScale 1s 1}.prism-player .prism-setting-btn{height:24px;width:24px;background:url("+N+') 50% no-repeat;background-size:contain}.prism-player .prism-setting-btn:hover{cursor:pointer;animation:hoverAnimationRotate 1s 1;-moz-animation:hoverAnimationRotate 1s 1;-webkit-animation:hoverAnimationRotate 1s 1;-o-animation:hoverAnimationRotate 1s 1}.prism-player .prism-setting-list{background:rgba(60,60,60,.95);width:220px;position:absolute;right:14px;bottom:45px;display:none;z-index:10000;text-align:left}.prism-player .prism-setting-list .prism-setting-item{font-size:14px;color:#ebecec;height:30px}.prism-player .prism-setting-list .prism-setting-item .setting-content{width:100%}.prism-player .prism-setting-list .prism-setting-item .setting-content:hover{background:hsla(0,0%,84.7%,.1);cursor:pointer}.prism-player .prism-setting-list .prism-setting-item .setting-content span{line-height:30px}.prism-player .prism-setting-list .prism-setting-item .setting-content .setting-title{margin-left:15px}.prism-player .prism-setting-list .prism-setting-item .setting-content .current-setting{float:right;max-width:120px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.prism-player .prism-setting-list .prism-setting-item .array{display:inline-block;border-right:2px solid;border-bottom:2px solid;border-color:#fff;width:8px;height:8px;-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);transform:rotate(-45deg);margin-right:10px;margin-top:10px;margin-left:10px;float:right}.prism-player .prism-setting-selector{right:40px;position:absolute;bottom:45px;width:150px;background:rgba(60,60,60,.95);font-size:14px;color:#ebecec;display:none;z-index:10000;text-align:left}.prism-player .prism-setting-selector .header{background:#242424;width:150px;height:30px}.prism-player .prism-setting-selector .header:hover{cursor:pointer}.prism-player .prism-setting-selector .header .left-array{display:inline-block;border-left:2px solid;border-bottom:2px solid;border-color:#fff;width:8px;height:8px;-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-right:6px;margin-top:12px;margin-left:16px;float:left}.prism-player .prism-setting-selector .header span{line-height:30px}.prism-player .prism-setting-selector ul.selector-list::-webkit-scrollbar{width:10px;background-color:#424242}.prism-player .prism-setting-selector ul.selector-list::-webkit-scrollbar-track{background-color:#424242}.prism-player .prism-setting-selector ul.selector-list::-webkit-scrollbar-thumb{background-color:#8e8e8e;border:1px solid #424242;border-radius:5px}.prism-player .prism-setting-selector ul{list-style-type:none;padding-left:0;max-height:150px;overflow-y:auto;padding-left:13px;margin-top:5px}.prism-player .prism-setting-selector ul li{height:28px;padding-left:10px}.prism-player .prism-setting-selector ul li.current{color:#30adf2;padding-left:0}.prism-player .prism-setting-selector ul li.current:before{content:"";display:inline-block;line-height:0;border:5px solid transparent;border-left-color:#30adf2;border-right-width:0;margin-top:5px;padding-right:5px}.prism-player .prism-setting-selector ul li:hover{background:hsla(0,0%,84.7%,.1);cursor:pointer}.prism-player .prism-setting-selector ul span{line-height:28px;max-width:110px;display:inline-block;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.prism-player .prism-thumbnail{border:1px solid rgba(0,0,0,.8);width:174px;height:98px;position:absolute;bottom:50px;display:none;z-index:10}.prism-player .prism-thumbnail .none{border:none}.prism-player .prism-thumbnail span{font-size:12px;color:#fff;line-height:20px;background:rgba(0,0,0,.8);text-align:center;text-shadow:1px 1px 4px #373d41;padding-left:5px;padding-right:5px;display:inline-block;position:absolute;bottom:0;left:33%}.prism-player .prism-tooltip{background:#3c3c3c;box-shadow:0 0 5px 0 rgba(0,0,0,.1);height:28px;margin:0;padding-left:5px;padding-right:5px;padding-top:0;padding-bottom:0;position:absolute;bottom:50px;color:#fff;line-height:28px;font-size:10px;white-space:nowrap;display:none;z-index:10}.prism-player .disabled{pointer-events:none;color:grey}:-webkit-full-screen{width:100%!important;height:100%!important}:-moz-full-screen{width:100%!important;height:100%!important}:-ms-full-screen{width:100%!important;height:100%!important}:-ms-fullscreen{width:100%!important;height:100%!important}:fullscreen{width:100%!important;height:100%!important}body.prism-full-window{padding:0;margin:0;height:100%;overflow-y:auto}.prism-fullscreen{position:fixed;overflow:hidden;z-index:99999;left:0!important;top:0!important;bottom:0!important;right:0!important;width:100%!important;height:100%!important;position:absolute!important}.prism-button{cursor:pointer;text-align:center;text-shadow:0 1px 1px rgba(0,0,0,.3);border-radius:.5em;box-shadow:0 1px 2px rgba(0,0,0,.2)}.prism-button-orange{color:#a56117;border:solid 1px #a56117}.prism-button-retry{color:#f2dede;border:solid 1px #f2dede}.prism-button-orange:hover{color:#d67400;border-color:#d67400}.prism-button-orange:active{color:#d67400;border-color:#d67400}.prism-button-orange:visited{color:#d67400}.prism-button-retry:hover{color:#fcf8e3;border-color:#fcf8e3}.prism-button-retry:active{color:#fcf8e3;border-color:#fcf8e3}.prism-button-retry:visited{color:#fcf8e3}.prism-center{position:absolute;left:50%;-ms-transform:translateX(-50%);-webkit-transform:translateX(-50%);transform:translateX(-50%)}.prism-width90{width:90%}.prism-stream-selector{font-size:16px;position:relative;line-height:32px}.prism-stream-selector .current-stream-selector{text-align:center;width:70px;display:none;color:#efeff4}.prism-stream-selector .current-stream-selector:hover{cursor:pointer;color:#00c1de}.prism-stream-selector .stream-selector-tip{color:#fff;text-align:center;padding:2px 5px 2px 5px;display:none;position:absolute;bottom:61.5px;white-space:nowrap;left:43%;font-size:18px}.prism-stream-selector .stream-selector-list{position:absolute;bottom:32px;background:rgba(0,0,0,.5);color:#efeff4;padding:5px 5px 0 5px;width:70px;margin:0;display:none}.prism-stream-selector .stream-selector-list li{list-style-type:none;text-align:center;white-space:nowrap;padding:0 2px 0 2px;line-height:24px}.prism-stream-selector .stream-selector-list li:last-child{margin-bottom:10px}.prism-stream-selector .stream-selector-list li.current{color:#00c1de}.prism-stream-selector .stream-selector-list li span.current{color:#00c1de}.prism-stream-selector .stream-selector-list li:hover{cursor:pointer;color:#00c1de}.prism-speed-selector{font-size:16px;position:relative;line-height:32px}.prism-speed-selector .current-speed-selector{color:#efeff4;text-align:center;width:60px}.prism-speed-selector .current-speed-selector:hover{cursor:pointer;color:#00c1de}.prism-speed-selector .speed-selector-list{position:absolute;bottom:32px;background:rgba(0,0,0,.5);color:#efeff4;padding:5px 5px 0 5px;display:none;margin:0}.prism-speed-selector .speed-selector-list li{list-style-type:none;text-align:center;white-space:nowrap;padding:0 2px 0 2px;line-height:24px}.prism-speed-selector .speed-selector-list li:last-child{margin-bottom:10px}.prism-speed-selector .speed-selector-list li.current{color:#00c1de}.prism-speed-selector .speed-selector-list li span.current{color:#00c1de}.prism-speed-selector .speed-selector-list li:hover{cursor:pointer;color:#00c1de}.prism-ai-container{position:absolute;overflow:hidden}.prism-ai-container .prism-ai-marking{font-size:12px;position:absolute}.prism-ai-container .prism-ai-marking[vh=large]{font-size:18px}.prism-ai-container .prism-ai-marking[vh=middle]{font-size:16px}.prism-ai-container .prism-ai-marking .prism-ai-rect-region{position:relative;display:inline-block}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-title{height:0;-ms-transform:translateY(-40px);-webkit-transform:translateY(-40px);transform:translateY(-40px)}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-title p{background:#ff1d00;text-align:center;width:100%;color:#fff;word-break:keep-all;margin:10px 0 0 0}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-title .top-left-anchor{width:5px;height:5px;border-top-color:red;border-top-style:solid;border-left-color:red;border-left-style:solid;border-width:1px;-ms-transform:translate(-5px,10px);-webkit-transform:translate(-5px,10px);transform:translate(-5px,10px)}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-title .top-right-anchor{width:5px;height:5px;border-top-color:red;border-top-style:solid;border-right-color:red;border-right-style:solid;border-width:1px;-ms-transform:translate(5px,5px);-webkit-transform:translate(5px,5px);transform:translate(5px,5px);float:right}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-rect{border-style:solid;border-color:#ff1d00;border-width:1px;box-sizing:initial;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;color:rgba(255,29,0,.3);background:rgba(255,29,0,.1)}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-rect .prism-ai-slash-container{overflow:hidden;width:100%;height:100%;position:absolute}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-rect .prism-ai-slash{content:"";display:block;box-sizing:border-box;border-top-width:1px;border-top-style:solid;height:10px;margin-top:15px;border-bottom-width:1px;border-bottom-style:solid;-webkit-transform:rotate(-45deg) scaleX(2);transform:rotate(-45deg) scaleX(2);-ms-transform-origin:bottom center;-webkit-transform-origin:bottom center;transform-origin:bottom center}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .prism-ai-rect .prism-ai-top-slash{margin-top:-10px!important}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .anchor-plug{position:absolute}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .top-left{top:-7px;left:-2px}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .top-right{top:-7px;right:-2px}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .bottom-left{bottom:-8px;left:-2px}.prism-ai-container .prism-ai-marking .prism-ai-rect-region .bottom-right{bottom:-8px;right:-2px}.prism-ai-container .prism-ai-marking .prism-ai-labels{color:#fff;float:right;background:rgba(0,0,0,.4);padding-top:5px;padding-bottom:5px}.prism-ai-container .prism-ai-marking .prism-ai-labels p{text-align:left;padding-left:5px;padding-right:5px;margin:0}.prism-ai-container .prism-ai-marking .prism-ai-labels a{padding-left:5px;padding-right:5px}.prism-ai-container .prism-ai-marking .prism-ai-labels p[vh=large]{padding-left:25px;padding-right:25px}.prism-ai-container .prism-ai-marking .prism-ai-labels p[vh=middle]{padding-left:15px;padding-right:15px}uni-video::-webkit-media-text-track-container{overflow:visible!important}uni-video::cue{line-height:1.7}.loading-center{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}',""]),e.exports=t},"5a46":function(e,t,r){var i=r("6a7e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("546e3886",i,!0,{sourceMap:!1,shadowMode:!1})},"5b83":function(e,t,r){var i=r("52fc");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("1142f282",i,!0,{sourceMap:!1,shadowMode:!1})},"601f":function(e,t,r){"use strict";r.r(t);var i=r("ea93"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"638f":function(e,t,r){var i=r("be6a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("25a3cbe2",i,!0,{sourceMap:!1,shadowMode:!1})},64098:function(e,t,r){"use strict";var i=r("a734"),n=r("85c1"),o=r("af9e"),a=r("a700");e.exports=i||!o((function(){if(!(a&&a<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n[e]}}))},"661c":function(e,t,r){"use strict";var i=r("c68b"),n=r.n(i);n.a},"682a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA/CAYAAAEgWCBJAAAAAXNSR0IArs4c6QAACARJREFUaAXlWn1oVlUY31oObSmrqanBaENogqWRGQ1KaBbIyKKgQoYg2WBKCq36w5xdHc0+hjT8Y+AKAr9KdFQaoriQSTPbzJiCLkVr0lRwMWebOdvW73fbc3fe89773nPfe/f6sQee9zznOc95Ps73OfdNS4uFqciuUlnpSsZSaCEtEXArtIXuwi/V2jA4OPgBUfJMKbBEZZBWhe5GvgpoAW1IT09fKzRTXx9EgMIWfzSwMjTGW8jnAM8IXzRYwlDSDtCbGIWlMFVyGjMUcEANb4hpxQiQSaH29vY3pRbbIQbc2uEeSLwXIzWcscO8gXw/MH+Yb1MWfyVMmzP0Y6kZF/oT8HqFryqwhGmYNkDukCiIq8zW0AN2UdzHVmL3uYLa7p2dnX9NnDhxoyaYyX5w+l0rjMm6VLbLPUPIzs7O6OrqYusnglpRQKFSoD1+EtVQyizSqgKlzJ7amSpjiK5FeknleymgzALgY8CrwJ3AC8A40BUkGpZS2RKCqaogSBs4SmQ6PQ1lgRuQHoiCImYCgkV5KohZTMnkCGxubn6FtB9QgVt3pc2ZM2cmFS1atOjBBEqmshEtXUCdA1LmMbE6pQ1EzjN1Uwrh8UYKioqKNnp4cCxu0VNdaGho+Hn+/Pl7VZ5G76UCju8yteA6YOzYsR+pPC9aRqLlJZCAb6+N0gZBFXRAsb2wigdiyESRvZhKBV0B+Q8AY9pkSLgPadUQ7SRuCpxChaDSN4Cuo1aRE5LGvgDGLD5SqKaJHOAMT2aSqvqFjmk2YTJ1c6AU/CBLi6rPj2bnb1KFVAdMVlO1bhja2d5lGLOPvU4YjiFsrp6bsCNkRtAWbToLstuojVN1P4CLkmBdXd2TcULmDNsmu2AB0EiRx4pom+zv7/83Pz+/Gqe76+Y+pB2hA6uARtMrkQO6UexIJ+bOnbtL52t5+3DFfT9HK0g6i3X4n8mTJ1d3d3f3Gyi5ykHIQ0coWL9+fT33GyJ2gY8NjdPmTm4nPPFw5TLqBsilnT9/viM3N7eOdAigzQvqOmCFUJZMVdue6gCVRLn8ejkVsyzrDkilkViO45ZhGvNyQByJYnl2ll1RqqZ+DqiyQvMOPhs4HTh+iMmpzKvOr0DXY/yQXFwS1AFO28eBDwOnALOAPcCLwDbgUeAA0AhMjb8IbbyomMIxCH7rJ+xn/AUoYKTJAltit1flRMYtr0pJ8F11uRmfAOVvJ2HAr8oGCHSrQnL4EN4YECNhmPqpl/od0I2/75SMDBGjXzXue+yKyB/HjhifBsVc1VIBtEN7afIoV+5nta+vbxVkLjc2Nl72kzUo5/Q9yMiN9vcxgHXr1r3K41ZhYWG2gQE/kUxOtdeAM/wk9TPeNQCepap7e3uNl1PNxklG7mtYq2RnxwF6enoqzp49u8St3IA3Qwacgay7SF5eXi5bZc+ePc+5S3hzQxsX1cXFxYV0YvXq1QXC80vZ55afEMv1PvepM4hBWXP48OErieQii1wzkl5QUMA9IiHwSB0pbN68+cDixYt/NFEamfHW1tZTs2bN+trEqMiENo7X5Cs5OTmfDQwEn+40fhIYeK7D2AD6tfr06dPXJJKAqb3I1AeslFZaWvplRkZGZQjDNFnPyG+YGGek27dv/6GkpMRoMBnovCHHKG5xvLGkCjbBUIfMc15relNkmXZoz3m/Ic3rTSrAsSORi9EPhRihNEa/nGTEFifrL8CnhBFhyqNzzLSUAedmw3JjJslz1ZXIOO3ctOuSGuRLyPBqbAq8Ln/jJ+wXuV6fA5Qnz5RekXUnEuXHoJB7BfEh4DhgssAB+juQ+w/RaDWGnBEEbXk3pVydnwEaH9/clATknYJ8I9BeLAPWdcSTDZ6BLgSm6pbnOOxCcMf4DsgGCQRBgudwZsCPBLKQWuHjMMeGMJoeJsFPgLKlQKa3C3TD0c+BTD3BL/hXUPNW7mnPwIYKOBJ2eQl5Bc85/bpXpduQ/xV8jlsT9LMV4+Kp4nkSdxDMRCzjgb+pMenBs7cfVQWSoefNm3cfvt/iVa1vMJn6I1SHW/IU4AnRrw77oEc40RGXqq8r586da1+zZs3+LVu2/BkneHMYztFTgmdvvxyVL2rwqk58r+7ft2/fkbKyssaA36xVNVHQ9VDSyuB5Xn4XGOYYiurD4BX8sMT/FP83WFNTc6CyspJH11QCj82fMvgngMVRWjYNXrfZ0tJyYuXKlQ1NTU1detkI5L9n8CXA6VEqTzZ41Qc8vPdu3bq1EY3RHOL1XVWp02cY/DvAe/WSMPkogtft4wtAe0VFxf5t27ZFtXD+zeD5v3GmkcFIBK86h5HQM2nSpA0hR8QgFzt+L7/lAQ/SXVVVVbvwTLs2KysrzIcoibWHz7UXgZHOedEeJuXzMP6C2rJ8+fKDId+kvdy4yOD5D4lbInj+jwnb3n78me4PL48j5Lcx+KPAZ4GR7fOmDvI/wjt27Di0YsWKnwz+tW+q1kSO+/xRBs+H4r3AyE540OUJ/IJVXl5+ANDpKTTyBYx3gMETWoH5wNnMRAn8clZbW9uAT7THMY2jVJ2sLv7/iPHGbXG81fEuHwqWLVuWh8XqUltbW6q+/Jj6yzs97/Y2uO3vvM/zbfxOA65tu9Wg9Ps8y3jh5/bHB4A7BdjbTXowbj2vyozKNzy1AfhquxTI9HaBbjga+vVWDXZUvturDSA0d4SFwFHzxUYC19NR961ObwA1n4kMR0bUX2m5R/ephsLS/wH1d06gIbPkLwAAAABJRU5ErkJggg=="},"68c0":function(e,t,r){"use strict";r.r(t);var i=r("48e5"),n=r("99b1");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("0659");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"cda925b2",null,!1,i["a"],void 0);t["default"]=s.exports},"68db":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALpJREFUaAXtmEsOgCAMRNF4BLz/AeUOGneEBIYmFiR5rtQ2U3hTPxACBwQgAIGZBDZV/ErpVjl5/IxRar75X+nuefEVz5nAbNcO6wB6e1zpKp3eZ4QWUqS94zjgTVjp44Ai5B1f3gFvQOhDAAIQgAAEINAiIHcQypWRWkm1illivXWX/xdiApa28MjFAQ+qFk0csNDyyDXvzJXv53JQvd8JpVPq1q5poRqZUfeXd2AUKOpAAAIQgMA/CTwQGxwzWdpTwQAAAABJRU5ErkJggg=="},"6a7e":function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-fed5a3f4], uni-scroll-view[data-v-fed5a3f4], uni-swiper-item[data-v-fed5a3f4]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-notice[data-v-fed5a3f4]{\ndisplay:flex;\nflex-direction:row;align-items:center;justify-content:space-between}.u-notice__left-icon[data-v-fed5a3f4]{align-items:center;margin-right:5px}.u-notice__right-icon[data-v-fed5a3f4]{margin-left:5px;align-items:center}.u-notice__swiper[data-v-fed5a3f4]{height:16px;\ndisplay:flex;\nflex-direction:row;align-items:center;flex:1}.u-notice__swiper__item[data-v-fed5a3f4]{\ndisplay:flex;\nflex-direction:row;align-items:center;overflow:hidden}.u-notice__swiper__item__text[data-v-fed5a3f4]{font-size:14px;color:#f9ae3d}',""]),e.exports=t},"6c5e":function(e,t,r){"use strict";r.r(t);var i=r("db5c"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"6df4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAsCAYAAAAwwXuTAAAAAXNSR0IArs4c6QAAANVJREFUaAXtllEOgCAMQ8V4BL3/AeUOmvi5BEYmTUZT/whQt74GKHetz0b87cS9fa2pwdUJi6AIJndAEU0OyC2PnuDhWXCdZ/HW9Oa9lxJan56gGuzFb4U5EVyBUq9G9xRtbban49/T0P5nlj59RMMEPcft/N+xJTqqR09QDY5GIes6EcxKZrQuERx1Kuu6afdg6yUTvb+sYVF9+oiGCbYctc5Hx7P06QmqwWjEsuwTwSwkonWUWfdUtAD0PkUU7TBaXwTRDqP1RRDtMFpfBNEOo/XpCb7+ZiflzAikegAAAABJRU5ErkJggg=="},"6e1d":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uColumnNotice:r("2c14").default,uRowNotice:r("df64").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.show?r("v-uni-view",{staticClass:"u-notice-bar",style:[{backgroundColor:e.bgColor},e.$u.addStyle(e.customStyle)]},["column"===e.direction||"row"===e.direction&&e.step?[r("u-column-notice",{attrs:{color:e.color,bgColor:e.bgColor,text:e.text,mode:e.mode,step:e.step,icon:e.icon,"disable-touch":e.disableTouch,fontSize:e.fontSize,duration:e.duration},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.click.apply(void 0,arguments)}}})]:[r("u-row-notice",{attrs:{color:e.color,bgColor:e.bgColor,text:e.text,mode:e.mode,fontSize:e.fontSize,speed:e.speed,url:e.url,linkType:e.linkType,icon:e.icon},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.click.apply(void 0,arguments)}}})]],2):e._e()},o=[]},"6e85":function(e,t,r){var i=r("79d9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("0cd74fbe",i,!0,{sourceMap:!1,shadowMode:!1})},"6ebf":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uPopup:r("91a5").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("u-popup",{attrs:{show:e.isShow,mode:"center",bgColor:"transparent"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.isShow=!1}}},[r("v-uni-image",{staticClass:"popup_view",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1730169729093.png",mode:"widthFix"}}),r("v-uni-view",{staticClass:"close_btn dfcen",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isShow=!1}}},[r("v-uni-image",{staticClass:"close_img",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729242754927.png"}})],1)],1)],1)},o=[]},7026:function(e,t,r){"use strict";r.r(t);var i=r("6e1d"),n=r("ef6b");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("ff74");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"158e4676",null,!1,i["a"],void 0);t["default"]=s.exports},7158:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getCourseVideoCommentList=function(e){return(0,n.default)({url:"/video/getCourseVideoCommentList",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.getCourseVideoCourse=function(e){return(0,n.default)({url:"/video/getCourseVideoCourse",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.getCourseVideoDetail=function(e){return(0,n.default)({url:"/video/getCourseVideoDetail",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.getCourseVideoResourceList=function(e){return(0,n.default)({url:"/video/getCourseVideoResourceList",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.getErrorCategory=function(e){return(0,n.default)({url:"/base/getErrorCategory",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.getyytsdd=function(e){return(0,n.default)({url:"/ttysdd/getyytsdd",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.getyytsddDDEEFF=function(e){return(0,n.default)({url:"/ttysdd/DDEEFF",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.saveCourseError=function(e){return(0,n.default)({url:"/base/saveCourseError",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.saveCourseVideoComment=function(e){return(0,n.default)({url:"/video/saveCourseVideoComment",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.saveSeek=function(e){return(0,n.default)({url:"/ttysdd/saveSeek",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.screenshotLog=function(e){return(0,n.default)({url:"/auth/screenshotLog",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})},t.ttysddPlay=function(e){return(0,n.default)({url:"/ttysdd/play",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},data:e})};var n=i(r("eb6c"))},"72d4":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"material"},e._l(e.resourceList,(function(t,i){return r("v-uni-view",{key:i,staticClass:"item_view ml42 mr38 pt18 pb18 df"},[r("v-uni-image",{staticClass:"icon mr42",attrs:{src:t.resourceSuffixPic}}),r("v-uni-view",{staticClass:"flex1"},[r("v-uni-view",{staticClass:"mb20 text_line1"},[r("v-uni-text",{staticClass:"fwb5 c333"},[e._v(e._s(t.resourceName))])],1),r("div",{staticClass:"dffe"},[r("div",{staticClass:"btn dfcen mr18",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleToLook(t)}}},[r("v-uni-text",{staticClass:"txt"},[e._v("查看")])],1),r("div",{staticClass:"btn dfcen r_btn",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleToDownload(t)}}},[r("v-uni-text",{staticClass:"down"},[e._v("下载")])],1)])],1)],1)})),1)},n=[]},"750f":function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("64aa");var i={props:{text:{type:String,default:uni.$u.props.rowNotice.text},icon:{type:String,default:uni.$u.props.rowNotice.icon},mode:{type:String,default:uni.$u.props.rowNotice.mode},color:{type:String,default:uni.$u.props.rowNotice.color},bgColor:{type:String,default:uni.$u.props.rowNotice.bgColor},fontSize:{type:[String,Number],default:uni.$u.props.rowNotice.fontSize},speed:{type:[String,Number],default:uni.$u.props.rowNotice.speed}}};t.default=i},"751d":function(e,t,r){r("c1a3"),r("bf0f"),r("18f7"),r("de6c"),r("7a76"),r("c9b5");var i=r("14bd"),n=r("51b9"),o=r("22a0"),a=r("2922");function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},7533:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,require,_createClass=__webpack_require__("4db6").default,_classCallCheck=__webpack_require__("883d").default,_inherits=__webpack_require__("59a6").default,_createSuper=__webpack_require__("feb3").default,_wrapNativeSuper=__webpack_require__("751d").default,_construct=__webpack_require__("2922").default,_toConsumableArray=__webpack_require__("d189").default,_defineProperty=__webpack_require__("4550").default,_createForOfIteratorHelper=__webpack_require__("4cf1").default,_typeof=__webpack_require__("bdbb").default;__webpack_require__("7a76"),__webpack_require__("c9b5"),__webpack_require__("6a54"),__webpack_require__("a03a"),__webpack_require__("a644"),__webpack_require__("01a2"),__webpack_require__("4e9b"),__webpack_require__("114e"),__webpack_require__("c240"),__webpack_require__("bf0f"),__webpack_require__("e39c"),__webpack_require__("5c47"),__webpack_require__("a1c1"),__webpack_require__("f7a5"),__webpack_require__("c223"),__webpack_require__("aa9c"),__webpack_require__("23f4"),__webpack_require__("7d2f"),__webpack_require__("9c4e"),__webpack_require__("ab80"),__webpack_require__("0506"),__webpack_require__("e966"),__webpack_require__("e838"),__webpack_require__("5ef2"),__webpack_require__("dd2b"),__webpack_require__("18f7"),__webpack_require__("de6c"),__webpack_require__("dc89"),__webpack_require__("2425"),__webpack_require__("4626"),__webpack_require__("5ac7"),__webpack_require__("473f"),__webpack_require__("20f31"),__webpack_require__("d4b5"),__webpack_require__("3efd"),__webpack_require__("dfcf"),__webpack_require__("dc69"),__webpack_require__("dc8a"),__webpack_require__("d0af"),__webpack_require__("4100"),__webpack_require__("3710"),__webpack_require__("ab7f"),__webpack_require__("7996"),__webpack_require__("9a2c"),__webpack_require__("2797"),__webpack_require__("6be7"),__webpack_require__("926e"),__webpack_require__("cc22"),__webpack_require__("4085"),__webpack_require__("4db2"),__webpack_require__("295e"),__webpack_require__("4d8f"),__webpack_require__("7b97"),__webpack_require__("668a"),__webpack_require__("c5b7"),__webpack_require__("8ff5"),__webpack_require__("2378"),__webpack_require__("641a"),__webpack_require__("64e0"),__webpack_require__("cce3"),__webpack_require__("efba"),__webpack_require__("d009"),__webpack_require__("bd7d"),__webpack_require__("7edd"),__webpack_require__("d798"),__webpack_require__("f547"),__webpack_require__("5e54"),__webpack_require__("b60a"),__webpack_require__("8c18"),__webpack_require__("12973"),__webpack_require__("f991"),__webpack_require__("198e"),__webpack_require__("8557"),__webpack_require__("63b1"),__webpack_require__("1954"),__webpack_require__("1cf1"),__webpack_require__("9480"),__webpack_require__("c976"),__webpack_require__("64aa"),__webpack_require__("0c26"),__webpack_require__("9e15"),__webpack_require__("884b"),__webpack_require__("fd3c"),__webpack_require__("80e3"),__webpack_require__("247d"),__webpack_require__("8a8d"),__webpack_require__("2c10"),__webpack_require__("844d"),__webpack_require__("8f71"),__webpack_require__("e062"),__webpack_require__("aa77"),__webpack_require__("15d1"),__webpack_require__("d5c6"),__webpack_require__("5a56"),__webpack_require__("f074"),__webpack_require__("08eb"),__webpack_require__("9502"),function(e){"object"==_typeof(exports)&&"undefined"!=typeof module?module.exports=e():(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}((function(){var define,module,exports;return function e(t,r,i){function n(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return require(a,!0);if(o)return o(a,!0);throw(s=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}l=r[a]={exports:{}},t[a][0].call(l.exports,(function(e){return n(t[a][1][e]||e)}),l,l.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){var i,n,o=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=function(e,t,r){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},p=function(e,t){for(var r in t=t||{})c.call(t,r)&&d(e,r,t[r]);if(l){var i,n=_createForOfIteratorHelper(l(t));try{for(n.s();!(i=n.n()).done;){r=i.value;u.call(t,r)&&d(e,r,t[r])}}catch(o){n.e(o)}finally{n.f()}}return e},h=function(e,t,r){return d(e,"symbol"!=_typeof(t)?t+"":t,r),r},f=(Object.defineProperties(r,_defineProperty({__esModule:{value:!0}},Symbol.toStringTag,{value:"Module"})),{exports:{}}),g={exports:{}};function _(){var e,t,r;return n||(n=1,Date.now=Date.now||function(){return(new Date).getTime()},e=Date.now(),r={noop:t=function(){},warn:function(){var e="object"==("undefined"===typeof console?"undefined":_typeof(console))?console.warn:t;try{var r={warn:e};r.warn.call(r)}catch(e){return t}return e}(),key:"__bl",selfErrKey:"ARMS_SDK_ERROR",selfErrPage:"ARMSSDK",win:"object"==("undefined"===typeof window?"undefined":_typeof(window))&&window.document?window:void 0,regionMap:{cn:"https://arms-retcode.aliyuncs.com/r.png?",sg:"https://arms-retcode-sg.aliyuncs.com/r.png?",sg_2:"https://retcode-sg-lazada.arms.aliyuncs.com/r.png?",daily:"http://arms-retcode-daily.alibaba.net/r.png?",daily_2:"https://arms-retcode-daily.alibaba.net/r.png?",daily_3:"http://arms-retcode-daily.aliyun.test/r.png?",us:"https://retcode-us-west-1.arms.aliyuncs.com/r.png?",tw:"https://arms-retcode.orientalgame.com.tw/r.png?",tw_sg:"https://arms-retcode-sg.orientalgame.com.tw/r.png?",hz_finance:"https://arms-retcode-hz-finance.aliyuncs.com/r.png?"},defaultImgUrl:"https://arms-retcode.aliyuncs.com/r.png?",createObject:function(e){var t;return Object.create?Object.create(e):((t=function(){}).prototype=e,new t)},each:function(e,t){var r=0,i=e.length;if(this.T(e,"Array"))for(;r<i&&!1!==t.call(e[r],e[r],r);r++);else for(r in e)if(!1===t.call(e[r],e[r],r))break;return e},safetyCall:function(e,t,r){if("function"!=typeof e)return r;try{return e.apply(this,t)}catch(e){return r}},T:function(e,t){return e=Object.prototype.toString.call(e).substring(8).replace("]",""),t?e===t:e},duration:function(){var e=Date;try{performance&&this.T(performance.now,"Function")&&(e=performance)}catch(t){e=Date}var t=e.now();return function(){return Math.round(e.now()-t)}},filterByRule:function(){var e,t,r,i,n,o=[].slice.call(arguments),a=o.length;return a<2?o[0]:(e=o[a-1],(t=o[0])?e?(i=(r=this).T(e),n=o.slice(0,a-1),"Function"===i?r.safetyCall(e,n,t):"Array"===i?(this.each(e,(function(e){n[0]=t=r.filterByRule.apply(r,[].concat(n,e))})),t):"Object"===i?t.replace(e.rule,e.target||""):t.replace(e,"")):t:"")},ignoreByRule:function(e,t){if(!e||!t)return!1;if((this.isString(t)||t.source||"Function"===this.T(t))&&(t=[t]),!this.isArray(t))return this.warn("[arms] invalid rules of ignore config, (list of) String/RegExp/Funcitons are available"),!1;for(var r,i=[],n=0,o=t.length;n<o;n++)if(r=t[n],this.isString(r))i.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"));else if(r&&r.source)i.push(r.source);else if(r&&"Function"===this.T(r)&&!0===this.safetyCall(r,[e],!1))return!0;var a=new RegExp(i.join("|"),"i");return!!(i.length&&a.test&&a.test(e))},J:function(e){if(!e||"string"!=typeof e)return e;var t=null;try{t=JSON.parse(e)}catch(e){}return t},pick:function(e){return 1===e||1===Math.ceil(Math.random()*e)},verifyConfig:function(e){var t,r;return"sample"in e&&(1<=(r=0<(r=(r=t=e.sample)&&/^\d+(\.\d+)?%$/.test(t)?parseInt(100/parseFloat(t)):r)&&r<1?parseInt(1/r):r)&&r<=100?e.sample=r:delete e.sample),e},on:function(e,t,r,i,n){return e.addEventListener?(n=n||!1,e.addEventListener(t,(function o(a){i&&e.removeEventListener(t,o,n),r.call(this,a)}),n)):e.attachEvent&&e.attachEvent("on"+t,(function n(o){i&&e.detachEvent("on"+t,n),r.call(this,o)})),this},off:function(e,t,r){return r&&(e.removeEventListener?e.removeEventListener(t,r):e.detachEvent&&e.detachEvent(t,r)),this},delay:function(e,t){return-1===t?(e(),null):setTimeout(e,t||0)},ext:function(e){for(var t=1,r=arguments.length;t<r;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sub:function(e,t){var r={};return this.each(e,(function(e,i){-1!==t.indexOf(i)&&(r[i]=e)})),r},uu:function(){for(var e,t,r=20,i=new Array(r),n=Date.now().toString(36).split("");0<r--;)t=(e=36*Math.random()|0).toString(36),i[r]=e%3?t:t.toUpperCase();for(var o=0;o<8;o++)i.splice(3*o+2,0,n[o]);return i.join("")},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},seq:function(){return(e++).toString(36)},decode:function(e){try{e=decodeURIComponent(e)}catch(e){}return e},encode:function(e,t){try{e=t?encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29"):encodeURIComponent(e)}catch(e){}return e},serialize:function(e){var t,r=[];for(t in e=e||{})Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]&&r.push(t+"="+this.encode(e[t],"msg"===t));return r.join("&")},checkAPI:function(e,t){var r;return!(!e||"string"!=typeof e||(!(r=/arms-retcode[\w-]*\.aliyuncs/.test(e))&&t?/(alicdn\.com)|(mmstat\.com)/.test(e):r))},checkAutoError:function(e){return!(!e||!e.message||/failed[\w\s]+fetch/i.test(e.message))},cutUrlSearch:function(e){return e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""},removeUrlSearch:function(e){return e&&"string"==typeof e?e.replace(/\?.*$/,""):""},createFakeToString:function(e){return function(){return e+"() { [native code] }"}},checkSameOrigin:function(e,t){var r;return!(!t||!e||(r="//"+t.split("/")[2],e!==t&&e.slice(0,t.length+1)!==t+"/"&&e!==r&&e.slice(0,r.length+1)!==r+"/"&&/^(\/\/|http:|https:).*/.test(e)))},getRandIP:function(){for(var e=[],t=0;t<4;t++){var r=Math.floor(256*Math.random());e[t]=(15<r?"":"0")+r.toString(16)}return e.join("").replace(/^0/,"1")},getSortNum:function(e){return e?1e3<=(e+=1)&&e<=9999?e:e<1e3?e+1e3:e%1e4+1e3:1e3},getRandNum:function(e){return!e||"string"!=typeof e||e.length<5?this.getNum(5):e.substring(e.length-5)},getNum:function(e){for(var t=[],r=0;r<e;r++){var i=Math.floor(16*Math.random());t[r]=i.toString(16)}return t.join("")},getCurDomain:function(){return location&&location.hostname||""},getSrcType:function(e,t){var r=location&&location.host||"";if(!r)return"";var i=new URL(e).host;if(i===r)return"self";for(var n=0;n<t.length;n+=1)if(i.includes(t[n]))return"cdn";return"others"},parseFetchHeaders:function(e){if(!e)return{};var t={};try{if("function"==typeof e.keys)for(var r=e.keys(),i=r.next();!i.done;){var n=i.value;t[n]=e.get(n),i=r.next()}else t=e}catch(e){t={}}return t},parseXhrHeaders:function(e){if(!e&&"string"!=typeof e)return{};var t={};try{t=e.split("\r\n").reduce((function(e,t){return t=t.split(": "),e[t[0]]=t[1],e}),{})}catch(e){t={}}return t},getQuerys:function(e){if(!e)return"";var t,r,i,n={};try{var o=[];if(0<(o=0<=e.indexOf("?")?e.substring(e.indexOf("?")+1,e.length).split("&"):o).length)for(var a in o)r=(t=o[a].split("="))[0],i=t[1],n[r]=i}catch(e){n={}}return n},getURL:function(e){if(!e)return null;var t={},r=e.length,i=e.indexOf("://");if(i<0)return null;t.protocol=e.substring(0,i+1);var n=e.indexOf("#"),o=e.indexOf("?");n<0&&(n=r),o<0&&(o=n),t.search=e.substring(o,n).substring(0,1e3),r=e.substring(i+3,o),n=r.indexOf("/");return n<0&&(n=r.length),t.domain=r.substring(0,n).split(":")[0],t.path=r.substring(n,r.length).substring(0,1e3),t},getResType:function(e,t){if(-1<["script","img","other"].indexOf(e))return e;if(-1<["video"].indexOf(e))return"media";if(-1<["document","iframe"].indexOf(e))return"doc";t=t?this.getURL(t):null;var r=t&&t.path?t.path.lastIndexOf("."):-1;t=(0<r?t.path.substr(r+1):"").toLowerCase();if(t){if(-1<["eot","woff","woff2","ttf"].indexOf(t))return"font";if("css"===t)return"css";if("js"===t)return"script"}return-1<["fetch","xmlhttprequest","beacon"].indexOf(e)?"api":"others"},areInOrder:function(){for(var e=1;e<arguments.length;e+=1)if(arguments[e]<arguments[e-1])return!1;return!0},getFetchSnapshot:function(e,t,r){try{var i=(e&&"string"!=typeof e[0]?e[0].url:e[0])||"",n=(e&&"string"!=typeof e[0]?e[0]:e[1])||{},o="POST"===n.method.toUpperCase()?n.body:this.getQuerys(i),a={originApi:i,method:n.method||"unknown",params:o,response:t||"",reqHeaders:this.parseFetchHeaders(n.headers||null),resHeaders:this.parseFetchHeaders(r)},s=JSON&&JSON.stringify(a)||"{}"}catch(e){s="{}"}return s},getXhrSnapshot:function(e,t,r){if(!e||!t||!r)return{};var i,n;try{var o="";""===r.responseType||"text"===r.responseType?o=r.responseText:"document"===r.responseType&&(o=r.responseXML),i={originApi:e,method:t,params:this.getQuerys(e),response:o,reqHeaders:{},resHeaders:this.parseXhrHeaders("function"==typeof r.getAllResponseHeaders&&r.getAllResponseHeaders()||"")},n=JSON&&JSON.stringify(i)||"{}"}catch(e){n="{}"}return n},isRobot:function(){var e=["nuhk","googlebot/","googlebot-image","yammybot","openbot","slurp","msnbot","ask jeeves/teoma","ia_archiver","baiduspider","bingbot/","adsbot"];if(navigator&&"string"==typeof navigator.userAgent)try{for(var t=navigator.userAgent.toLowerCase(),r=0;r<e.length;r++){var i=e[r];if(0<=t.lastIndexOf(i))return!0}}catch(e){this.warn("[arms] useragent parse error")}return!1},isFunction:function(e){return"function"==typeof e},isPlainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},joinRegExp:function(e){for(var t,r=[],i=0,n=e.length;i<n;i++)t=e[i],this.isString(t)?r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&r.push(t.source);return new RegExp(r.join("|"),"i")},reWriteMethod:function(e,t,r){var i;null!==e&&(i=e[t],e[t]=r(i))},checkSDKError:function(e,t){return!(!e&&!t||!new RegExp(this.selfErrKey,"i").test(e)&&!this.ignoreByRule(t,[/retcode.alicdn.com\/retcode\/bl.js/,/g.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/laz-g-cdn.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/local.taobao.com:8880\/build\/bl/]))},sdkError:function(e){return{msg:e,message:this.selfErrKey}},dealParam:function(e,t,r){var i={};try{i=this.isPlainObject(e)?this.ext({key:e.key||"default",val:e.val||e.value||r},e,{begin:Date.now()}):{key:e||"default",val:t||r,begin:Date.now()}}catch(e){this.warn("[retcode] baseLog error: "+e)}return i}},i=r),i}var m,y,v,b,w={exports:{}},S={exports:{}};function x(){var e,t,r,i,n;return v||(v=1,e=_(),y||(y=1,n=_(),m=function(e,t,r){"object"==_typeof(e)&&(e=n.serialize(e)),window&&window.navigator&&"function"==typeof window.navigator.sendBeacon?window.navigator.sendBeacon(t+e+(r?"&post_res=":""),r||"&post_res="):n.warn("[arms] navigator.sendBeacon not surported")}),t=m,"aokcdqn3ly@e629dabd48a9933",r=function(t,r){var i,n,o;if("error"!==r.t||!(i=t.requestQueue[0])||"error"!==i.t||r.msg!==i.msg)return"behavior"===r.t?0<(n=t.requestQueue&&t.requestQueue.length)&&"behavior"===t.requestQueue[n-1].t?(o=r.behavior||[],t.requestQueue[n-1].behavior.concat(o)):t.requestQueue.push(r):t.requestQueue.unshift(r),t.onReady((function(){t.requestTimmer=e.delay((function(){t.clear()}),t.requestQueue[0]&&"error"===t.requestQueue[0].t?3e3:-1)})),!0;r.times=i.times+1,t.requestQueue[0]=r},(i=function(t){return this.ver="1.8.36-beta.12",this._conf=e.ext({},i.dftCon),this.sampleCache={},this.requestQueue=[],this.selfQueue=[],this.sdkFlag=!0,this.hash=e.seq(),this.resetPageview(),this.setConfig(t),this.rip=e.getRandIP(),this.record=999,this["EagleEye-TraceID"]=this.getTraceId()["EagleEye-TraceID"],this._common={},this}).dftCon={sample:1,pvSample:1,tag:"",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",region:null,ignore:{ignoreUrls:[],ignoreApis:[],ignoreErrors:[/^Script error\.?$/],ignoreResErrors:[],ignoreResources:[/\/(bl|wl)(.debug)?.js$/]},release:void 0,environment:"prod",beforeReport:null,parseTraceId:null},i.prototype={constructor:i,onReady:function(e){return e()},getPage:function(){var t=this._conf.page;return e.safetyCall(t,[],t+"")},setPage:function(){},setConfig:function(t){t&&"object"==_typeof(t)&&(e.verifyConfig(t),t=this.setImgUrl(t),this._conf=e.ext({},this._conf,t))},setImgUrl:function(t){var r=t.region,i=t.imgUrl;return r?(r=e.regionMap[r],t.imgUrl=r||e.defaultImgUrl):i&&(t.imgUrl=i),t},checkImgUrl:function(){return!0},sendRequest:function(){},sendBeacon:function(e,r,i){t(e,r||this.getConfig("imgUrl"),i)},postData:function(){},commonInfo:function(){return{}},setCommonInfo:function(t){t&&"object"==_typeof(t)&&(this._common=e.ext({},this._common,t))},resetPageview:function(){this.pageview=e.uu(),this.sBegin=Date.now()},getUsername:function(){if(!this.username){var t=this._conf;t=t&&t.setUsername;if("function"==typeof t)try{var r=t();"string"==typeof r&&(r=r.substr(0,40),this.username=r)}catch(t){e.warn("[arms] setUsername fail",t)}}return this.username},getTraceId:function(){var t=this.rip,r=Date.now(),i=e.getSortNum(this.record);t=t+r+i+e.getRandNum(this._conf.pid);return this["EagleEye-TraceID"]=t,this.record=i,{"EagleEye-TraceID":t}},getUberTraceId:function(t){var r=this.rip,i=Date.now(),n=e.getSortNum(this.record),o=e.getRandNum(this._conf.pid);r=r+i+n+e.getNum(2)+o,i=r.substring(0,16);return t=t?"1":"0","0"===r[0]&&(r[0]="1"),"0"===r[16]&&(r[16]="1"),{"uber-trace-id":r+":"+i+":0:"+t,traceId:r}},getB3TraceId:function(t){var r=this.rip,i=Date.now(),n=e.getSortNum(this.record),o=e.getRandNum(this._conf.pid);r=r+i+n+e.getNum(2)+o,i=r.substring(0,16);return t=t?"1":"0","0"===r[0]&&(r[0]="1"),"0"===r[16]&&(r[16]="1"),{b3:r+"-"+i+"-"+t+"-0","X-B3-TraceId":r,"X-B3-ParentSpanId":"0","X-B3-SpanId":i,"X-B3-Sampled":t}},getPageviewId:function(){return{"EagleEye-SessionID":this.pageview}},getConfig:function(t){return t?this._conf[t]:e.ext({},this._conf)},sampling:function(t){return 1===t||("boolean"==typeof this.sampleCache[t]||(this.sampleCache[t]=e.pick(t)),this.sampleCache[t])},clear:function(e){var t;clearTimeout(this.requestTimmer),this.requestTimmer=null;for(var r,i=this._conf&&"function"==typeof this._conf.sendRequest;t=this.requestQueue.pop();)"res"===t.t?this.postData(t,"res"):"error"===t.t?this.postData(t,"err"):"api"===t.t?this.postData(t,"apiSnapshot"):"behavior"===t.t?this.postData(t,"behavior"):"health"===t.t&&!i&&window&&window.navigator&&"function"==typeof window.navigator.sendBeacon?this.sendBeacon(t):"resource"===t.t&&!i&&window&&window.navigator&&"function"==typeof window.navigator.sendBeacon?(r=JSON.stringify({resource:t.resource}),delete t.resource,this.sendBeacon(t,null,r)):"resource"===t.t?this.postData(t,"resource"):this.sendRequest(t);return e&&this.clearSelf(),this},clearSelf:function(){var e;for(clearTimeout(this.Timmer),this.Timmer=null;e=this.selfQueue.pop();)this.postData(e,"err");return this},_lg:function(t,i,n,o){var a=this,s=a._conf,l=a.getPage(),c=s.ignore||{},u=c.ignoreErrors,d=c.ignoreResErrors,p=c.ignoreUrls;c=c.ignoreApis;if(a._isRobot||e.ignoreByRule(l,p)||e.ignoreByRule(e.decode(l),p)||"error"===t&&(e.ignoreByRule(i.msg,u)||e.ignoreByRule(e.decode(i.msg),u))||"resourceError"===t&&(e.ignoreByRule(i.src,d)||e.ignoreByRule(e.decode(i.src),d))||"api"===t&&(e.ignoreByRule(i.api,c)||e.ignoreByRule(e.decode(i.api),c))||!a.checkImgUrl(s.imgUrl)||!i||s.disabled||!s.pid||0===o)return a;if(p=i.dl,delete i.dl,i=e.ext({t:t,times:1,page:l,tag:s.tag||"",release:s.release||"",environment:s.environment,begin:Date.now(),c1:s.c1,c2:s.c2,c3:s.c3},i,a.commonInfo(),a._common,{pid:s.pid,_v:a.ver,pv_id:a.pageview,username:a.getUsername(),sampling:n||1,dl:p,z:e.seq()}),"Function"===e.T(s.beforeReport))try{if(!(i=s.beforeReport(i)))return a}catch(t){return a}return 1!==o&&n&&!a.sampling(n)?a:r(a,i)},_self:function(t,r,i){var n=this,o=n._conf;if("error"!==t||!n.checkImgUrl(o.imgUrl)||!r||o.disabled||!o.pid||i&&!n.sampling(i))return n;if(r=e.ext({t:t,times:1,page:e.selfErrPage,tag:o.pid,begin:Date.now()},r,{pid:"aokcdqn3ly@e629dabd48a9933",_v:n.ver,sampling:i||1,z:e.seq()}),t=n.selfQueue[0],t){t.times++;try{t.err&&r.err&&t.err.msg_raw&&r.err.msg_raw&&t.err.msg_raw.split("&").indexOf(r.err.msg_raw)<0&&t.err.msg_raw.length<1e3&&(t.err.msg_raw+="&"+r.err.msg_raw)}catch(t){}}else n.selfQueue.unshift(r),n.onReady((function(){n.sdkFlag&&(n.sdkFlag=!1,n.Timmer=e.delay((function(){n.clearSelf()}),1e4))}))},custom:function(t,r){var i,n;return t&&"object"==_typeof(t)&&(i=!1,n={begin:Date.now()},e.each(t,(function(t,r){return(i=r&&r.length<=20)||e.warn("[retcode] invalid key: "+r),n["x-"+r]=t,i})),i)?this._lg("custom",n,r||1):this}},S.exports=i),S.exports}var T,k,E,C,P={exports:{}},A={exports:{}};function R(){var e;return C||(C=1,e=_(),E=function(t,r){function i(e,t,r){var i;null!==e&&(i=e[t],e[t]=r(i))}function n(e,t){return function(t){if(t&&t!==c){var r;c=t;try{r=t.target}catch(t){r="<unknown>"}0!==r.length&&(t={type:"ui.".concat(e),data:{message:function(e){if(!e||1!==e.nodeType)return"";for(var t=e||null,r=[],i=0,n=0,o="";t&&i++<5&&!("html"===(o=function(e){var t,r,i,n,o=[];if(!e||"string"!=typeof e.tagName)return"";if(o.push(e.tagName.toLowerCase()),"string"==typeof e.id&&o.push("#".concat(e.id)),"string"==typeof(t=e.className))for(r=t.split(/\s+/),s=0;s<r.length;s++)o.push(".".concat(r[s]));for(var a=["type","name","title","alt","data-arms-attr"],s=0;s<a.length;s++)"string"==typeof(n=e.getAttribute(i=a[s]))&&o.push("[".concat(i,'="').concat(n,'"]'));return o.join("")}(t))||1<i&&80<=n+3*r.length+o.length);)r.push(o),n+=o.length,t=t.parentNode;return r.reverse().join(" > ")}(r)},timestamp:Date.now()},"click"===e?a&&a.addBehavior(t):"keypress"===e&&(l||a&&a.addBehavior(t),clearTimeout(l),l=setTimeout((function(){l=void 0}),100)))}}}var o=[],a=null,s=r&&r.location&&r.location.href,l=void 0,c=null;e.ext(t.prototype,{addBehavior:function(t){if(this.getConfig("behavior")&&t&&"object"==_typeof(t)){var i={},n=t.data||{};if(t.type)i=n;else{if("string"!=typeof n.name||"string"!=typeof n.message)return;i.name=n.name.substr(0,20),i.message=n.message.substr(0,200)}return i.message&&(i.message=e.encode(i.message)),n={type:t.type||"custom",data:i||{},timestamp:t.timestamp||Date.now(),page:t.page||r&&r.location&&r.location.pathname},o.push(n),o=o.slice(-100)}},getBehavior:function(){return o||[]},setBehavior:function(e){return o=e||o},reportBehavior:function(e){var t=this;t.getConfig("behavior")&&(t.sendBhTimer&&(clearTimeout(t.sendBhTimer),t.sendBhTimer=void 0),t.sendBhTimer=setTimeout((function(){o&&0<o.length&&(t.behavior(o),o=[],t.sendBhTimer=void 0,e)&&"function"==typeof e&&e()}),0))},initBehavior:function(){if(!this.hasInitBehavior&&!a){try{document&&document.referrer&&document.location&&(g=document.referrer,_=document.location.href,""!==g)&&(s=_,a)&&a.addBehavior({type:"navigation",data:{from:g,to:_}}),r&&r.document&&r.document.addEventListener&&(r.document.addEventListener("click",n("click"),!1),r.document.addEventListener("keypress",n("keypress"),!1)),h=(h=r&&r.chrome)&&h.app&&h.app.runtime,f="history"in r&&!!r.history.pushState&&!!r.history.replaceState,!h&&f&&(d=function(e,t){a&&a.addBehavior({type:"navigation",data:{from:e,to:t}}),s=t},p=r.onpopstate,r.onpopstate=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=r.location.href;if(d(s,n),p)return p.apply(this,t)},i(r.history,"pushState",h=function(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=2<r.length?r[2]:void 0;return n&&d(s,String(n)),e.apply(this,r)}}),i(r.history,"replaceState",h));var t=this.getConfig("enableConsole");if(t){var o=t;if(r&&r.console){var l=["debug","info","warn","log","error","assert"];e.isArray(o)&&(l=o);for(var c=0;c<l.length;c++){var u=l[c];u&&e.isString(u)&&r.console[u]&&"function"==typeof r.console[u]&&i(r.console,u,(function(e){var t=u;return function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];if(a&&a.addBehavior({type:"console",data:{level:t,message:n}}),"error"===t)for(var s=0;s<n.length;s++){var l=n[s];l&&l.message&&l.stack&&a&&a.errorHandler(new ErrorEvent("error",{error:l,message:l.message}))}e&&Function.prototype.apply.call(e,r.console,n)}}))}}}}catch(t){e.warn("[arms] error in initBehavior",t)}(a=this).hasInitBehavior=!0}var d,p,h,f,g,_;return this}})}),E}var I,L,D,O,M,N,H,U,B,j,F,V,q,W,z,$,X,K={};function G(){return I||(I=1,K.TIMING_KEYS=["startTime","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","","domInteractive","","domContentLoadedEventEnd","","loadEventStart","","msFirstPaint","secureConnectionStart","redirectStart","redirectEnd"]),K}function Q(){return H||(H=1,N=function(e,t,r){function i(e,t,i,n,o){if(void 0===t){var a;if(!v[e]){s=new RegExp(e+"=([^;]+)");try{a=s.exec(r.cookie)}catch(e){return c.warn("[retcode] can not get cookie:",e),null}a&&(v[e]=a[1])}return v[e]}var s=e+"="+t;s+="; path=/",i&&(s+="; max-age="+i);try{return r.cookie=s,!!r.cookie}catch(e){return c.warn("[retcode] can not set cookie: ",e),!1}}function n(e){return(e=e._conf.uid||i("_nk_")||i("_bl_uid"))||(e=c.uu(),i("_bl_uid",e,15552e3))?e:null}var o,a,s,l,c=_(),u=(D||(D=1,s=_(),l=G().TIMING_KEYS,L=function(){var e,t,r,i=s.win||{},n=i.performance;return n&&"object"==_typeof(n)&&"function"==typeof n.getEntriesByType?(e={},t=n.timing||{},r=n.getEntriesByType("resource")||[],e.begin=t[l[1]]||Date.now(),"function"==typeof i.PerformanceNavigationTiming&&(i=n.getEntriesByType("navigation")[0])&&(t=i),s.each({dom:[10,8],load:[14,1]},(function(r,i){var n=t[l[r[1]]];r=t[l[r[0]]];0<n&&0<r&&0<=(r=Math.round(r-n))&&r<6e5&&(e[i]=r)})),e.res=JSON.stringify(r),e):null}),L),d=(M||(M=1,o=_(),a=G().TIMING_KEYS,O=function(){var e,t,r,i,n,s=o.win||{},l=s.performance;return l&&"object"==_typeof(l)?(e={},t=l.timing||{},r=Date.now(),i=1,"function"==typeof s.PerformanceNavigationTiming&&(n=l.getEntriesByType("navigation")[0])&&(t=n,i=2),o.each({dns:[3,2],tcp:[5,4],ssl:[5,17],ttfb:[7,6],trans:[8,7],dom:[10,8],res:[14,12],firstbyte:[7,2],fpt:[8,1],tti:[10,1],ready:[12,1],load:[14,1]},(function(r,n){var o=t[a[r[1]]];r=t[a[r[0]]];(2===i||0<o&&0<r)&&0<=(r=Math.round(r-o))&&r<6e5&&(e[n]=r)})),n=s.navigator.connection,s=l.navigation||{},e.ct=n?n.effectiveType||n.type:"",(l=999<(l=n&&(n.downlink||n.downlinkMax||n.bandwidth)||null)?999:l)&&(e.bandwidth=l),e.navtype=1===s.type?"Reload":"Other",1===i&&0<t[a[16]]&&0<t[a[1]]&&0<=(n=t[a[16]]-t[a[1]])&&n<36e5&&(e.fpt=n),1===i&&0<t[a[1]]?e.begin=t[a[1]]:e.begin=2===i&&0<e.load?r-e.load:r,e):null}),O),p=null,h=r.documentElement,f=t.innerWidth||h.clientWidth||r.body.clientWidth,g=t.innerHeight||h.clientHeight||r.body.clientHeight,m=t.navigator.connection,y={sr:screen.width+"x"+screen.height,vp:f+"x"+g,ct:m?m.effectiveType||m.type:""},v={};return c.ext(e.prototype,{activeErrHandler:function(e){return p&&!e||(p=this),this},errorHandler:function(e){if(e){var t,r=e.type;"error"===r?!(t=e.target||e.srcElement)||!t.tagName||e.message||e.filename||e.lineno||e.colno?this.error(e.error||{message:e.message},e):this.resourceErrorHandler(e):"unhandledrejection"===r&&c.T(e.reason,"Error")&&c.checkAutoError(e.reason)&&this.error(e.reason);try{this.getConfig("behavior")&&this.reportBehavior&&this.reportBehavior()}catch(e){}}return this},resourceErrorHandler:function(e){var t=this,r=e.target||e.srcElement;try{var i=t.getSrc(r),n="string"==typeof r.tagName?r.tagName.toLowerCase():"",o=t.getXPath(r,5),a=c.getURL(i),s={src:i&&i.substring(0,1e3),node_name:n,xpath:o,res_type:c.getResType(n,i),res_name:a.path,domain:a.domain};return t._conf.enableResource&&t.fixResourceStatus&&e.timeStamp&&t.fixResourceStatus({src:i,node_name:n,res_type:c.getResType(n,i),timeStamp:e.timeStamp,domain:a.domain}),t._lg("resourceError",s),t}catch(e){return c.warn("[ARMS] resourceErrorHandler error :",e),t}},getSrc:function(e){var t,r,i=e.src||e.href;try{i||(t="object"===("string"==typeof e.tagName?e.tagName.toLowerCase():""),r=e.getAttribute("classid")&&"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"===e.getAttribute("classid").toLowerCase()||"application/x-shockwave-flash"===e.getAttribute("type"),i=(i=t&&r?e.getAttribute("data")||e.getAttribute("codebase"):i)||e.outerHTML||e.innerHTML)}catch(e){i=""}return i},getXPath:function(e,t){var r=e.id?"#"+e.id:"",i="string"==typeof e.className?"."+e.className.split(" ").join("."):"";r=("string"==typeof e.tagName?e.tagName.toLowerCase():"")+r+i;return e.parentNode&&e.parentNode.tagName&&t-1!=0?this.getXPath(e.parentNode,t-1)+" > "+r:r},sendPerformance:function(e){var t=this;t.onReady((function(){var r=d();r&&r.load&&0<r.load&&(r.page=t.getPage(!0),(r=e?c.ext(r,e):r).autoSend=!0,t.performance(r))}))},sendResources:function(e){var t=this;t.onReady((function(){var r=u();r&&r.load&&0<r.load&&(r.load&&r.load<=2e3||r.load&&r.load<=8e3&&.05<Math.random()||(r.page=t.getPage(!0),r.dl=location.href,e&&(r=c.ext(r,e)),t._lg("res",r,t.getConfig("sample"))))}))},sendPV:function(){var e=this;e.onReady((function(){o=n(e),i=t.devicePixelRatio||1;var i,o={uid:o,dt:r.title,dl:location.href,dr:r.referrer,dpr:i.toFixed(2),de:(r.characterSet||r.defaultCharset||"").toLowerCase(),ul:h.lang,begin:Date.now()};o.uid&&e._lg("pv",o,e.getConfig("pvSample"))}))},commonInfo:function(){return y.uid=n(this),y.sid=function(e){if(e.session)return e.session;var t;try{if("object"==("undefined"===typeof window?"undefined":_typeof(window))&&"object"==("undefined"===typeof sessionStorage?"undefined":_typeof(sessionStorage))&&"function"==typeof sessionStorage.getItem)return"string"==typeof(t=sessionStorage.getItem("_bl_sid"))?e.session=t:(t=c.uu(),e.session=t,"function"==typeof sessionStorage.setItem&&sessionStorage.setItem("_bl_sid",t)),t}catch(e){c.warn("[ARMS] getSid error :",e)}return e.session=t=c.uu(),t}(this),y},handleUnload:function(e){var t=Date.now();if(t-this._lastUnload<200)return this;this._lastUnload=t,this.sendHealth(e),this.speedCache&&(this._lg("speed",this.speedCache),this.speedCache=null,clearTimeout(this.speedTimmer)),this._conf&&this._conf.enableResource&&this.resourceComboReport(),this.clear(!0)},bindHashChange:function(e){var r=this;if(!e^r.hashChangeHandler)return r;e?(r.hackHistoryState(),r.hashChangeHandler=function(e){var t=r._conf.parseHash(location.hash);t&&r.setPage(t,!1!==e)},r.stateChangeHandler=function(e){e=r._conf.parseHash(e.detail),e&&r.setPage(e)},c.on(t,"hashchange",r.hashChangeHandler),c.on(t,"historystatechange",r.stateChangeHandler),r.hashChangeHandler(!1)):(c.off(t,"hashchange",r.hashChangeHandler),c.off(t,"historystatechange",r.stateChangeHandler),r.hashChangeHandler=null,r.stateChangeHandler=null)},initHandler:function(){var e,r=this;return r.hasInitHandler||(e=r._conf,c.on(t,"beforeunload",(function(){r.handleUnload(0)})),r.bindHashChange(e.enableSPA),r.activeErrHandler(!1),r.hasInitHandler=!0),r}}),c.on(t,"error",(function(e){p&&p.errorHandler(e)}),!1,!0).on(t,"unhandledrejection",(function(e){p&&p.errorHandler(e)})),e}),N}function Y(){var e;return B||(B=1,e=_(),500,U=function(t,r,i){var n=r.innerHeight||0,o=[],a=null,s=0;e.ext(t.prototype,{initFmpObserver:function(t){var l=this;if(!l._conf||!l._conf.useFmp)return null;if(!r.MutationObserver)return e.warn("[retcode] first meaningful paint can not be retrieved"),l.sendPerformance(),null;e.on(r,"beforeunload",(function(){l.endObserving(0,!0)}));var c=r.MutationObserver;return(a=new c((function(){var e,t,r;e=l._startTime,e=Date.now()-e,(r=i.querySelector("body"))?(t=0,t+=function e(t,r,i){var o=0,a=t.tagName;if("SCRIPT"!==a&&"STYLE"!==a&&"META"!==a&&"HEAD"!==a){if(0<(a=t.children?t.children.length:0))for(var s=t.children,l=a-1;0<=l;l--)o+=e(s[l],r+1,0<o);if(o<=0&&!i&&!(t.getBoundingClientRect&&t.getBoundingClientRect().top<n))return 0;o+=1+.5*r}return o}(r,1,!1),o.push({score:t,t:e})):o.push({score:0,t:e})}))).observe(document,{childList:!0,subtree:!0}),s=1,l.onReady((function(){l.endObserving(t)})),a},endObserving:function(t,r){var i=this;if(a&&s)if(i.fmpTimmer&&(clearTimeout(i.fmpTimmer),i.fmpTimmer=null),r||!function(e,t){return e=Date.now()-e,!(t<e||e-(o&&o.length&&o[o.length-1].t||0)>1e3)}(i._startTime,t)){a.disconnect(),s=0,o=function e(t){for(var r=1;r<t.length;r++)if(t[r].score<t[r-1].score)return t.splice(r,1),e(t);return t}(o);for(var n,l=null,c=1;c<o.length;c++)o[c].t>=o[c-1].t&&(n=o[c].score-o[c-1].score,!l||l.rate<=n)&&(l={t:o[c].t,rate:n});l&&0<l.t&&l.t<36e5?i.sendPerformance({fmp:l.t}):i.sendPerformance()}else i.fmpTimmer=e.delay((function(){i.endObserving(t)}),500)}})}),U}function J(){var e,t,r,i,n,o,a,s,l,c,u,d,p,h,f,m,y,v;return $||($=1,e=_(),b||(b=1,h=_(),f=x(),m=["api","success","time","code","msg","trace","traceId","begin","pv_id","sid","seq","domain","flag","apiSnapshot","tag","c1","c2","c3"],y=function(e){var t=(e.key||"default").split("::");return 1<t.length?h.ext(e,{group:t[0],key:t[1]}):h.ext(e,{group:"default_group",key:t[0]})},(v=function(e){var t;f.call(this,e);try{t="object"==("undefined"===typeof performance?"undefined":_typeof(performance))?performance.timing.fetchStart:Date.now()}catch(e){t=Date.now()}return this._startTime=t,this}).prototype=h.createObject(f.prototype),h.ext(f.dftCon,{startTime:null}),h.ext(v.prototype,{constructor:v,_super:f,sum:function(e,t,r){try{var i=h.dealParam(e,t,1);return this._lg("sum",y(i),r)}catch(e){h.warn("[retcode] can not get parseStatData: "+e)}},avg:function(e,t,r){try{var i=h.dealParam(e,t,0);return this._lg("avg",y(i),r)}catch(e){h.warn("[retcode] can not get parseStatData: "+e)}},percent:function(e,t,r,i){try{return this._lg("percent",y({key:e,subkey:t,val:r||0,begin:Date.now()}),i)}catch(e){h.warn("[retcode] can not get parseStatData: "+e)}},msg:function(e,t){if(e&&!(180<e.length))return this.custom({msg:e},t)},error:function(e,t){if(!e)return h.warn("[retcode] invalid param e: "+e),this;1===arguments.length?("string"==typeof e&&(e={message:e},t={}),"object"==_typeof(e)&&(t=e=e.error||e)):("string"==typeof e&&(e={message:e}),"object"!=_typeof(t)&&(t={}));var r,i=e.name||"CustomError",n=e.message||"",o=e.stack||"",a=(t=t||{},"object"==("undefined"===typeof location?"undefined":_typeof(location))&&"string"==typeof location.href&&location.href.substring(0,500)||"");if(h.checkSDKError(n,t.filename))return r=e.msg||e.message,h.ignoreByRule(r,d=/^Script error\.?$/)||h.ignoreByRule(h.decode(r),d)?this:(r={msg:h.selfErrKey,err:{msg_raw:h.encode(e.msg||e.message)}},this._self("error",r,1));for(var s={begin:Date.now(),cate:i,msg:n&&n.substring(0,1e3),stack:o&&o.substring(0,1e3),file:h.removeUrlSearch(t.filename||""),line:t.lineno||"",col:t.colno||"",err:{msg_raw:h.encode(n),stack_raw:h.encode(o)},dl:a},l=["tag","c1","c2","c3"],c=0;c<l.length;c++){var u=l[c];t[u]&&(s[u]=t[u])}var d=(this.getConfig("ignore")||{}).ignoreErrors;return h.ignoreByRule(s.msg,d)||h.ignoreByRule(h.decode(s.msg),d)?this:(this.beforeSend&&this.beforeSend("error",s),this._lg("error",s,1))},behavior:function(e){if(e)return e="object"==_typeof(e)&&e.behavior?e:{behavior:e},this.beforeSend&&this.beforeSend("behavior",e),this._lg("behavior",e,1)},api:function(e,t,r,i,n,o,a,s,l,c,u,d,p,f,g,_){return e?(e="string"==typeof e?{api:e,success:t,time:r,code:i,msg:n,begin:o,traceId:a,pv_id:s,apiSnapshot:l,domain:c,flag:d,tag:p,c1:f,c2:g,c3:_}:h.sub(e,m),h.checkAPI(e.api,!0)?(e.code=e.code||"",t=e.msg||"",t="string"==typeof t?t.substring(0,1e3):t,e.msg=t,e.success=e.success?1:0,e.time=+e.time,e.begin=e.begin,e.traceId=e.traceId||"",e.pv_id=e.pv_id||"",e.domain=e.domain||"",e.flag=e.flag,e.dl="object"==("undefined"===typeof location?"undefined":_typeof(location))&&"string"==typeof location.href&&location.href.substring(0,500)||"",e.apiSnapshot&&("object"==_typeof(e.apiSnapshot)&&(e.apiSnapshot=JSON.stringify(e.apiSnapshot)),"string"!=typeof e.apiSnapshot&&delete e.apiSnapshot,2e3<e.apiSnapshot.length)&&(e.apiSnapshot=e.apiSnapshot.substring(0,2e3)),u&&(e.traceOrigin=u),!e.api||isNaN(e.time)?(h.warn("[retcode] invalid time or api"),this):(r=(this.getConfig("ignore")||{}).ignoreApis,h.ignoreByRule(e.api,r)||h.ignoreByRule(h.decode(e.api),r)||e.time<0?this:(this.beforeSend&&this.beforeSend("api",e),this._lg("api",e,e.success&&this.getConfig("sample"),e.flag)))):this):(h.warn("[retcode] api is null"),this)},speed:function(e,t,r){var i=this,n=this.getConfig("startTime")||this._startTime;return/^s(\d|1[0])$/.test(e)?(t="number"!=typeof t?Date.now()-n:n<=t?t-n:t,i.speedCache=i.speedCache||{},i.speedCache[e]=t,i.speedCache.begin=n,clearTimeout(i.speedTimmer),i.speedTimmer=setTimeout((function(){r||(i.speedCache.page=i.getPage(!0)),i._lg("speed",i.speedCache),i.speedCache=null}),5e3)):h.warn("[retcode] invalid point: "+e),i},performance:function(e){if(e&&"object"==_typeof(e)&&!this.hasSendPerf){var t,r={},i={},n=this.getConfig("autoSendPerf");if(e.autoSend&&n)return i=h.ext(this.perfData||{},e),this.hasSendPerf=!0,this._lg("perf",i,this.getConfig("sample"));if(e.autoSend&&!n)return delete e.autoSend,this.perfData?(i=h.ext(this.perfData||{},e),this.hasSendPerf=!0,this._lg("perf",i,this.getConfig("sample"))):void(this.perfData=e);for(t in e)!/^t([1-9]|1[0])$/.test(t)&&"ctti"!==t&&"cfpt"!==t||(r[t]=e[t]);if(!0===e.autoSend||!n&&this.perfData)return!0!==e.autoSend&&!1===n&&this.perfData?(r=h.ext(this.perfData||{},r),this.hasSendPerf=!0,this._lg("perf",r,this.getConfig("sample"))):void 0;this.perfData=h.ext(this.perfData||{},r)}},resource:function(e,t){if(!e||!h.isPlainObject(e))return h.warn("[arms] invalid param data: "+e),this;var r,i=Object.keys(e),n=["begin","dom","load","res","dl"],o=!1;for(r in n)if(i.indexOf(n[r])<0){o=!0;break}return o?(h.warn("[arms] lack param data: "+e),this):(e={begin:e.begin||Date.now(),dom:e.dom||"",load:e.load||"",res:h.isArray(e.res)?JSON.stringify(e.res):JSON.stringify([]),dl:e.dl||""},this._lg("res",e,t))},event:function(e,t){if("object"==_typeof(e)&&e&&e.key){var r,i={},n=["key","success","time","c1","c2","c3"];for(r in e)-1<n.indexOf(r)&&(i[r]=e[r]);i.success=!1===e.success?0:1,this._lg("event",i,t)}}}),v._super=f,(v._root=f).Reporter=v,w.exports=v),t=w.exports,T||(T=1,u=_(),d="object"==("undefined"===typeof window?"undefined":_typeof(window))?window:{},p="function"==typeof(p=d.__oFetch_||d.fetch)?p:void 0,P.exports=function(e,t){var r,i=-1;"object"==_typeof(e)&&(i=e.z,e=u.serialize(e)),t+=e;if(p)return p(t,{method:"HEAD",mode:"no-cors"}).catch(u.noop);d.document&&d.document.createElement&&((e=d[r="__request_hold_"+i]=new Image).onload=e.onerror=function(){d[r]=void 0},e.src=t)}),r=P.exports,k||(k=1,l=_(),v="object"==("undefined"===typeof window?"undefined":_typeof(window))?window:{},c="function"==typeof(c=v.__oXMLHttpRequest_||v.XMLHttpRequest)?c:void 0,A.exports=function(e,t){try{var r=new c;r.open("POST",t,!0),r.setRequestHeader("Content-Type","text/plain"),r.send(JSON.stringify(e))}catch(e){l.warn("[retcode] Failed to log, exception is :\n"+e)}}),i=A.exports,n=e.win,o=n.document,a=/^(error|api|speed|sum|avg|percent|custom|msg|setPage|setConfig|behavior|performance)$/,(s=function(r){var i=this;return t.call(i,r),i._initialPage=r.page&&e.safetyCall(r.page,[],r.page+"")||null,i._isRobot=e.isRobot(),i._health={errcount:0,apisucc:0,apifail:0},!(i.beforeSend=function(e,t){"error"===e?i._health.errcount++:"api"===e&&i._health[t.success?"apisucc":"apifail"]++})!==r.enableInstanceAutoSend&&(i.initHandler(),i.initHook(),i.initFmpObserver(1e4),i._conf&&i._conf.behavior&&"function"==typeof i.initBehavior&&i.initBehavior(),i._conf)&&i._conf.enableResource&&"function"==typeof i.initResource&&i.initResource(),Object.defineProperty&&n.addEventListener&&Object.defineProperty(i,"pipe",{set:i.sendPipe}),i}).prototype=e.createObject(t.prototype),e.ext(t._root.dftCon,{uid:null,setUsername:null,ignoreUrlPath:null,ignoreApiPath:null,urlHelper:[{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},/\/$/],resourceHelper:[],apiHelper:{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},ignoreUrlCase:!0,imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",cdnHostList:[],resourceTypes:["css","script","img","font"],resourceSlow:2e3,disableHook:!1,autoSendPv:!0,autoSendPerf:!0,enableSPA:!1,enableLinkTrace:!1,linkType:"arms",enableApiCors:!1,sendResource:!0,behavior:!0,enableConsole:!1,parseHash:function(t){return(t?e.cutUrlSearch(t.replace(/^#\/?/,"")):"")||"[index]"},parseResponse:function(e){var t;return e&&"object"==_typeof(e)?(t=e.code,"object"==_typeof(e=e.msg||e.message||e.subMsg||e.errorMsg||e.ret||e.errorResponse||"")&&(t=t||e.code,e=e.msg||e.message||e.info||e.ret||JSON.stringify(e)),{msg:e,code:t,success:!0}):{}}}),e.ext(s.prototype,{constructor:s,_super:t,onReady:function(t){var r=this;if(r.hasReady)return t();"complete"===o.readyState?(r.hasReady=!0,t()):e.on(n,"load",(function(){r.hasReady=!0,t()}),!0)},getPage:function(t){var r=this._conf,i=r.page,n=location,o=n.host+n.pathname;return i&&!t?e.safetyCall(i,[],i+""):this._initialPage||e.filterByRule(r.ignoreUrlCase?o.toLowerCase():o,n.href,r.ignoreUrlPath||r.urlHelper)},setPage:function(e,t){var r=this,i=r.prevPage;if(!1!==t){if(!e||e===i)return r;r.prevPage=e,clearTimeout(r.sendPVTimmer),r.handleUnload(1),r.resetPageview(),r.sendPVTimmer=setTimeout((function(){r.sendPV()}),10)}else r.prevPage=e;return r._conf.page=e,r},setConfig:function(t,r){var i;t&&"object"==_typeof(t)&&(e.verifyConfig(t),t=this.setImgUrl(t),i=this._conf,this._conf=e.ext({},i,t),r||((r="disableHook")in t&&i[r]!==t[r]&&(t[r]?this.removeHook():this.addHook()),(r="enableSPA")in t&&i[r]!==t[r]&&this.bindHashChange(t[r])))},sendRequest:function(e){r(e,this.getConfig("imgUrl"))},postData:function(t,r){var n={};n[r]=t[r],delete t[r],r="";"object"==_typeof(t)&&(r=e.serialize(t)),i(n,this.getConfig("imgUrl")+r+"&post_res=")},sendPipe:function(t){var r,i=this;if(!t||!t.length)return i;try{return"Array"===e.T(t[0])?e.each(t,(function(e){return i.sendPipe(e)})):"Array"===e.T(t)&&(r=t.shift(),a.test(r))?void i[r].apply(i,t):i}catch(t){return e.warn("[retcode] error in sendPipe",t),i}},sendHealth:function(){var t=e.ext({},this._health),r=(t.healthy=0<t.errcount?0:1,t.begin=Date.now(),t.begin-this.sBegin);t.stay=r,this._lg("health",t,1),this._health={errcount:0,apisucc:0,apifail:0}},createInstance:function(t){t=e.ext({pid:this._conf.pid},t);var r=this.__proto__.constructor(t);return t.page&&r.sendPV(),r}}),R()(s,n),Q()(s,n,o),Y()(s,n,o),function(){return F||(F=1,j=function(e,t){function r(e,t,r,n,a,s,l,c,u,d,p,h,f){a=i.J(a)||null,(t=i.safetyCall(t,[a,n],null))&&(a=t.code||s,n=!("success"in t)||t.success,e.api(r,n,l,a,t.msg,c,u,d,n?{}:p,o,h,f))}var i=_(),n=null,o=i.getCurDomain(),a="fetch",s="__oFetch_",l="__oXMLHttpRequest_",c="XMLHttpRequest";return i.ext(e.prototype,{removeHook:function(e,r){return n&&(r||this===n)&&(t[s]&&(t[a]=t[s],delete t[s]),t[l]&&(t[c]=t[l],delete t[l]),n=null),this},addHook:function(e){return!e&&n||(n||("function"==typeof t[a]&&(h=t[a],t[s]=h,t[a]=function(e,a){var s=1===arguments.length?[e]:Array.apply(null,arguments),l=n;if(!l||!l.api||a&&("HEAD"===a.method||"no-cors"===a.mode))return h.apply(t,s);a=a||{};var c=Date.now(),u=l._conf,d=i.duration(),p=f=(e&&"string"!=typeof e?e.url:e)||"",f=i.cutUrlSearch(f),g=(u.ignore||{}).ignoreApis,_=u.parseTraceId;if(!i.checkAPI(f,!0)||i.ignoreByRule(f,g))return h.apply(t,s);f=i.filterByRule(f,p,u.ignoreApiPath||u.apiHelper);g=u.enableLinkTrace;var m="",y="",v=l.getConfig("pid"),b=null,w=l.getConfig("sample"),S=l.getConfig("linkType"),x=1;if(w&&!l.sampling(w)&&(x=0),g){w="";try{w=location.origin||location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(e){w=""}var T;g=i.checkSameOrigin(p,w);if(l.getConfig("enableApiCors")||g)if(e&&"string"!=typeof e)try{if(s[0].headers&&"function"==typeof s[0].headers.get&&"function"==typeof s[0].headers.append)switch(S){case"arms":var k=s[0].headers.get("EagleEye-TraceID"),E=s[0].headers.get("EagleEye-SessionID"),C=s[0].headers.get("EagleEye-pAppName");k?m=k:(m=l.getTraceId()["EagleEye-TraceID"],s[0].headers.append("EagleEye-TraceID",m)),E?y=E:(y=l.getPageviewId()["EagleEye-SessionID"],s[0].headers.append("EagleEye-SessionID",y)),C||s[0].headers.append("EagleEye-pAppName",v);break;case"b3":var P,A=s[0].headers.get("X-B3-TraceId");m=A||(P=l.getB3TraceId(x),s[0].headers.append("X-B3-TraceId",P["X-B3-TraceId"]),s[0].headers.append("X-B3-ParentSpanId",P["X-B3-ParentSpanId"]),s[0].headers.append("X-B3-SpanId",P["X-B3-SpanId"]),s[0].headers.append("X-B3-Sampled",P["X-B3-Sampled"]),s[0].headers.append("X-Request-ID",i.guid()),P["X-B3-TraceId"]),y=l.pageview;break;default:var R=s[0].headers.get("uber-trace-id");m=R?R.split(":")[0]:(R=l.getUberTraceId(x),s[0].headers.append("uber-trace-id",R["uber-trace-id"]),R.traceId),y=l.pageview}}catch(e){i.warn("[retcode] fetch failed to set header, exception is :\n"+e)}else switch(a.headers=a.headers||{},S){case"arms":a.headers["EagleEye-TraceID"]?m=a.headers["EagleEye-TraceID"]:(m=l.getTraceId()["EagleEye-TraceID"],a.headers["EagleEye-TraceID"]=m),a.headers["EagleEye-SessionID"]?y=a.headers["EagleEye-SessionID"]:(y=l.getPageviewId()["EagleEye-SessionID"],a.headers["EagleEye-SessionID"]=y),a.headers["EagleEye-pAppName"]||(a.headers["EagleEye-pAppName"]=v);break;case"b3":m=a.headers["X-B3-TraceId"]||(T=l.getB3TraceId(x),a.headers["X-B3-TraceId"]=T["X-B3-TraceId"],a.headers["X-B3-ParentSpanId"]=T["X-B3-ParentSpanId"],a.headers["X-B3-SpanId"]=T["X-B3-SpanId"],a.headers["X-B3-Sampled"]=T["X-B3-Sampled"],a.headers["X-Request-ID"]=i.guid(),T["X-B3-TraceId"]),y=l.getPageviewId()["EagleEye-SessionID"];break;default:m=a.headers["uber-trace-id"]?a.headers["uber-trace-id"].split(":")[0]:(T=l.getUberTraceId(x),a.headers["uber-trace-id"]=T["uber-trace-id"],T.traceId),y=l.getPageviewId()["EagleEye-SessionID"]}}return h.apply(t,s).then((function(e){if(!l||!l.api)return e;try{if(e&&"function"==typeof e.clone){var t=e.clone(),a=t.headers;if(a&&"function"==typeof a.get){var h,g=a.get("content-type");if(g&&!/(text)|(json)/.test(g))return e;m||"object"==_typeof(h=i.parseFetchHeaders(a))&&h["eagleeye-traceid"]&&(m=h["eagleeye-traceid"],b="response")}var v=d();t.text().then((function(e){!m&&i.isFunction(_)&&(d=_(t,e))&&i.isString(d)&&(m=d);var d=i.getFetchSnapshot(s,e,a);t.ok?r(l,u.parseResponse,f,p,e,t.status||200,v,c,m,y,d,b,x):(l.api(f,!1,v,t.status||404,t.statusText,c,m,y,d,o,b,x),u.enableResource&&n.fixResourceStatus&&n.fixResourceStatus({src:t.url,res_type:"api"}))}))}return e}catch(h){return i.warn("[ARMS] fetch response error :",h),e}})).catch((function(e){var t;throw l&&l.api&&(t=d(),l.api(f,!1,t,e.name||"Error",e.message,c,m,y,{},o),u.enableResource)&&n.fixResourceStatus&&n.fixResourceStatus({src:p,res_type:"api"}),e}))},t[a].toString=i.createFakeToString(a)),"function"==typeof t[c]&&(d=t[c],t[l]=d,(p=function(e){var t,a,s,l,c,p,h,f,g,_,m,y,v,b,w,S,x,T=new d(e),k=n;return k&&k.api&&T.addEventListener&&(c=T.send,p=T.open,h=T.setRequestHeader,f=k._conf,g=(f.ignore||{}).ignoreApis,_=f.parseTraceId,m=k.getConfig("enableLinkTrace"),b=v=y="",w=null,e=k.getConfig("sample"),S=k.getConfig("linkType"),x=1,e&&!k.sampling(e)&&(x=0),T.open=function(e,t){if(u=e,e=1===arguments.length?[e]:Array.apply(null,arguments),p.apply(T,e),l=t||"",s=i.cutUrlSearch(l),e=!i.checkAPI(s,!0)||i.ignoreByRule(s,g),s=s?i.filterByRule(s,l,f.ignoreApiPath||f.apiHelper):"",!e&&m){t="";try{t=location.origin||location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(e){t=""}if(e=i.checkSameOrigin(l,t),(k.getConfig("enableApiCors")||e)&&h&&"function"==typeof h)switch(S){case"arms":y=k.getTraceId()["EagleEye-TraceID"],h.apply(T,["EagleEye-TraceID",y]),v=k.getPageviewId()["EagleEye-SessionID"],h.apply(T,["EagleEye-SessionID",v]),b=k.getConfig("pid"),h.apply(T,["EagleEye-pAppName",b]);break;case"b3":var r=k.getB3TraceId(x);h.apply(T,["X-B3-TraceId",r["X-B3-TraceId"]]),h.apply(T,["X-B3-ParentSpanId",r["X-B3-ParentSpanId"]]),h.apply(T,["X-B3-SpanId",r["X-B3-SpanId"]]),h.apply(T,["X-B3-Sampled",r["X-B3-Sampled"]]),h.apply(T,["X-Request-ID",i.guid()]),y=r["X-B3-TraceId"],v=k.getPageviewId()["EagleEye-SessionID"];break;default:r=k.getUberTraceId(x),h.apply(T,["uber-trace-id",r["uber-trace-id"]]),y=r.traceId,v=k.getPageviewId()["EagleEye-SessionID"]}}},T.send=function(){t=Date.now(),a=i.duration();var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);c.apply(T,e)},i.on(T,"readystatechange",(function(){if(s&&4===T.readyState){var e=a(),c=i.getXhrSnapshot(l,u,T);if(y||"object"==_typeof(d=i.parseXhrHeaders("function"==typeof T.getAllResponseHeaders&&T.getAllResponseHeaders()||""))&&d["eagleeye-traceid"]&&(y=d["eagleeye-traceid"],w="response"),!y&&i.isFunction(_)&&(d=_(T))&&i.isString(d)&&(y=d),200<=T.status&&T.status<=299){var d=T.status||200;if("function"==typeof T.getResponseHeader){var p=T.getResponseHeader("Content-Type");if(p&&!/(text)|(json)/.test(p))return}T.responseType&&"text"!==T.responseType?k.api(s,!0,e,d,"",t,y,v,{},o,w,x):r(k,f.parseResponse,s,l,T.responseText,d,e,t,y,v,c,w,x)}else k.api(s,!1,e,T.status||"FAILED",T.statusText,t,y,v,c,o,w,x),f.enableResource&&n.fixResourceStatus&&n.fixResourceStatus({src:T.responseURL||l,res_type:"api"})}}))),T}).prototype=d.prototype,i.each(Object.keys(d),(function(e){p[e]=d[e]})),t[c]=p,t[c].toString=i.createFakeToString(c))),n=this),this;var u,d,p,h},initHook:function(){return this.hasInitHook||(this.getConfig("disableHook")||this.addHook(),this.hasInitHook=!0),this}}),e}),j}()(s,n),function(){return q||(q=1,V=function(e,t){function r(e,r){var i;t.CustomEvent?i=new CustomEvent(e,{detail:r}):((i=a.createEvent("HTMLEvents")).initEvent(e,!1,!0),i.detail=r),t.dispatchEvent(i)}function i(e){var t=o[e];"function"==typeof t&&(o[e]=function(i,a,s){i=1===arguments.length?[i]:Array.apply(null,arguments);var l=location.href;i=t.apply(o,i);if(s&&"string"==typeof s&&s!==l)try{var c=l.split("#"),u=s.split("#"),d=n.cutUrlSearch(c[0]),p=n.cutUrlSearch(u[0]),h=c[1]&&c[1].replace(/^\/?(.*)/,"$1"),f=u[1]&&u[1].replace(/^\/?(.*)/,"$1");h!==f?r("historystatechange",f):d!==p&&r("historystatechange",p)}catch(i){n.warn("[retcode] error in "+e+": "+i)}return i},o[e].toString=n.createFakeToString(e))}var n=_(),o=t.history||{},a=t.document;n.ext(e.prototype,{hackHistoryState:function(){return this.hasHackedHistoryState||(i("pushState"),i("replaceState"),this.hasHackedHistoryState=!0),this}})}),V}()(s,n),function(){var e,t;return z||(z=1,e=_(),t=G().TIMING_KEYS,W=function(r,i){var n="_resource-"+Date.now(),o="_resource_error-"+Date.now();e.ext(r.prototype,{initResource:function(){var e,t=this,r=i.performance,n=i.PerformanceObserver;return t[o]||(t[o]=new WeakMap),r&&n&&"object"==_typeof(r)&&"function"==typeof r.getEntriesByType?(e=r.getEntriesByType("resource")||[],setTimeout((function(){t.setResource(e)}),10),new n((function(e){setTimeout((function(){t.setResource(e.getEntries())}),10)})).observe({entryTypes:["resource"]}),this.onReady((function(){setTimeout(t.resourceComboReport.bind(t),5e3)})),t):null},setResource:function(r){var a=this._conf,s=this[o];if(e.isArray(r)&&r.length){this[n]||(this[n]={});for(var l=this[n],c=0,u=r.length;c<u;c+=1){var d,p=r[c];e.checkAPI(p.name,!1)&&(p=function(r,n,o){if(r instanceof i.PerformanceResourceTiming&&r.initiatorType){var a,s,l,c,u,d,p,h,f,g=e.getResType(r.initiatorType,r.name),_=n.resourceTypes||[],m=(n.ignore||{}).ignoreResources;if(g&&_.includes(g)&&!e.ignoreByRule(r.name,m)&&!e.ignoreByRule(e.decode(r.name),m))return _=r[t[0]],m=r[t[1]],a=r[t[2]],s=r[t[3]],l=r[t[4]],c=r[t[5]],u=r[t[6]],d=r[t[7]],p=r[t[8]],h=r[t[18]],f=r[t[19]],(o.has(r)||e.areInOrder(_,m,a,s,l,c,u,d,p)&&!(d<_))&&e.areInOrder(_,h=h<_?_:h,f=f<_?m:f,m)?{domain:e.getURL(r.name).domain,res_type:g,src_type:e.getSrcType(r.name,n.cdnHostList),success:1,size:Math.round(r.decodedBodySize),duration:Math.round(r.duration),timeStamp:r.responseEnd,timing:r}:void 0}}(p,a,s))&&((d=p.res_type+"-"+p.domain)in l||(l[d]=[]),l[d].push(p))}return this}},fixResourceStatus:function(t){var r,n,a=i.performance;return a&&"function"==typeof a.getEntriesByName?(r=this[o],t.src&&e.checkAPI(t.src,!1)&&(n=t.timeStamp||a.now(),a=a.getEntriesByName(t.src,"resource"),e.each(a,(function(e){r.has(e)||n-e.responseEnd<100&&r.set(e,{success:0})}))),this):null},resourceComboReport:function(){var t,r,a=this[n]||{},s=this._conf.resourceSlow||2e3,l=this[o],c=(this[n]={},Object.keys(a));0!==c.length&&(t=[],e.each(c,(function(r){r=a[r];var i={domain:"",res_type:"",src_type:"",size:0,duration:0,count:0,err_count:0,err_duration:0,slow_count:0,slow_duration:0,timings:[]};e.each(r,(function(e){var t=e.timing||{},r=l.get(e.timing),n=(r=r?r.success:1,e.duration>s?1:0);i.domain=e.domain,i.res_type=e.res_type,i.src_type=e.src_type,i.count+=1,i.duration+=e.duration,i.size+=e.size,r||(i.err_count+=1,i.err_duration+=e.duration),n&&(i.slow_count+=1,i.slow_duration+=e.duration);try{var o=JSON.parse(JSON.stringify(t));o.success=r,o.resourceSlow=s,o.isSlow=n,i.timings.push(o)}catch(e){}})),i.count&&(i.size=Math.round(i.size/i.count),i.duration=Math.round(i.duration/i.count)),i.slow_count&&(i.slow_duration=Math.round(i.slow_duration/i.slow_count)),i.err_count&&(i.err_duration=Math.round(i.err_duration/i.err_count)),20<i.timings.length&&(i.timings.sort((function(e,t){return t.duration-e.duration})),i.timings.length=20),i.timings=encodeURIComponent(JSON.stringify(i.timings)),t.push(i)})),c={_combo:1,resource:JSON.stringify(t)},r=i.navigator.connection,c.ct=r?r.effectiveType||r.type:"",(r=999<(r=r&&(r.downlink||r.downlinkMax||r.bandwidth)||null)?999:r)&&(c.bandwidth=r),this._lg("resource",c,this.getConfig("sample")))}})}),W}()(s,n),s._super=t,s._root=t._root,t.Browser=s,g.exports=s),g.exports}var Z={getArmsLogger:function(){return X||(X=1,t=window,r=t.BrowserLogger=J(),i=_().key,n="__hasInitBlSdk",r.singleton=function(r,o){return t[n]?t[i]:e(r,o)},r.createExtraInstance=function(e){e&&"object"==_typeof(e)&&!0!==e.enableInstanceAutoSend&&(e.enableInstanceAutoSend=!1);e=new r(e);var t=e._conf;return t.enableInstanceAutoSend&&(!1!==t.autoSendPv&&e.sendPV(),t&&t.useFmp||e.sendPerformance(),t)&&t.sendResource&&e.sendResources(),e},"object"==("undefined"===typeof window?"undefined":_typeof(window))&&!!window.navigator&&t[i]&&(r.bl=t[n]?t[i]:(o={},a=[],i in t&&(o=t[i].config||{},a=t[i].pipe||[]),e(o,a))),f.exports=r),f.exports;function e(e,o){return e=t[i]=new r(e),e.sendPipe(o),o=e._conf,!1!==o.autoSendPv&&e.sendPV(),o&&o.useFmp||e.sendPerformance(),o&&o.sendResource&&e.sendResources(),t[n]=!0,e}var t,r,i,n,o,a}},ee="https://arms-retcode.aliyuncs.com/r.png?",te="https://arms-retcode-sg.aliyuncs.com/r.png?",re="https://retcode-us-west-1.arms.aliyuncs.com/r.png?",ie="e1iftji1w7@7ec1cef2cc88733",ne="e1iftji1w7@10a06d1ec260adc",oe="e1iftji1w7@10a06d1ec260adc",ae={cn:{reportUrl:ee,pid:ie},"cn-hangzhou":{reportUrl:ee,pid:ie},sg:{reportUrl:te,pid:ne},"ap-southeast-1":{reportUrl:te,pid:ne},usw:{reportUrl:re,pid:oe},"us-west-1":{reportUrl:re,pid:oe}},se=function(e){return!!Object.isExtensible(e)&&"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)};function le(e,t){if("string"==typeof e&&(t=e.indexOf(t),!(t<0)))return(e=e.indexOf("\n"))<0||t<e}function ce(e,t,r){if("function"==typeof e)return d=t+1,p=r,h={MediaboxWrapperFunctionApply:function(e,t,r){var i;try{i=Reflect.apply(e,t,r)}catch(e){throw p(e),e}return ce(i,d,p)},MediaboxWrapperFunctionGet:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!r||r.writable||r.configurable?ce(e[t],d,p):e[t]},MediaboxWrapperClassConstructor:function(e,t){var r;try{r=_construct(e,_toConsumableArray(t))}catch(e){throw p(e),e}return ce(r,d,p)}},new Proxy(e,{apply:h.MediaboxWrapperFunctionApply,get:h.MediaboxWrapperFunctionGet,construct:h.MediaboxWrapperClassConstructor});if(e instanceof Promise)return e.then((function(e){return ce(e,t+1,r)})).catch((function(e){return r(e),Promise.reject(e)}));if(Array.isArray(e))e.forEach((function(i,n){e[n]=ce(i,t+1,r)}));else if(function(e){return null!==e&&"object"==_typeof(e)}(e)&&se(e)){h=e;var i,n=t+1,o=r;if(!0===Reflect.get(h,"__v_skip"))return h;for(var a=[],s="function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors(null!=(u=Object.getPrototypeOf(h))?u:{}):{},l=0,c=Object.keys(s);l<c.length;l++)i=c[l],s[i].get&&a.push(i);var u={MediaboxWrapperObjectGetter:function(e,t){if("string"==typeof t&&-1<a.indexOf(t)){var r;try{r=e[t]}catch(i){throw o(i),i}return ce(r,n,o)}var i;return 10<n||(i=Reflect.getOwnPropertyDescriptor(e,t))&&!i.writable&&!i.configurable?e[t]:ce(e[t],n,o)},MediaboxWrapperObjectSetter:function(e,t,r){return e[t]=ce(r,n,o),!0}};return Object.defineProperty(h,"__v_skip",{configurable:!0,enumerable:!1,writable:!1,value:!0}),new Proxy(h,{get:u.MediaboxWrapperObjectGetter,set:u.MediaboxWrapperObjectSetter})}return e;var d,p,h}function ue(e){return"string"==typeof e&&(-1<e.indexOf("g.alicdn.com/apsara-media-")||-1<e.indexOf("g.alicdn.com/thor-server")||-1<e.indexOf("MediaboxWrapper"))}var de=function(e){"use strict";_inherits(r,e);var t=_createSuper(r);function r(e){var i;return _classCallCheck(this,r),i=t.call(this,e),i.name="MQTError",i}return _createClass(r)}(_wrapNativeSuper(Error)),pe=1,he=function(){"use strict";function e(t){var r,i;_classCallCheck(this,e),h(this,"armsLogger"),h(this,"isReady",!1),h(this,"isDestroyed",!1),h(this,"options"),h(this,"queue",[]),h(this,"marker"),h(this,"helper",{MediaboxWrapperQueue:function(e){return new de(e)},MediaboxWrapperInitiative:function(e){return new de(e)}}),this.options=(i=p({},t),t={region:t.deferRegionSet?void 0:null!=(r=t.region)?r:"cn",env:null!=(r=t.env)?r:"prod"},a(i,s(t))),this.marker="-".concat(pe++,"-"),this.initArmsLogger()}return _createClass(e,[{key:"initArmsLogger",value:function(t){var r=this,i=this.options,n=i.region,o=i.env,a=i.disabled;if(!a&&!this.armsLogger){if(t&&!n)throw new Error("region is required");if(n){if(!ae[n])throw new Error("region ".concat(n," is not supported"));a=Z.getArmsLogger(),this.armsLogger=a.createExtraInstance({enableInstanceAutoSend:!0,pid:ae[n].pid,tag:this.options.businessName,release:this.options.businessName+"_"+this.options.version,imgUrl:ae[n].reportUrl,behavior:!0,sample:1,disableHook:!0,environment:o,beforeReport:function(t){var i;if(!(r.isDestroyed||le(t.stack,r.marker)||"pv"!==t.t&&"error"!==t.t&&"health"!==t.t)){if(t.c1=null!=(i=r.options.cid)?i:window.location.host,t.c2=e.version,r.options.customData&&(t.c3=new URLSearchParams(r.options.customData).toString()),"error"!==t.t)return t;if("string"==typeof(i=t.file)&&(-1<i.indexOf("g.alicdn.com/apsara-media-")||-1<i.indexOf("g.alicdn.com/thor-server"))||ue(t.stack)){var n=t;return r.options.beforeSend&&(n=r.options.beforeSend(t)),r.isReady?n:(n&&r.queue.push(n),!1)}}return!1}})}}}},{key:"wrap",value:function(e){var t=this;return this.options.disabled||"undefined"==typeof Proxy?e:ce(e,0,(function(e){var r,i;e instanceof Error&&"string"==typeof e.stack&&ue(e.stack)&&(null!=(r=t.armsLogger)&&r.error(e),e.stack=(r=e.stack,e=t.marker,"string"!=typeof r?e:le(r,e)?r:(i=r.indexOf("\n"))<0?""+r+e:""+r.slice(0,i)+e+r.slice(i)))}))}},{key:"updateOptions",value:function(e){this.options=p(p({},this.options),e)}},{key:"setReady",value:function(){var e=this;this.initArmsLogger(!0),this.isReady=!0,this.queue.length&&this.queue.forEach((function(t){var r;null!=(r=e.armsLogger)&&r.error(e.helper.MediaboxWrapperQueue(t.msg),{filename:t.file,lineno:t.line,colno:t.col})}))}},{key:"report",value:function(e,t){var r;null!=(r=this.armsLogger)&&r.error(this.helper.MediaboxWrapperInitiative(e),t)}},{key:"destroy",value:function(){this.isDestroyed=!0}}],[{key:"version",get:function(){return"0.26.0"}}]),e}();r.MediaboxQualityTracer=he,r.default=he},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){(function(i){(function(){var n;n=function(){var t,r=Math;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),!(t=!(t=!(t="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:t)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:t)&&void 0!==i&&i.crypto?i.crypto:t)&&"function"==typeof e)try{t=e("crypto")}catch(a){}var n=Object.create||function(e){return o.prototype=e,e=new o,o.prototype=null,e};function o(){}var a={},s=a.lib={},l=s.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<n;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else for(var s=0;s<n;s+=4)t[i+s>>>2]=r[s>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var r=[],i=0;i<e;i+=4)r.push(function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new c.init(r,e)}}),u=a.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],n=0;n<r;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(r,t/2)}},p=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],n=0;n<r;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(r,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,i=this._data,n=i.words,o=i.sigBytes,a=this.blockSize,s=o/(4*a),l=(s=e?r.ceil(s):r.max((0|s)-this._minBufferSize,0))*a;e=r.min(4*l,o);if(l){for(var u=0;u<l;u+=a)this._doProcessBlock(n,u);t=n.splice(0,l),i.sigBytes-=e}return new c.init(t,e)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a},"object"==_typeof(r)?t.exports=r=n():"function"==typeof define&&define.amd?define([],n):this.CryptoJS=n()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:2}],4:[function(e,t,r){var i;i=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=this._map,n=(e.clamp(),[]),o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)n.push(i.charAt(a>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;n.length%4;)n.push(l);return n.join("")},parse:function(e){var r=e.length,i=this._map;if(!(n=this._reverseMap))for(var n=this._reverseMap=[],o=0;o<i.length;o++)n[i.charCodeAt(o)]=o;for(var a,s,l=i.charAt(64),c=(l&&-1!==(l=e.indexOf(l))&&(r=l),e),u=r,d=n,p=[],h=0,f=0;f<u;f++)f%4&&(a=d[c.charCodeAt(f-1)]<<f%4*2,s=d[c.charCodeAt(f)]>>>6-f%4*2,p[h>>>2]|=(a|s)<<24-h%4*8,h++);return t.create(p,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==_typeof(r)?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(this.CryptoJS)},{"crypto-js/core":3}],5:[function(e,t,r){var i;i=function(e){return e.enc.Utf8},"object"==_typeof(r)?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(this.CryptoJS)},{"crypto-js/core":3}],6:[function(e,t,r){var i;i=function(e){return e.HmacSHA1},"object"==_typeof(r)?t.exports=r=i(e("crypto-js/core"),e("crypto-js/sha1"),e("crypto-js/hmac")):"function"==typeof define&&define.amd?define(["crypto-js/core","crypto-js/sha1","crypto-js/hmac"],i):i(this.CryptoJS)},{"crypto-js/core":3,"crypto-js/hmac":7,"crypto-js/sha1":8}],7:[function(e,t,r){var i;i=function(e){var t,r;t=e.lib.Base,r=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));for(var i=e.blockSize,n=4*i,o=(e=((t=t.sigBytes>n?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),e.words),a=t.words,s=0;s<i;s++)o[s]^=1549556828,a[s]^=909522486;e.sigBytes=t.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"==_typeof(r)?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(this.CryptoJS)},{"crypto-js/core":3}],8:[function(e,t,r){var i;i=function(e){var t,r,i,n,o;return r=(t=e).lib,i=r.WordArray,n=r.Hasher,o=[],r=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],n=r[1],a=r[2],s=r[3],l=r[4],c=0;c<80;c++){o[c]=c<16?0|e[t+c]:(u=o[c-3]^o[c-8]^o[c-14]^o[c-16])<<1|u>>>31;var u=(i<<5|i>>>27)+l+o[c];u+=c<20?1518500249+(n&a|~n&s):c<40?1859775393+(n^a^s):c<60?(n&a|n&s|a&s)-1894007588:(n^a^s)-899497514,l=s,s=a,a=n<<30|n>>>2,n=i,i=u}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(64+i>>>9<<4)]=Math.floor(r/4294967296),t[15+(64+i>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=n._createHelper(r),t.HmacSHA1=n._createHmacHelper(r),e.SHA1},"object"==_typeof(r)?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(this.CryptoJS)},{"crypto-js/core":3}],9:[function(e,t,r){(function(i,n){(function(){var o;o=function(){function t(e){return"function"==typeof e}var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,l=function(e,t){f[o]=e,f[o+1]=t,2===(o+=2)&&(s?s(g):v())},c="undefined"!=typeof window?window:void 0,u=c||{},d=(u=u.MutationObserver||u.WebKitMutationObserver,"undefined"==typeof self&&void 0!==i&&"[object process]"==={}.toString.call(i)),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(g,1)}}var f=new Array(1e3);function g(){for(var e=0;e<o;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;o=0}var _,m,y,v=void 0;function b(e,t){var r,i=this,n=new this.constructor(x),o=(void 0===n[S]&&O(n),i._state);return o?(r=arguments[o-1],l((function(){return L(o,n,r,i._result)}))):R(i,n,e,t),n}function w(e){var t;return e&&"object"==_typeof(e)&&e.constructor===this?e:(E(t=new this(x),e),t)}v=d?function(){return i.nextTick(g)}:u?(m=0,d=new u(g),y=document.createTextNode(""),d.observe(y,{characterData:!0}),function(){y.data=m=++m%2}):p?((_=new MessageChannel).port1.onmessage=g,function(){return _.port2.postMessage(0)}):(void 0===c&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(g)}:h()}catch(e){return h()}}:h)();var S=Math.random().toString(36).substring(2);function x(){}var T=void 0;function k(e,r,i){var n,o;r.constructor===e.constructor&&i===b&&r.constructor.resolve===w?(n=e,1===(o=r)._state?P(n,o._result):2===o._state?A(n,o._result):R(o,void 0,(function(e){return E(n,e)}),(function(e){return A(n,e)}))):void 0!==i&&t(i)?function(e,t,r){l((function(e){var i=!1,n=function(e,t,r,i){try{e.call(t,r,i)}catch(e){return e}}(r,t,(function(r){i||(i=!0,(t!==r?E:P)(e,r))}),(function(t){i||(i=!0,A(e,t))}),e._label);!i&&n&&(i=!0,A(e,n))}),e)}(e,r,i):P(e,r)}function E(e,t){if(e===t)A(e,new TypeError("You cannot resolve a promise with itself"));else if(r=_typeof(t),null===t||"object"!=r&&"function"!=r)P(e,t);else{r=void 0;try{r=t.then}catch(t){return void A(e,t)}k(e,t,r)}var r}function C(e){e._onerror&&e._onerror(e._result),I(e)}function P(e,t){e._state===T&&(e._result=t,e._state=1,0!==e._subscribers.length)&&l(I,e)}function A(e,t){e._state===T&&(e._state=2,e._result=t,l(C,e))}function R(e,t,r,i){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+1]=r,n[o+2]=i,0===o&&e._state&&l(I,e)}function I(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var i,n=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],n=t[a+r],i?L(r,i,n,o):n(o);e._subscribers.length=0}}function L(e,r,i,n){var o=t(i),a=void 0,s=void 0,l=!0;if(o){try{a=i(n)}catch(e){l=!1,s=e}if(r===a)return void A(r,new TypeError("A promises callback cannot return that same promise."))}else a=n;r._state===T&&(o&&l?E(r,a):!1===l?A(r,s):1===e?P(r,a):2===e&&A(r,a))}var D=0;function O(e){e[S]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}N.prototype._enumerate=function(e){for(var t=0;this._state===T&&t<e.length;t++)this._eachEntry(e[t],t)},N.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,i=r.resolve;if(i===w){var n,o=void 0,a=void 0,s=!1;try{o=e.then}catch(t){s=!0,a=t}o===b&&e._state!==T?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):r===H?(n=new r(x),s?A(n,a):k(n,e,o),this._willSettleAt(n,t)):this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},N.prototype._settledAt=function(e,t,r){var i=this.promise;i._state===T&&(this._remaining--,2===e?A(i,r):this._result[t]=r),0===this._remaining&&P(i,this._result)},N.prototype._willSettleAt=function(e,t){var r=this;R(e,void 0,(function(e){return r._settledAt(1,t,e)}),(function(e){return r._settledAt(2,t,e)}))};var M=N;function N(e,t){this._instanceConstructor=e,this.promise=new e(x),this.promise[S]||O(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(t),0!==this._remaining)||P(this.promise,this._result)):A(this.promise,new Error("Array Methods must be provided an Array"))}U.prototype.catch=function(e){return this.then(null,e)},U.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):this.then(e,e)};var H=U;function U(e){if(this[S]=D++,this._result=this._state=void 0,this._subscribers=[],x!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof U))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e((function(e){E(t,e)}),(function(e){A(t,e)}))}catch(e){A(t,e)}}}return H.prototype.then=b,H.all=function(e){return new M(this,e).promise},H.race=function(e){var t=this;return r(e)?new t((function(r,i){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(r,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},H.resolve=w,H.reject=function(e){var t=new this(x);return A(t,e),t},H._setScheduler=function(e){s=e},H._setAsap=function(e){l=e},H._asap=l,H.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=H},H.Promise=H},"object"==_typeof(r)&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):this.ES6Promise=o()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:10}],10:[function(e,t,r){var i,n;t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return(i=setTimeout)(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length)&&h()}function h(){if(!u){for(var e=s(p),t=(u=!0,c.length);t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],11:[function(e,t,r){t.exports={name:"aliyun-aliplayer",version:"2.30.3",description:"阿里云 Web 播放器",main:"./build/aliplayer-min",style:"./build/skins/default/aliplayer-min.css",files:["build"],repository:{type:"git",url:""},keywords:["aliyun","aliplayer"],scripts:{start:"npx grunt live","start:hls":"npx grunt live --hls=true","start:flv":"npx grunt live --flv=true",build:"npx grunt build",release:"commit-and-tag-version",prepublishOnly:"npm run build","test:unit":"karma start","test:unit:watch":"karma start --no-single-run"},devDependencies:{"@ali/mediabox-quality-tracer":"^0.26.0","@babel/core":"^7.26.0","@babel/preset-env":"^7.26.0","@types/chai":"^5.0.1","@types/mocha":"^10.0.10","babel-loader":"^9.2.1","babel-plugin-es6-promise":"^1.1.1","babel-plugin-istanbul":"^7.0.0",babelify:"^10.0.0",chai:"^5.1.2","commit-and-tag-version":"^11.2.1","es6-promise":"^4.2.8",grunt:"^1.0.4","grunt-autoprefixer":"^3.0.4","grunt-babel":"^8.0.0","grunt-browserify":"^5.3.0","grunt-contrib-clean":"^2.0.0","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-cssmin":"^3.0.0","grunt-contrib-less":"^2.0.0","grunt-contrib-uglify":"^4.0.1","grunt-contrib-watch":"^1.1.0","grunt-run":"^0.8.1","grunt-text-replace":"^0.4.0",karma:"^6.4.4","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.1",mocha:"^11.0.1","node-args":"^2.1.8",sinon:"^19.0.2","sinon-chai":"^4.0.0",webpack:"^5.97.1"},dependencies:{"crypto-js":"^4.1.1"},optionalDependencies:{puppeteer:"^23.11.1"}}},{}],12:[function(e,t,r){var i=e("../ui/component"),n=(e("../lib/util"),e("../lib/dom")),o=e("../lib/event"),a=(e("../lib/ua"),e("../lang/index")),s=e("../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.className=t.className||"prism-auto-stream-selector",this.addClass(this.className)},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML="<div><p class='tip-text'></p></div><div class='operators'><a class='prism-button prism-button-ok' type='button'>"+a.get("OK_Text")+"</a><a class='prism-button prism-button-cancel'  target='_blank'>"+a.get("Cancel_Text")+"</a></div>",e},bindEvent:function(){var e=this,t=(e._player.on(s.Private.AutoStreamShow,(function(t){var r,i=document.querySelector("#"+e.getId()+" .tip-text");e._player._getLowerQualityLevel&&(r=e._player._getLowerQualityLevel())&&(e._switchUrl=r,i.innerText=a.get("Auto_Stream_Tip_Text").replace("$$",r.item.desc),n.css(e.el(),"display","block"))})),e._player.on(s.Private.AutoStreamHide,(function(t){document.querySelector("#"+e.getId()+" .tip-text"),n.css(e.el(),"display","none")})),document.querySelector("#"+e.getId()+" .prism-button-ok"));o.on(t,"click",(function(){e._player._changeStream&&e._switchUrl&&(e._player._changeStream(e._switchUrl.index,a.get("Quality_Change_Text")),e._player.trigger(s.Private.SettingListHide)),n.css(e.el(),"display","none")})),t=document.querySelector("#"+e.getId()+" .prism-button-cancel");o.on(t,"click",(function(){n.css(e.el(),"display","none"),e._player.trigger(s.Private.SettingListHide)}))}});t.exports=e},{"../lang/index":24,"../lib/dom":33,"../lib/event":34,"../lib/ua":49,"../lib/util":51,"../player/base/event/eventtype":68,"../ui/component":132}],13:[function(e,t,r){var i=e("../ui/component"),n=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/ua"),s=e("../lib/function"),l=(e("../lang/index"),e("../lib/util")),c=e("../config"),u=e("../lib/playerutil"),d=e("../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.className=t.className||"prism-liveshift-progress",this.addClass(this.className),this._liveshiftService=e._liveshiftService},createEl:function(){var e=i.prototype.createEl.call(this);return e.innerHTML='<div class="prism-enable-liveshift"><div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p><div class="prism-liveshift-seperator"></div></div><div class="prism-disable-liveshift"></div>',e},bindEvent:function(){function e(e){t._progressDown=e}var t=this,r=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this.id()+" .prism-progress-time"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),this.seperatorNode=document.querySelector("#"+this.id()+" .prism-liveshift-seperator"),this.progressNode=document.querySelector("#"+this.id()+" .prism-enable-liveshift"),document.querySelector("#"+this.id()+" .prism-progress-cursor img")),i="//"+c.domain+c.path+c.h5Version+"/skins/default/img/dragcursor.png";this._player._options.skinsDomain=this._player._options.assetPrefix||this._player._options.skinsDomain,this._player._options.skinsDomain?i=this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":c.domain?-1<c.domain.indexOf("localhost")&&(i="//"+c.domain+"/build/skins/default/img/dragcursor.png"):i=this._player&&this._player._options&&this._player._options.sdkDomain?this._player._options.sdkDomain+c.path+c.h5Version+"/skins/default/img/dragcursor.png":(c.path||"").substring(1)+c.h5Version+"/skins/default/img/dragcursor.png",r.src=i,o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)})),o.on(this.progressNode,"mousemove",(function(e){t._progressMove(e)})),o.on(this.progressNode,"touchmove",(function(e){t._progressMove(e)})),o.on(this.progressNode,"mousedown",(function(t){e(!0)})),o.on(this.progressNode,"touchstart",(function(t){e(!0)})),o.on(this.progressNode,"mouseup",(function(t){e(!1)})),o.on(this.progressNode,"touchend",(function(t){e(!1)})),o.on(this._el,"click",(function(e){t._onMouseClick(e)})),this._player.on(d.Private.HideProgress,(function(e){t._hideProgress(e)})),this._player.on(d.Private.CancelHideProgress,(function(e){t._cancelHideProgress(e)})),this._player.on(d.Private.ShowBar,(function(){t._updateLayout()})),o.on(this.progressNode,d.Private.MouseOver,(function(e){t._onMouseOver(e)})),o.on(this.progressNode,d.Private.MouseOut,(function(e){t._onMouseOut(e)})),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(d.Player.TimeUpdate,this.bindTimeupdate),u.isLiveShift(this._player._options)&&t._liveshiftService.start(6e4,(function(e){e={mediaId:t._player._options.vid||"",error_code:e.Code,error_msg:e.Message},t._player.logError(e),t._player.trigger(d.Player.Error,e)})),this._player.on(d.Private.LiveShiftQueryCompleted,(function(){t._updateSeperator(),t._updateLayout()})),this._player.on(d.Private.LiveShiftSwitchToLive,(function(){t._updateCursorPosition()})),this._player.on(d.Player.Pause,(function(){t._liveshiftService.stop()})),a.IS_IPAD?this.interval=setInterval((function(){t._onProgress()}),500):this._player.on(d.Video.Progress,(function(){t._onProgress()}))},_updateSeperator:function(){this._liveshiftService.currentTimeDisplay&&(this.seperatorNode.innerText=this._liveshiftService.currentTimeDisplay)},_updateLayout:function(){var e=this.seperatorNode.offsetWidth,t=this.el().offsetWidth,r=t-e;0!=e&&0!=r&&(n.css(this.progressNode,"width",100*(r-10)/t+"%"),n.css(this.seperatorNode,"right",-1*(e+10)+"px"))},_progressMove:function(e){var t=this._getSeconds(e),r=this._liveshiftService.availableLiveShiftTime,i=(t=(this.timeNode.innerText="-"+l.formatTime(r-t),r?t/r:0),r=1-this.timeNode.clientWidth/this.el().clientWidth,r<t&&(t=r),this.timeNode&&(n.css(this.timeNode,"display","block"),n.css(this.timeNode,"left",100*t+"%")),this);!a.IS_PC&&i._progressDown&&(i.progressSeekTimer&&clearTimeout(i.progressSeekTimer),i.progressSeekTimer=setTimeout((function(){i._progressDown||i._onMouseClick(e)}),200))},_hideProgress:function(e){o.off(this.cursorNode,"mousedown"),o.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(e){var t=this;o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)}))},_canSeekable:function(e){var t=!0;return"function"==typeof this._player.canSeekable?this._player.canSeekable(e):t},_onMouseOver:function(e){this._updateCursorPosition(this._getCurrentTime()),n.css(this.timeNode,"display","block")},_onMouseOut:function(e){n.css(this.timeNode,"display","none")},_getSeconds:function(e){if(e.touches&&e.touches[0]){for(var t,r=this.el().offsetLeft,i=this.el();i.offsetParent;){i=i.offsetParent;var o=n.getTranslateX(i);r+=i.offsetLeft+o}i.tagName&&"body"===i.tagName.toLowerCase()&&(r+=document.getElementsByTagName("html")[0].offsetLeft),(t=(e.touches?e.touches[0]:e).pageX-r)<0&&(t=0)}else t=e.offsetX,e.target!==this.cursorNode&&e.target.offsetParent!==this.cursorNode||(t+=this.cursorNode.offsetLeft),e.target!==this._el&&(e.target.offsetParent,this._el);e=this.progressNode.offsetWidth;var a=this._liveshiftService.availableLiveShiftTime;return sec=(sec=(sec=a?t/e*a:0)<0?0:sec)>a?a:sec},_onMouseClick:function(e){var t=this,r=(e=this._getSeconds(e),this._liveshiftService.availableLiveShiftTime),i=r-e,n=this._player._options;i<=n.liveShiftMinOffset&&(e=r-(i=n.liveShiftMinOffset)),this._player.trigger(d.Private.SeekStart,{fromTime:this._getCurrentTime()}),r=this._liveshiftService.getSourceUrl(i),n=u.isHls(t._player._options.source);t._player._loadByUrlInner(r,e,!0),t._player.trigger(d.Private.Play_Btn_Hide),t._liveshiftService.seekTime=e,t._player.trigger(d.Private.EndStart,{toTime:e}),t._updateProgressBar(this.playedNode,e),t._updateCursorPosition(e),setTimeout((function(){t._progressDown||t._onMouseOut()}),500),n&&setTimeout((function(){t._player.play()}))},_onMouseDown:function(e){var t=this;e.preventDefault(),this._player.trigger(d.Private.SeekStart,{fromTime:this._getCurrentTime()}),o.on(this.controlNode,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this.controlNode,"touchend",(function(e){t._onMouseUp(e)}))},_onMouseUp:function(e){e.preventDefault(),o.off(this.controlNode,"mousemove"),o.off(this.controlNode,"touchmove"),o.off(this._player.tag,"mouseup"),o.off(this._player.tag,"touchend"),o.off(this.controlNode,"mouseup"),o.off(this.controlNode,"touchend"),this._onMouseClick(e)},_onMouseMove:function(e){e.preventDefault()},_onTimeupdate:function(e){this._player._seeking||(a.IS_ANDROID&&a.IS_UC&&(this._hasResetFlagUC&&this._player.getCurrentTime()&&(this._hasResetFlagUC=!1,this._basePtsUC=this._player.getCurrentTime()),this._player.getCurrentTime()||(this._hasResetFlagUC=!0,this._basePtsUC=0)),this._updateProgressBar(this.playedNode,this._getCurrentTime()),this._updateCursorPosition(this._getCurrentTime()),this._player.trigger(d.Private.UpdateProgressBar,{time:this._getCurrentTime()}))},_getCurrentTime:function(){var e=this._liveshiftService.seekTime;-1==e&&(e=0),e=this._player.getCurrentTime()+e;return a.IS_ANDROID&&a.IS_UC&&(e-=this._basePtsUC||0),e},_onProgress:function(e){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(e,t){var r,i;1!=this._player._switchSourcing&&(i=0,-1==this._liveshiftService.seekTime?i=1:1<(i=(r=this._liveshiftService.availableLiveShiftTime)?t/r:0)&&(this._liveshiftService.seekTime=-(i=1)),this.liveShiftStartDisplay,e)&&n.css(e,"width",100*i+"%")},_updateCursorPosition:function(e){var t,r,i,o;this._player.el()&&1!=this._player._switchSourcing&&(i=0,o=1,t=this._player.el().clientWidth,-1==this._liveshiftService.seekTime?i=1:1<(i=(r=this._liveshiftService.availableLiveShiftTime)?e/r:0)&&(this._liveshiftService.seekTime=-1),0!=t&&(o=1-(e=10/t),i-=e),i=i<0?0:i,this.cursorNode)&&(o<i?(n.css(this.cursorNode,"right","0px"),n.css(this.cursorNode,"left","auto")):(n.css(this.cursorNode,"right","auto"),n.css(this.cursorNode,"left",100*i+"%")))}});t.exports=e},{"../config":15,"../lang/index":24,"../lib/dom":33,"../lib/event":34,"../lib/function":36,"../lib/playerutil":46,"../lib/ua":49,"../lib/util":51,"../player/base/event/eventtype":68,"../ui/component":132}],14:[function(e,t,r){var i=e("../ui/component"),n=e("../lib/util"),o=e("../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.className=t.className||"prism-live-time-display",this.addClass(this.className),this._liveshiftService=e._liveshiftService},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="end-time">00:00</span><span class="live-text">Live: </span><span class="live-time"></span>',e},bindEvent:function(){var e=this;this._player.on(o.Video.TimeUpdate,(function(){var t,r=e._liveshiftService,i=document.querySelector("#"+e.id()+" .current-time");r.liveShiftStartDisplay&&r.availableLiveShiftTime>r.seekTime&&-1!=r.seekTime?(t=e._liveshiftService.getBaseTime(),t=n.formatTime(t+e._player.getCurrentTime()),i.innerText=t):r.currentTimeDisplay&&(i.innerText=r.currentTimeDisplay)})),this._player.on(o.Private.LiveShiftQueryCompleted,(function(){e.updateTime()}))},updateTime:function(){document.querySelector("#"+this.id()+" .end-time").innerText=this._liveshiftService.liveTimeRange.endDisplay,document.querySelector("#"+this.id()+" .live-time").innerText=this._liveshiftService.currentTimeDisplay}});t.exports=e},{"../lib/util":51,"../player/base/event/eventtype":68,"../ui/component":132}],15:[function(e,t,r){e=e("../package.json"),t.exports={domain:"g.alicdn.com",path:"/apsara-media-box/imp-web-player/",flashVersion:"2.8.2",h5Version:e.version.split("-")[0],rtsVersion:"2.9.1",cityBrain:!0,logDuration:3,logCount:100,logReportTo:"https://videocloud.cn-hangzhou.log.aliyuncs.com/logstores/newplayer/track",dumpLogReportTo:"https://web-video.cn-hangzhou.log.aliyuncs.com/logstores/player-dump/track"}},{"../package.json":11}],16:[function(e,t,r){(function(r){(function(){var i,n,o,a,s,l,c=e("../node_modules/@ali/mediabox-quality-tracer/dist/index.cjs").MediaboxQualityTracer,u=(e("./lib/patch-ssr").isSSR||(n=function(e){var t=window&&window.location.host||"";if(!(-1<t.indexOf("localhost")||/(?:\d{1,3}\.){3}\d{1,3}/.test(t))){if(e&&e.msg){if(["没有为播放器指定容器","playauth property is required"].some((function(t){return-1<e.msg.indexOf(t)})))return void console.log("ignore error report");if(/code:(\d+);msg:(.+)/.test(e.msg))return void console.log("ignore error report")}if(!(e.stack&&-1<e.stack.indexOf("alivc-im.iife.js")||e.file&&-1<e.file.indexOf("imp-interaction")))return e}console.log("ignore error report")},e("./lang/index").load(),o=e("./player/adaptiveplayer"),a=e("./lib/reloadInstanceUtil"),u=e("./lib/componentutil"),s=e("./config"),(l=function(e,t){i&&(i.updateOptions({cid:e.license&&e.license.key,region:"SEA"===e.env?"ap-southeast-1":"cn-hangzhou",beforeSend:n}),i.setReady());var r=o.create(e,t);return i&&i.updateOptions({beforeSend:function(e){if(e=n(e))return e.c3="likely_ri="+(r._monitor&&r._monitor.sessionId),e}}),a.storeUserEvents(r),r}).getVersion=function(){return s.h5Version},u.register(l),l.players={},l.reloadInstance=a.reloadInstance,"undefined"==typeof Uint8Array)||Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),(i=new c({businessName:"imp-web-player",version:s.h5Version||"unknown",deferRegionSet:!0,env:"dev"!==r?"prod":"local",disabled:!0===window.AliplayerDisableTracer})).wrap(l));c=window.Aliplayer=u;c.tracer=i,t.exports=c}).call(this)}).call(this,"prod")},{"../node_modules/@ali/mediabox-quality-tracer/dist/index.cjs":1,"./config":15,"./lang/index":24,"./lib/componentutil":28,"./lib/patch-ssr":45,"./lib/reloadInstanceUtil":47,"./player/adaptiveplayer":65}],17:[function(e,t,r){var i=e("../player/base/event/eventtype"),n=e("../lib/constants"),o=e("../lang/index");t.exports=function(){function e(e){var t=this;void 0===e&&(e={}),this.interval=3e3,this.player=null,this.timer=null,this.playerInitDone=!1,this.player=e.player,this.player.on(i.Player.Init,(function(){t.playerInitDone=!0}))}var t=e.prototype;return t.start=function(){var e=this;this.stop(),this.player&&this.player._options&&!this.player._options.preventRecord||(this.timer=setInterval((function(){e.playerInitDone&&e.check()}),this.interval))},t.stop=function(){this.clearTimer()},t.check=function(){var e=!1,t=this.detectPrototype()||this.detectNativeFn();return(t||this.detectDeperateVideo())&&(console.log("isMediaSourceModified",t),this.clearTimer(),this.displayError(),this.setupErrorStyle(),this.destroyVideo(),localStorage.setItem("_intercept_mediastream_",""),e=!0),e},t.dispose=function(){this.stop(),this.player=null,this.playerInitDone=!1},t.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.displayError=function(){var e=this.player,t={mediaId:e._options&&e._options.vid?e._options.vid:"",error_code:n.ErrorCode.RecordNotAllowed,error_msg:o.get("Record_Not_Allowed")};e.logError(t),e.trigger(i.Player.Error,t)},t.setupErrorStyle=function(){this.hideRetry();var e=document.querySelector(".prism-ErrorMessage");e&&(e.style.opacity="1",e.style.visibility="visible")},t.hideRetry=function(){var e=document.querySelector("#"+this.player.id()+" .prism-button-retry");e&&(e.style.display="none")},t.destroyVideo=function(){this.player._drm&&this.player.destroy();var e=this.player.tag;e&&e.parentNode&&e.parentNode.removeChild(e)},t.detectPrototype=function(){var e=window,t=e.MediaSource;return t&&e.EventTarget&&t.__proto__.__proto__===e.EventTarget},t.detectNativeFn=function(){var e=window.MediaSource;return e&&!this.isNativeFn(e.prototype.addSourceBuffer)},t.isNativeFn=function(e){var t=RegExp("^".concat(Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),"$")),r=_typeof(e);return null!==e&&("object"==r||"function"==r)&&t.test(e)},t.detectDeperateVideo=function(){var e=this.player.tag;if(e)return-1!==(e.getAttribute("id")||"").indexOf("360")},e}()},{"../lang/index":24,"../lib/constants":29,"../player/base/event/eventtype":68}],18:[function(e,t,r){var i=e("../lib/oo"),n=e("../lang/index"),o=(e=i.extend({init:function(e,t){this._player=e,this._options=e.options()}}),e.prototype.handle=function(e){var t,r;this._options.autoPlayDelay&&(t=(t=this._options.autoPlayDelayDisplayText)||n.get("AutoPlayDelayDisplayText").replace("$$",this._options.autoPlayDelay),this._player.trigger("info_show",t),this._player.trigger("h5_loading_hide"),this._player.trigger("play_btn_hide"),(r=this)._timeHandler=setTimeout((function(){r._player.trigger("info_hide"),r._options.autoPlayDelay=0,e&&e()}),1e3*this._options.autoPlayDelay),this._player.on("play",(function(){o(r)})),this._player.on("pause",(function(){o(r)})))},e.prototype.dispose=function(){o(this),this._player=null},function(e){e._timeHandler&&(clearTimeout(e._timeHandler),e._timeHandler=null)});t.exports=e},{"../lang/index":24,"../lib/oo":44}],19:[function(e,t,r){var i=e("../lib/event"),n=e("../lib/data"),o=e("../player/base/event/eventtype"),a=n.guid();e={};function s(e){var t,r,i=this._options.keyFastForwardStep,n=this._options.isLive;switch(e&&e.keyCode){case 39:n||(e.preventDefault(),t=this.getDuration(),r=this.getCurrentTime()+i,this.seek(r=t<r?t:r),l.call(this,r),c.call(this,r));break;case 37:n||(e.preventDefault(),r=this.getCurrentTime()-i,this.seek(r=r<0?0:r),l.call(this,r),c.call(this,r));break;case 38:e.preventDefault(),this.getVolume()<1&&0<=this.getVolume()&&this.setVolume(Number((this.getVolume()+.1).toFixed(1)));break;case 40:e.preventDefault(),0<this.getVolume()&&this.getVolume()<=1&&this.setVolume(Number((this.getVolume()-.1).toFixed(1)));break;case 32:if(n)return;e.preventDefault(),this.tag.paused?this.play(!0):this.pause(!0)}}function l(e){this.trigger(o.Private.UpdateProgress,{targetTime:e})}function c(e){this.trigger(o.Private.UpdateCursorPosition,{targetTime:e})}e.init=function(){var e;this._options.keyShortCuts&&((e=s.bind(this)).guid=a,i.on(window.document,"keydown",e))},e.dispose=function(){var e;this._options.keyShortCuts&&((e=s.bind(this)).guid=a,i.off(window.document,"keydown",e))},t.exports=e},{"../lib/data":31,"../lib/event":34,"../player/base/event/eventtype":68}],20:[function(e,t,r){var i="undefined"==typeof Promise?e("es6-promise").Promise:Promise,n=e("../lib/constants").LicenseResultCode,o=e("../lib/io"),a=((e={})[n.ResourceIncorrect]="license resource init error",e[n.LicenseKeyInvalid]="invalid license key",e[n.DomainInvalid]="invalid domain",e[n.CertInvalid]="invalid cert content",e[n.NotFound]="license not found",e[n.Expired]="license expired",e);e=function(){function e(){}return e.getLicense=function(e,t,r){var a=this;return this.isWasmSupported()?t?e?this.instance?i.resolve(this.instance):new i((function(i,s){a.resolvers.push(i),a.rejecters.push(s),1===a.resolvers.length&&o.loadJS("https://g.alicdn.com/apsara-media-components/amcom-web-license/0.5.1/index.js",(function(){window.loadLicenseSource().then((function(i){var o=new i({business_id:2,domain_identity:e,license_key:t,region:r});return o.update().then((function(){a.instance=o,a.resolvers.forEach((function(e){e(o)}))})).catch((function(e){a.rejecters.forEach((function(t){t(n.CertInvalid+"#"+(e||"").trim().split(":")[0])}))}))})).catch((function(){a.rejecters.forEach((function(e){e(n.ResourceIncorrect)}))})).finally((function(){a.resolvers=[],a.rejecters=[]}))}),(function(){a.rejecters.forEach((function(e){e(n.ResourceIncorrect)}))}))})):i.reject(n.DomainInvalid):i.reject(n.LicenseKeyInvalid):i.reject(n.WasmNotSupported)},e.isWasmSupported=function(){return"object"==("undefined"===typeof WebAssembly?"undefined":_typeof(WebAssembly))&&"function"==typeof WebAssembly.instantiate},e.logError=function(e){a[e]&&console.error(a[e])},e}();e.instance=void 0,e.resolvers=[],e.rejecters=[],t.exports=e},{"../lib/constants":29,"../lib/io":41,"es6-promise":9}],21:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){return"symbol"==_typeof(e=function(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return String(e);if("object"!=_typeof(r=r.call(e,t)))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"))?e:e+""}(i.key),i)}}var o=e("../lib/event"),a="top-left",s="percentage",l=(e=function(){function e(e){this._container=void 0,this._video=void 0,this._logoList=[],this._resizeDone=!0,this._observer=void 0,this._observer=new l,this._handleVideoResize=this._handleVideoResize.bind(this),this._handleWindowResize=this._handleWindowResize.bind(this),this._setLogo(e.logo),this._setElements(e.container,e.video)}var t,r=e.prototype;return r.dispose=function(){this._observer.dispose(),this._observer=void 0,o.off(this._video,"resize",this._handleVideoResize),o.off(document,"fullscreenchange",this._handleWindowResize),this._logoList.forEach((function(e){e.logo&&e.logo.remove()})),this._logoList=[],this._container=void 0,this._video=void 0,this._resizeDone=!0},r._setElements=function(e,t){this._container=e,this._video=t,this.loadedMeta?this._logoList.forEach(this._setupLogo.bind(this)):o.on(t,"resize",this._handleVideoResize),this._observer.observe(this._container,this._handleWindowResize),o.on(document,"fullscreenchange",this._handleWindowResize)},r._handleVideoResize=function(){!this._video.videoWidth||this._logoList.some((function(e){return e.logo}))||this._logoList.forEach(this._setupLogo.bind(this))},r._handleWindowResize=function(){var e=this;this._container&&this._resizeDone&&this.loadedMeta&&(this._resizeDone=!1,window.requestAnimationFrame((function(){e._resizeDone=!0,e._logoList.forEach(e._placeLogo.bind(e))})))},r._setLogo=function(e){this._logoList=e.map(this._defauleValue)},r._setupLogo=function(e){var t=this,r=this._createLogo(e);(e.logo=r).onload=function(){t._placeLogo(e)}},r._createLogo=function(e){var t=document.createElement("img");return t.setAttribute("class","prism-logo"),t.src=e.src,t},r._placeLogo=function(e){var t=e.logo,r=this._calcSize(e),i=(r.width&&t.setAttribute("width",r.width+"px"),r.height&&t.setAttribute("height",r.height+"px"),this._calcMatrix(e));t.style.position="absolute",Object.keys(i).forEach((function(e){t.style[e]=i[e]+"px"})),this._container.appendChild(e.logo)},r._calcSize=function(e){return this._getPixel(e)},r._calcMatrix=function(e){var t=this._getPosition(e),r=this._getPixel(e,{width:e.offsetX,height:e.offsetY});return Object.keys(t).forEach((function(e){switch(e){case"top":t[e]+=r.height;break;case"bottom":t[e]-=r.height;break;case"left":t[e]+=r.width;break;case"right":t[e]-=r.width}})),t},r._getPosition=function(e){var t=e.origin,r=(e=e.position,0),i=0;switch("content"===t&&(r=Math.abs(this.videoSize.height-this.contentSize.height)/2,i=Math.abs(this.videoSize.width-this.contentSize.width)/2),e){case a:return{top:0+r,left:0+i};case"top-right":return{top:0+r,right:0+i};case"bottom-left":return{bottom:0+r,left:0+i};case"bottom-right":return{bottom:0+r,right:0+i};default:return{top:0,left:0}}},r._formalize=function(e,t){var r=e.width/e.height>t.width/t.height?t.width/e.width:t.height/e.height;return{width:e.width*r,height:e.height*r}},r._getPixel=function(e,t){t=void 0===t?{}:t;var r=t.width,i=(t=t.height,e.unit),n=e.origin;return isNaN(r)&&(r=e.width),isNaN(t)&&(t=e.height),i===s?{width:(e="box"===n?this.videoSize:this.contentSize).width*r/100,height:e.height*t/100}:{width:r,height:t}},r._defauleValue=function(e){return i({},e,{position:e.position||a,offsetX:e.offsetX||0,offsetY:e.offsetY||0,origin:e.origin||"box",unit:e.unit||s})},r=e,(t=[{key:"videoSize",get:function(){return this._video?{width:this._video.offsetWidth,height:this._video.offsetHeight}:{}}},{key:"contentSize",get:function(){var e;return this._video?(e={width:this._video.videoWidth,height:this._video.videoHeight},{width:(e=this._formalize(e,this.videoSize)).width,height:e.height}):{}}},{key:"loadedMeta",get:function(){return!!this._video.videoWidth}}])&&n(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(),t.exports=e,function(){function e(){this._frame=void 0}var t=e.prototype;return t.observe=function(e,t){var r=document.createElement("iframe");return r.style.cssText="position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;visibility:hidden;pointer-events:none;",r.onload=function(){r.contentWindow.onresize=function(){t(e)}},e.appendChild(r),this._frame=r},t.dispose=function(){this._frame&&(this._frame.contentWindow.onresize=null,this._frame.remove(),this._frame=void 0)},e}())},{"../lib/event":34}],22:[function(e,t,r){var i=e("../lib/event"),n=e("../player/base/event/eventtype");t.exports=function(){function e(){this.player=void 0,this.ratio=void 0,this.resize=void 0,this.target=void 0,this.resize=this._resize.bind(this)}var t=e.prototype;return t.autoResize=function(e,t,r){void 0===r&&(r="height"),"number"!=typeof e?console.warn("Parameter [ratio] should be a number, like 16/9"):(this.target=r,this.ratio=e,this.player=t,i.on(window,"resize",this.resize),this.resize())},t._resize=function(){var e,t,r;null!=(e=this.player.fullscreenService)&&e.isFullScreen||(e=null==(e=this.player)?void 0:e.el())&&("height"===this.target?(r=(t=e.offsetWidth)/this.ratio,e.style.height=r+"px"):(t=(r=e.offsetHeight)*this.ratio,e.style.width=t+"px"),null!=(e=this.player))&&e.trigger(n.Player.AutoResize,{width:t,height:r})},t.dispose=function(){i.off(window,"resize",this.resize),this.player=void 0,this.ratio=void 0,this.resize=void 0,this.target=void 0},e}()},{"../lib/event":34,"../player/base/event/eventtype":68}],23:[function(e,t,r){t.exports={OD:"OD",FD:"360p",LD:"540p",SD:"720p",HD:"1080p","2K":"2K","4K":"4K",FHD:"FHD",XLD:"XLD",SQ:"SQ",HQ:"HQ",Speed:"Speed",Speed_05X_Text:"0.5X",Speed_1X_Text:"Normal",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Speed_Long_Press:"2x speed",Refresh_Text:"Refresh",Cancel:"Cancel",Mute:"Mute",Click_To_Unmute:"Click to unmute",Snapshot:"Snapshot",Detection_Text:"Diagnose",Play_DateTime:"Time",Default:"Default",Quality_Change_Fail_Switch_Text:"Cannot play, switch to ",Quality_Change_Text:"Switching to ",Quality_Change_Result:"Switched to ",Quality_The_Url:"The url",AutoPlayDelayDisplayText:"Play in $$ seconds",Error_Load_Abort_Text:"Data abort erro",Error_Network_Text:"Loading failed due to network error",Error_Decode_Text:"Decode error",Error_No_Decoder_Text:"Unsupported codec",Error_Server_Network_NotSupport_Text:"Network error or  the format of video is unsupported",Error_Offline_Text:"The network is unreachable, please click Refresh",Error_Play_Text:"Error occured while playing",Error_Retry_Text:" Please close or refresh",Error_AuthKey_Text:"Authentication expired or the domain is not in white list",Error_H5_Not_Support_Text:"The format/codec of video is not supported",Error_Not_Support_M3U8_Text:"The format of m3u8 is not supported by this explorer",Error_Not_Support_MP4_Text:"The format of mp4 is not supported by this explorer",Error_Not_Support_encrypt_Text:"To play the encrypted video,please set encryptType to 1",Error_Encrypt_Fetch_Failed_Text:"Failed to fetch the encrypted video",Error_Vod_URL_Is_Empty_Text:"The url is empty",Error_Vod_Fetch_Urls_Text:"Error occured when fetch urls from vod service，please close or refresh",Fetch_Playauth_Error:"Error occured when fetch playauth close or refresh",Error_Playauth_Decode_Text:"PlayAuth parse failed",Error_Vid_Not_Same_Text:"Cannot renew url due to vid changed",Error_Playauth_Expired_Text:"Playauth expired, please close or refresh",Error_MTS_Fetch_Urls_Text:"Error occurred while requesting mst server",Error_Load_M3U8_Failed_Text:"The m3u8 file loaded failed,possibly due to HTTPS certificate issues, cross-origin problems, or DNS resolution failures",Error_Load_M3U8_Timeout_Text:"Timeout error occored when the m3u8 file loaded",Error_Liveshift_M3U8_Not_Found_Text:"No more liveshift video avaliable",Error_M3U8_Decode_Text:"The m3u8 file decoded failed",Error_TX_Decode_Text:"Video decoded failed",Error_Manifest_Decode_Text:"Failed to parse manifest",Error_Waiting_Timeout_Text:"Buffering timeout, please close or refresh",Error_Invalidate_Source:"Video shoud be mp4、mp3、m3u8、mpd or flv",Error_Empty_Source:"Video URL shouldn't be empty",Error_Vid_Empty_Source:"vid's video URL hasn't been fetched",Error_Mediaauth_Empty_Source:"mediaAuth's video URL hasn't been fetched",Error_Fetch_NotStream:"The vid has no stream to play",Error_Fetch_Media_Not_Found:"Data is not found",Error_Not_Found:"Url is not found",Error_Drm_License_Request_Failed:"DRM license request failed",Error_Drm_Not_Supported:"DRM in not supported",Error_Drm_Load:"DRM load error",Error_Drm_No_Sts:"STS(accessKeyId/accessKeySecret/securityToken) is required for DRM playback",Error_Drm_Params_Missing:"Parameters for drm.widevine/fairplay, etc. are missing",Error_Region_Block_Text:"This video is not available in your region",Error_SW_Conflict:"Service Worker conflict. Please try disabling browser extensions, restarting the browser, and closing other tabs.",Error_SW_Register_Failed:"Service Worker registration failed.",Error_SW_ScriptURL_Empty:"Please provide the swScriptURL parameter.",Error_SW_ScriptURL_Https:"The swScriptURL parameter must use an absolute address with https:// protocol.",Error_SW_ScriptURL_Scope:"The swScriptURL (subpath: @scope1@) and the current webpage (subpath: @scope2@) must be under the same subpath.",Error_SW_Version_Not_Match:"The version number of swScriptURL (@swVersion@) must match the player version (@playerVersion@).",Error_SW_ScriptURL_ILlegal:"Please provide a valid swScriptURL(@detail@).",Error_SW_Https_required:"Https is required when playing Vod's encription video",Tip_Err_Common:"please contact us for support, the error detail is:<br />",Tip_Err_Common_Short:"the error detail is:<br />",Tip_Drm_Request_Err:"The request failed with an error, please check the browser console to check whether it is caused by DNS, HTTPS certificates, or network problems. <br/> If the above tests are fine,",Tip_Drm_Secure_Context:"DRM can only be accessed under https, localhost, 127.0.0.1 web pages, and manifest and media segments must also use https.",Tip_Drm_Key_System_Unavailable:"1. This browser does not support Widevine or the current Widevine configuration<br/>2. The request that pops up in the browser was rejected by the user<br/>3. Please open the browser settings, look for the [Protected Content] setting and allow",Tip_Drm_File_Not_Allowed:"Do not use the file:// to open the file directly, you need to use a https:// to access the file",Tip_Drm_Playlist_Hierarchy:"HLS playlist level error, the main list needs to be master playlist",Tip_Drm_Info_Missing:"Please make sure the parameters of drm.widevine/fairplay you provided are valid",Tip_Drm_Unsupported:"Your browser does not currently support Widevine. If you are using Chrome, you can visit the URL chrome://components/ to locate the 'Widevine Content Decryption Module' and click on 'Update'. If this module is not present, the browser will be unable to play DRM-protected videos.",Tip_Err_Decode:"The decoding error refers to the current audio/video frame is not compatible with the browser, you can try the following methods: <br />1.chrome/edge browser open the chrome://flags, search for Hardware-accelerated video decode, select disabled<br />2.If the decoding error persists, please transcode the video to fix the problem frame",Tip_Err_Rts_Http_Failed:"The error indicates that the RTS streaming request encountered an HTTP error, which is usually related to HTTPS certificate, DNS resolution, or network connectivity issues. Due to browser restrictions on JavaScript, the player cannot obtain detailed error information. If you need further information, you can follow these steps:<br>Right-click on a blank area of the browser and select 'Inspect'.<br>2.In the newly opened interface, select 'Console'.<br>3.Check for any red error messages:<br>If you see 'SSL', it means that you have not correctly configured the HTTPS certificate for the streaming domain.<br>If you see 'NOT RESOLVED', it means that the DNS resolution for your domain has failed.<br>You can also use the <a style='color:white;text-decoration:underline;' href='https://live.console.aliyun.com/#/tool/url' target='_blank'>ApsaraVideo Live Diagnostic Tool</a> for self-diagnosis.",Tip_Err_Not_found:"For live streams, this might be due to the broadcast not starting yet, having ended, or being disrupted. For on-demand videos, it could indicate the video is unavailable.",Tip_Err_Blocked:"If you have a network proxy enabled, please try disabling it and then retrying.",Tip_Err_Splayer:"For best practices regarding playback of H.265/H.266 encoded videos, please refer to",Tip_Err_Splayer_Doc:" this document.",Tip_SW_Register:"1.Please access the webpage using HTTPS<br>2.Please ensure that the provided swScriptURL is a complete address starting with https:// and is accessible.",Tip_License_Required:"Starting 2024-12-01, the new version of the player must be configured with a license to use. The license for the basic functions of the player can be applied for free and is valid for 1 year. Please apply in advance to avoid any disruption in usage ",Tip_License_Params:"After completing the application, please refer to this document to pass the license information into the SDK ",Tip_License_Check:"Please ensure that the provided license key/domain parameters match exactly with what were obtained from the VOD/LIVE console.",Tip_License_Domain:"The current website domain does not match with your licensed domain",Tip_License_Feature:"The feature is not authorized by your license:",Tip_License_Reason:"The playback failed because your license verification was unsuccessful. Specific reason:",Live_End:"Live has finished",Play_Before_Fullscreen:"Please play before fullscreen",Can_Not_Seekable:"Can not seek to this position",Cancel_Text:"Cancel",OK_Text:"OK",Auto_Stream_Tip_Text:"Internet is slow, does switch to $$",Request_Block_Text:"This request is blocked, the video Url should be over https",Open_Html_By_File:"Html page should be on the server",Maybe_Cors_Error:"there is a network error, possibly due to HTTPS certificate issues, cross-origin problems, or DNS resolution failures",Speed_Switch_To:"Speed switch to ",Curent_Volume:"Current volume:",Volume_Mute:"set to mute",Volume_UnMute:"set to unmute",ShiftLiveTime_Error:"Live start time should not be greater than over time",Error_Not_Support_Format_On_Mobile:"flv、rmtp can't be supported on mobile，please use m3u8",Error_Not_Support_Mse_Flv:"Flv is not supported by this browser.",Error_Not_Support_Mse_Dash:"Dash is not supported by this browser.",Error_Not_Support_RTMP:"RTMP is not supported by this browser.",SessionId_Ticket_Invalid:"please assign value for sessionId and ticket properties",Http_Error:" An HTTP network request failed with an error, but not from the server.",Http_Timeout:"A network request timed out",DRM_License_Expired:"DRM license is expired, please refresh",Not_Support_DRM:"Browser doesn't support DRM",CC_Switch_To:"Subtitle switch to ",AudioTrack_Switch_To:"Audio tracks switch to ",Subtitle:"Subtitle/CC",AudioTrack:"Audio Track",Quality:"Quality",Auto:"Auto",Quality_Switch_To:"Quality switching to ",Fullscreen:"Full Screen",Setting:"Settings",Volume:"Volume",Play:"Play",Pause:"Pause",CloseSubtitle:"Close CC",OpenSubtitle:"Open CC",ExistFullScreen:"Exit Full Screen",Muted:"Muted",Retry:"Retry",SwitchToLive:"Return to live",iOSNotSupportVodEncription:"Versions of iOS below 17.1 doesn't support Vod's private encription video",iOSVodEncriptionBlacklist:"Please use Safari/Chrome browser to play Vod's private encription video",UseChromeForVodEncription:"This browser desn't suport Vod's encription video, please use latest Chrome/Edge",Record_Not_Allowed:"Recording or playing in seperated window is not allowed, please disable related plugins or switch browser.",License_Empty:"License params are required",License_Not_Found:"Unregistered license",License_Expired:"Expired license",License_License_Key_Invalid:"Invalid license key",License_Domain_Invalid:"Unexpected domain",License_Feature_Unauthorized:"Unauthorized feature",Rts_Err_Http_Signal_Error:"(RTS)http signal error",Rts_Err_Play_Failed:"(RTS)play faild error",Rts_Err_No_Data_For:"s received no data",Rts_Err_Browser_Not_Support:"(RTS)browser not support",Rts_Err_Not_Support_Webrtc:"(RTS)not support webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)browser version too low",Rts_Err_Not_Support_H264:"(RTS)not support h264",Rts_Err_Create_Offer_Error:"(RTS)create offer error",Rts_Err_Play_Url_Error:"(RTS)play url error",Rts_Err_Subscribe_Nonthing:"(RTS)subscribe nonthing",Rts_Err_Http_Request_Failed:"(RTS)HTTP request failed",Rts_Err_Http_Answer_Failed:"(RTS)answer failed",Rts_Err_PeerConnection_Unknown:"(RTS)Unknown PeerConnection",Splayer_Err_Env_Check:"(SP)This browser can't play this media",Splayer_Err_Coroutine:"(SP)Coroutine error",Splayer_Err_Decoder:"(SP)Decode error",Splayer_Err_Buffering:"(SP)Buffering error",Splayer_Err_Parser_Not_Found:"(SP)Media container is not supported"}},{}],24:[function(e,t,r){function i(t,r,i){var n=d(t),a="",s=u();a="en-us"==s?e("./en-us"):"zh-cn"==s?e("./zh-cn"):r[s];i&&(a=Object.assign({},a,i[s])),o.set(n,JSON.stringify(a)),c(t,a),i&&e("../lib/constants").updateByLanguage()}var n=e("../config"),o=e("../lib/storage"),a=(e("../lib/io"),"aliplayer_lang_data"),s="aliplayer_lang",l=function(){var e;return void 0!==window[s]&&window[s]||(e=(e=(navigator.language||navigator.browserLanguage).toLowerCase())&&-1<e.indexOf("zh")?"zh-cn":"en-us",window[s]=e),window[s]},c=function(e,t){e=d(e),window[e]=t},u=function(){return l()},d=function(e){var t=u();return a+"_"+(e=e||"h5")+"_"+n.h5Version.replace(/\./g,"_")+"_"+t};t.exports.setCurrentLanguage=function(t,r,n,o){var a=window[s];"en-us"==(t=void 0!==t&&t?t:l())||"zh-cn"==t||n&&n[t]||(console.warn("There is no language resource for "+t+", please specify the language resource by languageTexts property"),t="zh-cn"),window[s]=t,i(r,n,o),t!=a&&e("../lib/constants").updateByLanguage()},t.exports.getCurrentLanguage=l,t.exports.getLanguageData=function(e,t){return e=d(e),window[e]},t.exports.load=i,t.exports.get=function(e,t,r){if(t=d(t=t||"h5"),t=window[t],t){var i=t[e];if(r)for(var n in r)i=i.replace(new RegExp("@"+n+"@","g"),r[n]);return i}}},{"../config":15,"../lib/constants":29,"../lib/io":41,"../lib/storage":48,"./en-us":23,"./zh-cn":25}],25:[function(e,t,r){t.exports={OD:"原画",FD:"流畅",LD:"标清",SD:"高清",HD:"超清","2K":"2K","4K":"4K",FHD:"全高清",XLD:"极速",SQ:"普通音质",HQ:"高音质",Speed:"倍速",Speed_05X_Text:"0.5X",Speed_1X_Text:"正常",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Speed_Long_Press:"倍速播放中",Quality_Change_Fail_Switch_Text:"不能播放，切换为",Quality_Change_Text:"正在为您切换到 ",Quality_Change_Result:"已切换到 ",Quality_The_Url:"此地址",Refresh_Text:"刷新",Detection_Text:"查看建议",Cancel:"取消",Mute:"静音",Click_To_Unmute:"点击取消静音",Snapshot:"截图",Play_DateTime:"播放时间",Default:"默认",AutoPlayDelayDisplayText:"$$秒以后开始播放",Error_Load_Abort_Text:"获取数据过程被中止",Error_Network_Text:"网络错误加载数据失败",Error_Decode_Text:"解码错误",Error_No_Decoder_Text:"不支持此编码格式",Error_Server_Network_NotSupport_Text:"服务器、网络错误或格式不支持",Error_Offline_Text:"网络不可用，请确定",Error_Play_Text:"播放出错啦",Error_Retry_Text:"请尝试退出重试或刷新",Error_AuthKey_Text:"可能鉴权过期、域名不在白名单或请求被拦截",Error_H5_Not_Support_Text:"不支持此格式的视频",Error_Not_Support_M3U8_Text:"浏览器不支持m3u8视频播放",Error_Not_Support_MP4_Text:"浏览器不支持mp4视频播放",Error_Not_Support_encrypt_Text:"播放私有加密视频，请设置属性encryptType为1",Error_Encrypt_Fetch_Failed_Text:"请求加密地址失败",Error_Vod_URL_Is_Empty_Text:"获取播放地址为空",Error_Vod_Fetch_Urls_Text:"点播接口异常，请尝试退出重试或刷新",Fetch_Playauth_Error:"获取播放凭证出错啦，请尝试退出重试或刷新",Error_Playauth_Decode_Text:"playauth解析错误",Error_Vid_Not_Same_Text:"不能更新地址，vid和播放中的不一致",Error_Playauth_Expired_Text:"凭证已过期，请尝试退出重试或刷新",Error_MTS_Fetch_Urls_Text:"MTS获取取数失败",Error_Load_M3U8_Failed_Text:"获取m3u8文件失败,可能是https证书、跨域问题或DNS解析失败",Error_Load_M3U8_Timeout_Text:"获取m3u8文件超时",Error_Liveshift_M3U8_Not_Found_Text:"没有更多时移视频了",Error_M3U8_Decode_Text:"获取m3u8文件解析失败",Error_TX_Decode_Text:"解析数据出错",Error_Manifest_Decode_Text:"Manifest解析出错",Error_Waiting_Timeout_Text:"缓冲数据超时，请尝试退出重试或刷新",Error_Invalidate_Source:"播放地址格式需要为mp4、mp3、m3u8、mpd或flv",Error_Empty_Source:"播放地址不能为空",Error_Vid_Empty_Source:"vid对应的视频地址还未获取到",Error_Mediaauth_Empty_Source:"mediaAuth对应的视频地址还未获取到",Error_Fetch_NotStream:"此vid没有可播放视频",Error_Fetch_Media_Not_Found:"数据不存在或已被删除",Error_Not_Found:"播放地址不存在",Error_Drm_License_Request_Failed:"DRM License 请求失败",Error_Drm_Not_Supported:"当前浏览器不支持 DRM 播放",Error_Drm_Load:"DRM 播放错误",Error_Drm_No_Sts:"DRM 播放需要使用STS(accessKeyId/accessKeySecret/securityToken)",Error_Drm_Params_Missing:"缺少drm.widevine/fairplay等参数",Error_Region_Block_Text:"您所在的地区无法观看该视频",Error_SW_Conflict:"ServiceWorker冲突，请尝试禁用浏览器插件、重启浏览器并关闭其他网页",Error_SW_Register_Failed:"Service Worker注册失败",Error_SW_ScriptURL_Empty:"请传入 swScriptURL 参数",Error_SW_ScriptURL_Https:"swScriptURL参数请使用 https:// 协议的绝对地址",Error_SW_ScriptURL_Scope:"swScriptURL(子路径:@scope1@)和当前网页(子路径:@scope2@)必须在同一个子路径下",Error_SW_Version_Not_Match:"swScriptURL的版本号(@swVersion@)必须和播放器版本(@playerVersion@)号一致",Error_SW_ScriptURL_ILlegal:"请传入合法的swScriptURL(@detail@)",Error_SW_Https_required:"私有加密播放需要使用 https 环境",Tip_Err_Common:"您可联系售后支持，错误详情:<br />",Tip_Err_Common_Short:"错误详情:<br />",Tip_Drm_Request_Err:"请求出错，请先查看浏览器控制台，检查是否由域名解析、https证书、或网络问题引起。<br />若以上检查没问题，",Tip_Drm_Secure_Context:"DRM仅可以在https、localhost、127.0.0.1网页下访问，同时manifest和切片也必须使用https。",Tip_Drm_Key_System_Unavailable:"1.此浏览器不支持Widevine或者当前的Widevine配置<br />2.浏览器弹出的请求被用户拒绝了<br />3.请打开浏览器设置，查找关于【受保护的内容】设置并允许",Tip_Drm_File_Not_Allowed:"请不要使用file://直接打开文件，需要使用https://访问文件",Tip_Drm_Playlist_Hierarchy:"HLS播放列表层级错误，主列表需要是 master playlist",Tip_Drm_Info_Missing:"请检查传入的drm.widevine/fairplay等参数是否有效",Tip_Drm_Unsupported:"您的浏览器不支持 Widevine，如果是 Chrome，可以访问 chrome://components/，查找 Widevine Content Decryption Module，并点击更新。如果没有此模块，则该浏览器无法播放 DRM 视频。",Tip_Err_Decode:"解码错误指的是当前音/视频帧与浏览器不兼容，可以尝试以下方式：<br />1.chrome/edge 浏览器打开chrome://flags，搜索 Hardware-accelerated video decode，选择 disabled<br />2.如果解码错误仍然存在，请对视频进行转码处理，以修复问题帧<br />3.firefox浏览器请打开about:support，下拉找到【解码器支持信息】，如果没有AAC字样，代表不支持音频解码，请更换浏览器",Tip_Err_Rts_Http_Failed:"该错误指的是RTS拉流请求遇到了一个http错误，一般来说是https证书、DNS解析或者网络连通性问题，由于浏览器对JS的限制，播放器无法取得详细的错误信息，需要进一步排查，您可按照以下操作：<br>1.右键浏览器空白处，选择【检查】2.在新打开的界面中选择【控制台】3.查看红色报错：<br>如果有SSL字样，则代表您没有为拉流域名正确地配置https证书<br>如果有NOT RESOLVED字样，则代表您的域名DNS解析失败<br>您也使用<a style='color:white;text-decoration:underline;' href='https://live.console.aliyun.com/#/tool/url' target='_blank'>阿里云直播诊断工具</a>进行自助排查",Tip_Err_Not_found:"如果是直播，可能是直播未开始/已停止/已断流；如果是点播，可能是视频不存在。",Tip_Err_Blocked:"如果您开启了网络代理，请关闭后重试。",Tip_Err_Splayer:"关于 H.265/H.266 播放的最佳实践，请参考",Tip_Err_Splayer_Doc:"此文档。",Tip_SW_Register:"1.请使用https访问网页<br>2.请确保传入的swScriptURL是以https://开头的完整地址，且可以正常访问",Tip_License_Required:"2024年12月1日起，新版本播放器需要配置License才可以使用，播放器基础功能License免费申请，有效期 1 年，请提前申请以避免无法使用",Tip_License_Params:"申请完成后，请参考此文档将License信息传入SDK",Tip_License_Check:"请确保传入的 license key/domain 参数和点播/直播控制台上获取的完全一致",Tip_License_Domain:"当前网页域名和您的 license 授权域名不一致",Tip_License_Feature:"您的license未授权功能：",Tip_License_Reason:"播放失败，因为您的 License 校验未通过，具体原因：",Live_End:"亲，直播已结束",Play_Before_Fullscreen:"播放后再全屏",Can_Not_Seekable:"不能seek到这里",Cancel_Text:"取消",OK_Text:"确认",Auto_Stream_Tip_Text:"网络不给力，是否切换到$$",Request_Block_Text:"浏览器安全策略视频地址不能为http协议，与网站https协议不一致",Open_Html_By_File:"不能直接在浏览器打开html文件，请部署到服务端",Maybe_Cors_Error:"网络请求失败，可能是https证书、跨域问题或DNS解析失败",Speed_Switch_To:"倍速切换到 ",Curent_Volume:"当前音量：",Volume_Mute:"设置为静音",Volume_UnMute:"设置为非静音",ShiftLiveTime_Error:"直播开始时间不能大于直播结束时间",Error_Not_Support_Format_On_Mobile:"移动端不支持flv、rmtp视频，请使用m3u8",Error_Not_Support_Mse_Flv:"当前浏览器不支持 flv 视频",Error_Not_Support_Mse_Dash:"当前浏览器不支持 dash 视频",Error_Not_Support_RTMP:"浏览器不支持 rtmp 视频",SessionId_Ticket_Invalid:"DRM视频播放，sessionId和ticket属性不能为空",Http_Error:"Http网络请求失败",Http_Timeout:"http请求超时",DRM_License_Expired:"DRM license超时，请刷新",Not_Support_DRM:"浏览器不支持DRM视频的播放或未受到用户许可",CC_Switch_To:"字幕切换到 ",AudioTrack_Switch_To:"音轨切换到 ",Subtitle:"字幕",AudioTrack:"音轨",Quality:"清晰度",Auto:"自动",Quality_Switch_To:"正在切换清晰度至 ",Fullscreen:"全屏",Setting:"设置",Volume:"音量",Play:"播放",Pause:"暂停",CloseSubtitle:"关闭字幕",OpenSubtitle:"打开字幕",ExistFullScreen:"退出全屏",Muted:"静音",Retry:"重试",SwitchToLive:"返回直播",iOSNotSupportVodEncription:"iOS17.1以下不支持阿里云视频私有加密播放",iOSVodEncriptionBlacklist:"请使用Safari/Chrome浏览器播放加密视频",UseChromeForVodEncription:"浏览器不支持点播加密播放，请使用最新Chrome/Edge浏览器",Record_Not_Allowed:"禁止录屏或小窗口播放，请关闭插件或更换浏览器",License_Empty:"未配置License",License_Not_Found:"License未注册",License_Expired:"License已过期",License_License_Key_Invalid:"LicenseKey无效",License_Domain_Invalid:"域名不匹配",License_Feature_Unauthorized:"功能未授权",Rts_Err_Http_Signal_Error:"(RTS)信令请求失败",Rts_Err_Play_Failed:"(RTS)播放失败",Rts_Err_No_Data_For:"秒没有数据",Rts_Err_Browser_Not_Support:"(RTS)不支持此浏览器",Rts_Err_Not_Support_Webrtc:"(RTS)不支持webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)浏览器版本过低",Rts_Err_Not_Support_H264:"(RTS)不支持H264",Rts_Err_Create_Offer_Error:"(RTS)create offer失败",Rts_Err_Play_Url_Error:"(RTS)播放url协议错误",Rts_Err_Subscribe_Nonthing:"(RTS)参数设置错误",Rts_Err_Http_Request_Failed:"(RTS)HTTP请求失败",Rts_Err_Http_Answer_Failed:"(RTS)answer失败",Rts_Err_PeerConnection_Unknown:"(RTS)PeerConnection异常",Splayer_Err_Env_Check:"(SP)当前环境不支持播放该视频",Splayer_Err_Coroutine:"(SP)Coroutine 错误",Splayer_Err_Decode:"(SP)解码错误",Splayer_Err_Buffering:"(SP)缓冲区错误",Splayer_Err_Parser_Not_Found:"(SP)不支持的媒体容器"}},{}],26:[function(e,t,r){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(window.Uint8Array)for(var n=new Uint8Array(256),o=0;o<i.length;o++)n[i.charCodeAt(o)]=o;t.exports={decode:function(e){for(var t,r,i,o,a=.75*e.length,s=e.length,l=0,c=(a=("="===e[e.length-1]&&(a--,"="===e[e.length-2])&&a--,new ArrayBuffer(a)),new Uint8Array(a)),u=0;u<s;u+=4)t=n[e.charCodeAt(u)],r=n[e.charCodeAt(u+1)],i=n[e.charCodeAt(u+2)],o=n[e.charCodeAt(u+3)],c[l++]=t<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&o;return a},encode:function(e){for(var t=new Uint8Array(e),r=t.length,n="",o=0;o<r;o+=3)n=(n=(n=(n+=i[t[o]>>2])+i[(3&t[o])<<4|t[o+1]>>4])+i[(15&t[o+1])<<2|t[o+2]>>6])+i[63&t[o+2]];return r%3==2?n=n.substring(0,n.length-1)+"=":r%3==1&&(n=n.substring(0,n.length-2)+"=="),n},unpackPlayReady:function(e){if(e=function(e,t,r){if(!e)return"";r||e.byteLength%2==0||console.log("Data has an incorrect length, must be even."),r=e instanceof ArrayBuffer?e:((r=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),r.buffer);for(var i=Math.floor(e.byteLength/2),n=new Uint16Array(i),o=new DataView(r),a=0;a<i;a++)n[a]=o.getUint16(2*a,!0);return function(e){for(var t="",r=0;r<e.length;r+=16e3){var i=e.subarray(r,r+16e3);t+=String.fromCharCode.apply(null,i)}return t}(n)}(e,0,!0),-1!=e.indexOf("PlayReadyKeyMessage")){e=(new DOMParser).parseFromString(e,"application/xml");for(var t=e.getElementsByTagName("HttpHeader"),r={},i=0;i<t.length;++i){var n=t[i].querySelector("name"),o=t[i].querySelector("value");r[n.textContent]=o.textContent}return{header:r,changange:e.querySelector("Challenge").textContent}}console.log("PlayReady request is already unwrapped.")}}},{}],27:[function(e,t,r){function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(t,r,i,n){var a,s,l,c;r=r&&r.prototype instanceof y?r:y,r=Object.create(r.prototype),n=new C(n||[]);return o(r,"_invoke",{value:(a=t,s=i,l=n,c=h,function(t,r){if(c===g)throw Error("Generator is already running");if(c===_){if("throw"===t)throw r;return{value:e,done:!0}}for(l.method=t,l.arg=r;;){var i=l.delegate;if(i&&(i=function t(r,i){var n=i.method,o=r.iterator[n];return o===e?(i.delegate=null,"throw"===n&&r.iterator.return&&(i.method="return",i.arg=e,t(r,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m):(n=p(o,r.iterator,i.arg),"throw"===n.type?(i.method="throw",i.arg=n.arg,i.delegate=null,m):(o=n.arg,o?o.done?(i[r.resultName]=o.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)))}(i,l),i)){if(i===m)continue;return i}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===h)throw c=_,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);if(c=g,i=p(a,s,l),"normal"===i.type){if(c=l.done?_:f,i.arg===m)continue;return{value:i.arg,done:l.done}}"throw"===i.type&&(c=_,l.method="throw",l.arg=i.arg)}})}),r}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="suspendedYield",g="executing",_="completed",m={};function y(){}function v(){}function b(){}a={};var w=(u(a,s,(function(){return this})),Object.getPrototypeOf),S=(w=w&&w(w(P([]))),w&&w!==r&&n.call(w,s)&&(a=w),b.prototype=y.prototype=Object.create(a));function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){var r;o(this,"_invoke",{value:function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var l;i=p(e[i],e,o);if("throw"!==i.type)return(o=(l=i.arg).value)&&"object"==_typeof(o)&&n.call(o,"__await")?t.resolve(o.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(o).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(t){if(t||""===t){var r,i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(i=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i}).next=i}throw new TypeError(_typeof(t)+" is not iterable")}return o(S,"constructor",{value:v.prototype=b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){return e="function"==typeof e&&e.constructor,!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(T.prototype),u(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,i,n,o){void 0===o&&(o=Promise);var a=new T(d(e,r,i,n),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(S),u(S,c,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t,r=Object(e),i=[];for(t in r)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,i,n=this.tryEntries[t];if(n.tryLoc===e)return"throw"===(r=n.completion).type&&(i=r.arg,E(n)),i}throw Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:P(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function n(e,t,r,i,n,o,a){try{var s=e[o](a),l=s.value}catch(e){return r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}var o="undefined"==typeof Promise?e("es6-promise").Promise:Promise,a=e("./io"),s=e("../config");function l(){}function c(){var e;return e=i().mark((function e(t,r,n,c){var u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),void 0===n&&(n=l),void 0===c&&(c=l),window.VideoxMuxer){e.next=14;break}e.prev=4,e.next=7;var i=r;return new o((function(e,t){var r="videox-muxer.min.js",n="https://"+s.domain+s.path+s.h5Version+"/splayer/"+r;i.assetPrefix&&(n=i.assetPrefix+"/splayer/"+r),a.loadJS(n,(function(){e()}),(function(){t()}))}));case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(4),console.error("load videox-demuxer failed"),c("load videox-demuxer failed"),e.abrupt("return");case 14:u=window.VideoxMuxer.Demuxer,(d=new u({progressive:!0})).on("loadedmetadata",(function(e){void 0===e&&(e={}),d.suspend(),d.destroy(),d=null,n(e)})),d.on("error",(function(e){c(e),d.suspend(),d.destroy(),d=null})),d.load(t);case 19:case"end":return e.stop()}}),e,null,[[4,9]])})),(c=function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}).apply(this,arguments)}t.exports=function(e,t,r,i){return c.apply(this,arguments)}},{"../config":15,"./io":41,"es6-promise":9}],28:[function(e,t,r){var i=e("./oo"),n=e("../player/base/event/eventtype");t.exports.stopPropagation=function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation()},t.exports.register=function(e){e.util={stopPropagation:t.exports.stopPropagation},e.Component=i.extend,e.EventType=n.Player}},{"../player/base/event/eventtype":68,"./oo":44}],29:[function(e,t,r){function i(){t.exports.VideoErrorCodeText={1:n.get("Error_Load_Abort_Text"),2:n.get("Error_Network_Text"),3:n.get("Error_Decode_Text"),4:n.get("Error_Server_Network_NotSupport_Text")},t.exports.VideoLevels={0:n.get("OD"),640:n.get("FD"),960:n.get("LD"),1280:n.get("SD"),1920:n.get("HD"),2580:n.get("2K"),3840:n.get("4K")},t.exports.QualityLevels={OD:n.get("OD"),LD:n.get("LD"),FD:n.get("FD"),SD:n.get("SD"),HD:n.get("HD"),"2K":n.get("2K"),"4K":n.get("4K"),XLD:n.get("XLD"),FHD:n.get("FHD"),SQ:n.get("SQ"),HQ:n.get("HQ")},t.exports.SpeedLevels=[{key:.5,text:n.get("Speed_05X_Text")},{key:1,text:n.get("Speed_1X_Text")},{key:1.25,text:n.get("Speed_125X_Text")},{key:1.5,text:n.get("Speed_15X_Text")},{key:2,text:n.get("Speed_2X_Text")}]}var n=e("../lang/index");t.exports.LOAD_START="loadstart",t.exports.LOADED_METADATA="loadedmetadata",t.exports.LOADED_DATA="loadeddata",t.exports.PROGRESS="progress",t.exports.CAN_PLAY="canplay",t.exports.CAN_PLYA_THROUGH="canplaythrough",t.exports.PLAY="play",t.exports.PAUSE="pause",t.exports.ENDED="ended",t.exports.PLAYING="playing",t.exports.WAITING="waiting",t.exports.ERROR="error",t.exports.SUSPEND="suspend",t.exports.STALLED="stalled",t.exports.DASH_QUALITY_PROTOCOL="quality_index://",t.exports.AuthKeyExpiredEvent="authkeyexpired",t.exports.USER_EVENT_NAME="__user_events__",t.exports.PLAYER_SCOPE="__aliplayerMessage__",t.exports.SW_MSG_EVT={SETUP:"setup",SETUP_ACK:"setupAck",DISPOSE:"dispose",ENC_SEGMENT:"encSegment",DEC_SEGMENT:"decSegment",ABORT_SEGMENT:"abortSegment"},t.exports.DM_MSG_EVT={SETUP:"setup",DEMUX:"demux",RESULT:"result",FLUSH:"flush",DISPOSE:"dispose",DISPOSED:"disposed",ERROR:"error"},t.exports.PLAYER_SDK_CODE_LEGACY=9201,t.exports.PLAYER_SDK_CODE=9203,t.exports.FEATURE_ID_H265=30001,t.exports.FEATURE_ID_H266=30002,t.exports.LicenseResultCode={Success:0,NotFound:1,Expired:2,CertInvalid:3,WasmNotSupported:4,ResourceIncorrect:5,LicenseKeyInvalid:6,DomainInvalid:7},t.exports.LicenseErrorKey={Empty:"License_Empty",NotFound:"License_Not_Found",Expired:"License_Expired",CertInvalid:"License_Cert_Invalid",LicenseKeyInvalid:"License_License_Key_Invalid",DomainInvalid:"License_Domain_Invalid",Unauthorized:"License_Feature_Unauthorized"},t.exports.DRMKeySystem={4:"com.microsoft.playready",5:"com.widevine.alpha"},t.exports.EncryptionType={Private:1,Standard:2,ChinaDRM:3,PlayReady:4,Widevine:5},t.exports.VodEncryptionType={AliyunVoDEncryption:1,HLSEncryption:2,Widevine:5,"Widevine-FairPlay":5},t.exports.DRMType={Widevine:"Widevine",PlayReady:"PlayReady"},t.exports.ErrorCode={InvalidParameter:4001,AuthKeyExpired:4002,InvalidSourceURL:4003,NotFoundSourceURL:4004,StartLoadData:4005,LoadedMetadata:4006,PlayingError:4007,LoadingTimeout:4008,RequestDataError:4009,EncrptyVideoNotSupport:4010,FormatNotSupport:4011,PlayauthDecode:4012,PlayDataDecode:4013,NetworkUnavaiable:4014,UserAbort:4015,NetworkError:4016,URLsIsEmpty:4017,DrmLicenseRequestFailed:4018,RecordNotAllowed:4019,MediaNotFound:4020,DrmNotSupported:4021,DrmLoadError:4022,RegionBlock:4023,ModuleLoadError:4034,LicenseError:4035,CrossDomain:4027,OtherError:4400,ServerAPIError:4500,FlashNotInstalled:4600,RtsSignalError:4100,RtsPlayFailedError:4200,RtsNotSupportWebRtc:4110,RtsBrowserNotSupport:4111,RtsBrowserVersionTooLow:4112,RtsNotSupportH264:4113,RtsCreateOfferError:4114,RtsAutoPLayFaild:4115,RtsPlayUrlError:4116,RtsSubscribeNonthing:4117,RtsHtmlElementError:4118,RtsHtmlElementNotMatch:4119,RtsBrowserNotSupportRtc:4120,RtsHttpRequestFaild:4121,RtsHttpAnswerFaild:4122,RtsPeerConnectionUnknown:4123,SplayerEnvCheckError:4300,SplayerCoroutineError:4301,SplayerDecodeError:4302,SplayerBufferingError:4303,SplayerParserNotFound:4304},t.exports.AuthKeyExpired=7200,t.exports.AuthKeyRefreshExpired=7e3,t.exports.AuthInfoExpired=100,t.exports.VideoErrorCode={1:4015,2:4016,3:4013,4:4400},t.exports.RegionBlockMessages=["black location","denied by region block"],t.exports.IconType={FontClass:"fontclass",Symbol:"symbol",Sprite:"Sprite"},t.exports.SelectedStreamLevel="selectedStreamLevel",t.exports.SelectedCC="selectedCC",t.exports.HWDetectHvc1="HWDetectHvc1",t.exports.HWDetectHvc1Hls="HWDetectHvc1Hls",t.exports.HWDetectHev1="HWDetectHev1",t.exports.HWDetectHev1Hls="HWDetectHev1Hls",t.exports.WidthMapToLevel={0:"OD",640:"FD",960:"LD",1280:"SD",1920:"HD",2580:"2K",3840:"4K"},i(),t.exports.updateByLanguage=i},{"../lang/index":24}],30:[function(e,t,r){t.exports.get=function(e){for(var t=e+"",r=document.cookie.split(";"),i=0;i<r.length;i++){var n=r[i].trim();if(0==n.indexOf(t))return unescape(n.substring(t.length+1,n.length))}return""},t.exports.set=function(e,t,r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),r="expires="+i.toGMTString();document.cookie=e+"="+escape(t)+"; "+r}},{}],31:[function(e,t,r){var i=e("./object");t.exports.cache={},t.exports.guid=function(e,t){var r,i,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||n.length,e)for(r=0;r<e;r++)o[r]=n[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(i=0|16*Math.random(),o[r]=n[19==r?3&i|8:i]);return o.join("")},t.exports.expando="vdata"+(new Date).getTime(),t.exports.getData=function(e){var r=e[t.exports.expando];return r||(r=e[t.exports.expando]=t.exports.guid(),t.exports.cache[r]={}),t.exports.cache[r]},t.exports.hasData=function(e){var r="";return!(!(r=e?e[t.exports.expando]:r)||i.isEmpty(t.exports.cache[r]))},t.exports.removeData=function(e){var r="";if(r=e?e[t.exports.expando]:r){delete t.exports.cache[r];try{delete e[t.exports.expando]}catch(r){e.removeAttribute?e.removeAttribute(t.exports.expando):e[t.exports.expando]=null}}}},{"./object":43}],32:[function(e,t,r){var i,n="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e="undefined"!=typeof self?self:this,i=function(){return t=[function(e,t,r){(function(e){t.b=function(e){for(var t=(e=void 0===e?{}:e).includes,r=(e=e.excludes,e=void 0===e?[]:e,!1),i=!1,n=0,o=void 0===t?[]:t;n<o.length;n++)if(!0===o[n]){r=!0;break}for(var a=0,s=e;a<s.length;a++)if(!0===s[a]){i=!0;break}return r&&!i},t.c=function(e,t,r){return e=n.a[e],void 0!==e&&Object(i.compare)(e,t,r)},t.a=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this};var i=r(11),n=(r.n(i),r(4))}).call(t,r(10))},function(e,t,r){r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return c}));t=r(3),r=r(0),r=Object(r.a)();var i,n="InstallTrigger"in((null==r?void 0:r.window)||{})||/firefox/i.test(t.b),o=/trident/i.test(t.b)||/msie/i.test(t.b),a=/edge/i.test(t.b),s=/webkit/i.test(t.b)&&!a,l=void 0!==(null==(i=null==r?void 0:r.window)?void 0:i.chrome)||/chrome/i.test(t.b),c="[object SafariRemoteNotification]"===((null==(r=null==(i=null==r?void 0:r.window)?void 0:i.safari)?void 0:r.pushNotification)||!1).toString()||/safari/i.test(t.b)&&!l},function(e,t,r){r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s}));var i=r(1);function n(e){if(console){if(!i.d&&!i.b)return console[e];if("log"===e||"clear"===e)return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];console[e].apply(console,t)}}return function(){for(var e=0;e<arguments.length;e++);}}var o=n("log"),a=n("table"),s=n("clear")},function(e,t,r){t.a=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return null!=i&&i.document?(e=i.document).createElement.apply(e,t):{}},r.d(t,"b",(function(){return n}));t=r(0);var i=Object(t.a)(),n=(null==(r=null==i?void 0:i.navigator)?void 0:r.userAgent)||"xxxxx"},function(e,t,r){r.d(t,"a",(function(){return i}));for(var i={},n=0,o=(r(3).b||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];n<o.length;n++){var a=o[n].split("/"),s=a[0];i[s]=a[1]}},function(e,t,r){r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"e",(function(){return s}));t=r(3);var i=/ipad/i.test(t.b),n=/macintosh/i.test(t.b),o=/iphone/i.test(t.b),a=/android/i.test(t.b),s=/windows/i.test(t.b)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=function(e){d.addListener(e)},t.removeListener=function(e){d.removeListener(e)},t.isLaunch=function(){return d.isLaunch()},t.launch=function(){d.launch()},t.stop=function(){d.stop()},t.setDetectDelay=function(e){d.setDetectDelay(e)};var i=r(7),n=r(8),o=(r.d(t,"DevtoolsDetector",(function(){return i.a})),r.d(t,"checkers",(function(){return n})),r(0)),a=(r.d(t,"match",(function(){return o.b})),r.d(t,"specificVersionMatch",(function(){return o.c})),r(1)),s=(r.d(t,"isFirefox",(function(){return a.c})),r.d(t,"isIE",(function(){return a.d})),r.d(t,"isEdge",(function(){return a.b})),r.d(t,"isWebkit",(function(){return a.f})),r.d(t,"isChrome",(function(){return a.a})),r.d(t,"isSafari",(function(){return a.e})),r(2)),l=(r.d(t,"log",(function(){return s.b})),r.d(t,"table",(function(){return s.c})),r.d(t,"clear",(function(){return s.a})),r(17)),c=(r.d(t,"isMobile",(function(){return l.a})),r(4)),u=(r.d(t,"versionMap",(function(){return c.a})),r(5)),d=(r.d(t,"isIpad",(function(){return u.b})),r.d(t,"isMac",(function(){return u.d})),r.d(t,"isIphone",(function(){return u.c})),r.d(t,"isAndroid",(function(){return u.a})),r.d(t,"isWindows",(function(){return u.e})),new i.a({checkers:[n.elementIdChecker,n.regToStringChecker,n.functionToStringChecker,n.depRegToStringChecker,n.dateToStringChecker,n.debuggerChecker]}));t.default=d},function(e,t,r){r.d(t,"a",(function(){return a}));var i=this&&this.__awaiter||function(e,t,r,i){return new(r=r||n)((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},a=(s.prototype.launch=function(){this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop())},s.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},s.prototype.isLaunch=function(){return!this._detectLoopStopped},s.prototype.setDetectDelay=function(e){this._detectLoopDelay=e},s.prototype.addListener=function(e){this._listeners.push(e)},s.prototype.removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},s.prototype._broadcast=function(e){for(var t=0,r=this._listeners;t<r.length;t++){var i=r[t];try{i(e.isOpen,e)}catch(e){}}},s.prototype._detectLoop=function(){return i(this,void 0,void 0,(function(){var e,t,r,i,n,a=this;return o(this,(function(o){switch(o.label){case 0:e=!1,t="",r=0,i=this._checkers,o.label=1;case 1:return r<i.length?[4,(n=i[r]).isEnable()]:[3,6];case 2:return o.sent()?(t=n.name,[4,n.isOpen()]):[3,4];case 3:e=o.sent(),o.label=4;case 4:if(e)return[3,6];o.label=5;case 5:return r++,[3,1];case 6:return e!=this._isOpen&&(this._isOpen=e,this._broadcast({isOpen:e,checkerName:t})),0<this._detectLoopDelay?this._timer=setTimeout((function(){return a._detectLoop()}),this._detectLoopDelay):this.stop(),[2]}}))}))},s);function s(e){e=e.checkers,this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=e.slice()}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),n=(r.d(t,"depRegToStringChecker",(function(){return i.a})),r(12)),o=(r.d(t,"elementIdChecker",(function(){return n.a})),r(13)),a=(r.d(t,"functionToStringChecker",(function(){return o.a})),r(14)),s=(r.d(t,"regToStringChecker",(function(){return a.a})),r(15)),l=(r.d(t,"debuggerChecker",(function(){return s.a})),r(16));r.d(t,"dateToStringChecker",(function(){return l.a}))},function(e,t,r){r.d(t,"a",(function(){return d}));var i=r(1),o=r(2),a=r(0),s=this&&this.__awaiter||function(e,t,r,i){return new(r=r||n)((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},c=/ /,u=!1,d=(c.toString=function(){return u=!0,d.name},{name:"dep-reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return u=!1,Object(o.c)({dep:c}),Object(o.a)(),[2,u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[i.c,i.d]})]}))}))}})},function(e,t){var r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"===typeof window?"undefined":_typeof(window))&&(r=window)}e.exports=r},function(e,t,r){var i;void 0!==(t="function"==typeof(i=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t=e.replace(/^v/,"").replace(/\+.*$/,""),r=function(e,t){return-1===e.indexOf("-")?e.length:e.indexOf("-")}(t),i=t.substring(0,r).split(".");return i.push(t.substring(r+1)),i}function r(e){return isNaN(Number(e))?e:Number(e)}function i(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function n(e,n){[e,n].forEach(i);for(var o=t(e),a=t(n),s=0;s<Math.max(o.length-1,a.length-1);s++){var l=parseInt(o[s]||0,10),c=parseInt(a[s]||0,10);if(l>c)return 1;if(c>l)return-1}var u=o[o.length-1],d=a[a.length-1];if(u&&d){var p=u.split(".").map(r),h=d.split(".").map(r);for(s=0;s<Math.max(p.length,h.length);s++){if(void 0===p[s]||"string"==typeof h[s]&&"number"==typeof p[s])return-1;if(void 0===h[s]||"string"==typeof p[s]&&"number"==typeof h[s])return 1;if(p[s]>h[s])return 1;if(h[s]>p[s])return-1}}else if(u||d)return u?-1:1;return 0}var o=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return n.validate=function(t){return"string"==typeof t&&e.test(t)},n.compare=function(e,t,r){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+_typeof(e));if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(r);var i=n(e,t);return a[r].indexOf(i)>-1},n})?i.apply(t,[]):i)&&(e.exports=t)},function(e,t,r){r.d(t,"a",(function(){return d}));var i=r(1),o=r(2),a=r(0),s=(t=r(3),this&&this.__awaiter||function(e,t,r,i){return new(r=r||n)((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}),l=this&&this.__generator||function(e,t){var r,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},c=Object(t.a)("div"),u=!1,d=(Object.defineProperty(c,"id",{get:function(){return u=!0,d.name},configurable:!0}),{name:"element-id",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return u=!1,Object(o.b)(c),Object(o.a)(),[2,u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[i.d,i.b,i.c]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return p}));var i=r(1),o=r(2),a=r(5),s=r(0),l=this&&this.__awaiter||function(e,t,r,i){return new(r=r||n)((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var r,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};function u(){}var d=0,p=(u.toString=function(){return d++,""},{name:"function-to-string",isOpen:function(){return l(this,void 0,void 0,(function(){return c(this,(function(e){return d=0,Object(o.b)(u),Object(o.a)(),[2,2===d]}))}))},isEnable:function(){return l(this,void 0,void 0,(function(){return c(this,(function(e){return[2,Object(s.b)({includes:[!0],excludes:[i.c,(a.b||a.c)&&i.a]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return d}));var i=r(2),o=r(1),a=r(0),s=this&&this.__awaiter||function(e,t,r,i){return new(r=r||n)((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},c=/ /,u=!1,d=(c.toString=function(){return u=!0,d.name},{name:"reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return u=!1,Object(i.b)(c),Object(i.a)(),[2,u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[o.f]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return s}));var i=this&&this.__awaiter||function(e,t,r,i){return new(r=r||n)((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};function a(){return(performance||Date).now()}var s={name:"debugger-checker",isOpen:function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){return e=a(),function(){}.constructor("debugger")(),[2,100<a()-e]}))}))},isEnable:function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){return[2,!0]}))}))}}},function(e,t,r){r.d(t,"a",(function(){return d}));var i=r(1),o=r(2),a=r(0),s=this&&this.__awaiter||function(e,t,r,i){return new(r=r||n)((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},c=new Date,u=0,d=(c.toString=function(){return u++,""},{name:"date-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return u=0,Object(o.b)(c),Object(o.a)(),[2,2===u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[i.a],excludes:[]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return i}));t=r(3);var i=/mobile/i.test(t.b)}],r={},e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=6);function e(i){var n;return(r[i]||(n=r[i]={i:i,l:!1,exports:{}},t[i].call(n.exports,n,n.exports,e),n.l=!0,n)).exports}var t,r},"object"==_typeof(r)&&"object"==_typeof(t)?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==_typeof(r)?r.devtoolsDetector=i():e.devtoolsDetector=i()},{"es6-promise":9}],33:[function(e,t,r){var i=e("./object");t.exports.el=function(e){return document.getElementById(e)},t.exports.createEl=function(e,t){var r;return e=e||"div",t=t||{},r=document.createElement(e),i.each(t,(function(e,t){-1!==e.indexOf("aria-")||"role"==e?r.setAttribute(e,t):r[e]=t})),r},t.exports.addClass=function(e,t){e&&-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},t.exports.removeClass=function(e,t){var r,i;if(-1!=e.className.indexOf(t)){for(i=(r=e.className.split(" ")).length-1;0<=i;i--)r[i]===t&&r.splice(i,1);e.className=r.join(" ")}},t.exports.hasClass=function(e,t){return-1!=e.className.indexOf(t)},t.exports.getClasses=function(e){return e.className?e.className.split(" "):[]},t.exports.getElementAttributes=function(e){var t,r,i={};if(e&&e.attributes&&0<e.attributes.length)for(var n,o=(n=e.attributes).length-1;0<=o;o--)t=n[o].name,r=n[o].value,"boolean"!=typeof e[t]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+t+",")||(r=null!==r),i[t]=r;return i},t.exports.insertFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},t.exports.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},t.exports.unblockTextSelection=function(){document.onselectstart=function(){return!0}},t.exports.css=function(e,t,r){return!(!e||!e.style)&&(t&&r?(e.style[t]=r,!0):r||"string"!=typeof t?!r&&"object"==_typeof(t)&&(i.each(t,(function(t,r){e.style[t]=r})),!0):e.style[t])},t.exports.getTransformName=function(e){for(var t=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],r=t[0],i=0,n=t.length;i<n;i++)if(void 0!==e.style[t[i]]){r=t[i];break}return r},t.exports.getTransformEventName=function(e,t){for(var r=["","Webkit","Moz","ms","O"],i=t.toLowerCase(),n=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],o=0,a=n.length;o<a;o++)if(void 0!==e.style[n[o]]){0!=o&&(i=r[o]+t);break}return i},t.exports.addCssByStyle=function(e){var t=document,r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=e:(e=t.createTextNode(e),r.appendChild(e)),e=t.getElementsByTagName("head");(e.length?e[0]:t.documentElement).appendChild(r)},t.exports.getTranslateX=function(e){var r=0;if(e)try{var i=window.getComputedStyle(e),n=t.exports.getTransformName(e);r=new(window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)(i[n]).m41}catch(e){console.log(e)}return r},t.exports.getPointerPosition=function(e,r){var i={},n=t.exports.findPosition(e),o=e.offsetWidth,a=(e=e.offsetHeight,n.top),s=(n=n.left,r.pageY),l=r.pageX;return r.changedTouches&&(l=r.changedTouches[0].pageX,s=r.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(a-s+e)/e)),i.x=Math.max(0,Math.min(1,(l-n)/o)),i},t.exports.findPosition=function(e){var t,r,i,n;return(t=e.getBoundingClientRect&&e.parentNode?e.getBoundingClientRect():t)?(e=document.documentElement,n=document.body,i=e.clientLeft||n.clientLeft||0,r=window.pageXOffset||n.scrollLeft,r=t.left+r-i,i=e.clientTop||n.clientTop||0,e=window.pageYOffset||n.scrollTop,n=t.top+e-i,{left:Math.round(r),top:Math.round(n)}):{left:0,top:0}}},{"./object":43}],34:[function(e,t,r){var i=e("./object"),n=e("./data"),o=e("./ua"),a=e("./fastclick");function s(e,t,r,n){i.each(r,(function(r){e(t,r,n)}))}t.exports.on=function(e,r,l){if(e){if(i.isArray(r))return s(t.exports.on,e,r,l);o.IS_MOBILE&&"click"==r&&a.attach(e);var c=n.getData(e);c.handlers||(c.handlers={}),c.handlers[r]||(c.handlers[r]=[]),l.guid||(l.guid=n.guid()),c.handlers[r].push(l),c.dispatcher||(c.disabled=!1,c.dispatcher=function(r){if(!c.disabled){r=t.exports.fixEvent(r);var i=c.handlers[r.type];if(i)for(var n=i.slice(0),o=0,a=n.length;o<a&&!r.isImmediatePropagationStopped();o++)n[o].call(e,r)}}),1==c.handlers[r].length&&(e.addEventListener?e.addEventListener(r,c.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+r,c.dispatcher))}},t.exports.off=function(e,r,o){if(e&&n.hasData(e)){var a=n.getData(e);if(a.handlers){if(i.isArray(r))return s(t.exports.off,e,r,o);var l=function(r){a.handlers[r]=[],t.exports.cleanUpEvents(e,r)};if(r){var c=a.handlers[r];if(c)if(o){if(o.guid)for(var u=0;u<c.length;u++)c[u].guid===o.guid&&c.splice(u--,1);t.exports.cleanUpEvents(e,r)}else l(r)}else for(var d in a.handlers)l(d)}}},t.exports.cleanUpEvents=function(e,t){var r=n.getData(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),i.isEmpty(r.handlers)&&(delete r.handlers,delete r.dispatcher,delete r.disabled),i.isEmpty(r)&&n.removeData(e)},t.exports.fixEvent=function(e){function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var i,n,o,a=e||window.event;for(i in e={},a)"layerX"===i||"layerY"===i||"keyboardEvent.keyLocation"===i||"returnValue"==i&&a.preventDefault||(e[i]=a[i]);e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){a.preventDefault&&a.preventDefault(),e.returnValue=!1,e.isDefaultPrevented=t,e.defaultPrevented=!0},e.isDefaultPrevented=r,e.defaultPrevented=!1,e.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),e.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!=e.clientX&&(n=document.documentElement,o=document.body,e.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e},t.exports.trigger=function(e,r){var i,o,a;if(e)return i=n.hasData(e)?n.getData(e):{},o=e.parentNode||e.ownerDocument,"string"==typeof r&&(a=null,!e.paramData&&0!=e.paramData||(a=e.paramData,e.paramData=null,e.removeAttribute(a)),r={type:r,target:e,paramData:a}),r=t.exports.fixEvent(r),i.dispatcher&&i.dispatcher.call(e,r),o&&!r.isPropagationStopped()&&!1!==r.bubbles?t.exports.trigger(o,r):o||r.defaultPrevented||(a=n.getData(r.target),r.target[r.type]&&(a.disabled=!0,"function"==typeof r.target[r.type]&&r.target[r.type](),a.disabled=!1)),!r.defaultPrevented},t.exports.one=function(e,r,o){if(e){if(i.isArray(r))return s(t.exports.one,e,r,o);var a=function i(){t.exports.off(e,r,i),o.apply(this,arguments)};a.guid=o.guid=o.guid||n.guid(),t.exports.on(e,r,a)}}},{"./data":31,"./fastclick":35,"./object":43,"./ua":49}],35:[function(e,t,r){function i(e,t){var r;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!i.notNeeded(e)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=0,s=n.length;a<s;a++)this[n[a]]=function(e,t){return function(){return e.apply(t,arguments)}}(this[n[a]],this);o&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,r,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(e,t,r.hijacked||r,i):n.call(e,t,r,i)},e.addEventListener=function(t,r,i){var n=Node.prototype.addEventListener;"click"===t?n.call(e,t,r.hijacked||(r.hijacked=function(e){e.propagationStopped||r(e)}),i):n.call(e,t,r,i)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",(function(e){r(e)}),!1),e.onclick=null)}}var n=0<=navigator.userAgent.indexOf("Windows Phone"),o=0<navigator.userAgent.indexOf("Android")&&!n,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,s=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=a&&/OS [6-7]_\d/.test(navigator.userAgent),c=0<navigator.userAgent.indexOf("BB10");i.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(a&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},i.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},i.prototype.sendClick=function(e,t){var r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),t=t.changedTouches[0],(r=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,e.dispatchEvent(r)},i.prototype.determineEventType=function(e){return o&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(e){var t;a&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type&&"email"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},i.prototype.updateScrollParent=function(e){var t,r=e.fastClickScrollParent;if(!r||!r.contains(e)){t=e;do{if(t.scrollHeight>t.offsetHeight){r=t,e.fastClickScrollParent=t;break}}while(t=t.parentElement)}r&&(r.fastClickLastScrollTop=r.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},i.prototype.onTouchStart=function(e){var t,r,i;if(!(1<e.targetTouches.length)){if(t=this.getTargetElementFromEventTarget(e.target),r=e.targetTouches[0],a){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!s){if(r.identifier&&r.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=r.identifier,this.updateScrollParent(t)}}this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=r.pageX,this.touchStartY=r.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault()}return!0},i.prototype.touchHasMoved=function(e){e=e.changedTouches[0];var t=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>t||Math.abs(e.pageY-this.touchStartY)>t},i.prototype.onTouchMove=function(e){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0},i.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(e){var t,r,i,n=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,t=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(i=e.changedTouches[0],(n=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||n).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=n.tagName.toLowerCase())){if(r=this.findControl(n)){if(this.focus(n),o)return!1;n=r}}else if(this.needsFocus(n))return 100<e.timeStamp-t||a&&window.top!==window&&"input"===i?this.targetElement=null:(this.focus(n),this.sendClick(n,e),a&&"select"===i||(this.targetElement=null,e.preventDefault())),!1;return!(!a||s||!(r=n.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(n)||(e.preventDefault(),this.sendClick(n,e)),!1)},i.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(e){return!this.targetElement||!(!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),1))},i.prototype.onClick=function(e){return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((e=this.onMouse(e))||(this.targetElement=null),e)},i.prototype.destroy=function(){var e=this.layer;o&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(e){var t,r;if(void 0===window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<r&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&10<=(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=r[2]&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction},i.attach=function(e,t){return new i(e,t)},t.exports=i},{}],36:[function(e,t,r){var i=e("./data");t.exports.bind=function(e,t,r){function n(){return t.apply(e,arguments)}return t.guid||(t.guid=i.guid()),n.guid=r?r+"_"+t.guid:t.guid,n}},{"./data":31}],37:[function(e,t,r){function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(t,r,i,n){var a,s,l,c;r=r&&r.prototype instanceof y?r:y,r=Object.create(r.prototype),n=new C(n||[]);return o(r,"_invoke",{value:(a=t,s=i,l=n,c=h,function(t,r){if(c===g)throw Error("Generator is already running");if(c===_){if("throw"===t)throw r;return{value:e,done:!0}}for(l.method=t,l.arg=r;;){var i=l.delegate;if(i&&(i=function t(r,i){var n=i.method,o=r.iterator[n];return o===e?(i.delegate=null,"throw"===n&&r.iterator.return&&(i.method="return",i.arg=e,t(r,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m):(n=p(o,r.iterator,i.arg),"throw"===n.type?(i.method="throw",i.arg=n.arg,i.delegate=null,m):(o=n.arg,o?o.done?(i[r.resultName]=o.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)))}(i,l),i)){if(i===m)continue;return i}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===h)throw c=_,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);if(c=g,i=p(a,s,l),"normal"===i.type){if(c=l.done?_:f,i.arg===m)continue;return{value:i.arg,done:l.done}}"throw"===i.type&&(c=_,l.method="throw",l.arg=i.arg)}})}),r}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="suspendedYield",g="executing",_="completed",m={};function y(){}function v(){}function b(){}a={};var w=(u(a,s,(function(){return this})),Object.getPrototypeOf),S=(w=w&&w(w(P([]))),w&&w!==r&&n.call(w,s)&&(a=w),b.prototype=y.prototype=Object.create(a));function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){var r;o(this,"_invoke",{value:function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var l;i=p(e[i],e,o);if("throw"!==i.type)return(o=(l=i.arg).value)&&"object"==_typeof(o)&&n.call(o,"__await")?t.resolve(o.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(o).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(t){if(t||""===t){var r,i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(i=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i}).next=i}throw new TypeError(_typeof(t)+" is not iterable")}return o(S,"constructor",{value:v.prototype=b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){return e="function"==typeof e&&e.constructor,!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(T.prototype),u(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,i,n,o){void 0===o&&(o=Promise);var a=new T(d(e,r,i,n),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(S),u(S,c,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t,r=Object(e),i=[];for(t in r)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,i,n=this.tryEntries[t];if(n.tryLoc===e)return"throw"===(r=n.completion).type&&(i=r.arg,E(n)),i}throw Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:P(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function n(e,t,r,i,n,o,a){try{var s=e[o](a),l=s.value}catch(e){return r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}}var a,s="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e=self,a=function(){return(r={d:function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).d(n={},{default:function(){return f}}),a=navigator.userAgent,l=/qqbrowser/i.test(a.toLowerCase()),c=/Edge/i.test(a),c=/Chrome/i.test(a)&&!c&&!l,u=/Safari/i.test(a)&&!c,l=a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/),c=l&&l[1],d=c&&Number(c.split(".")[0]),p=function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.next=5,r.blob();case 5:return r=e.sent,e.abrupt("return",URL.createObjectURL(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={includeSystemHijack:!0,showVideo:!1,format:"mp4",codecTags:["hev1","hvc1"],timeout:2e3},f=function(r){return void 0===r&&(r={}),new s(function(){var n=o(i().mark((function n(o){var a,s,l,c,f,g,_,m,y,v,b,w,S;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(c=Object.assign({},h,r),a=c.includeSystemHijack,s=c.showVideo,_=c.codecTags,l=c.format,c=c.timeout,f=performance.now(),g=-1<_.indexOf("hvc1"),_=-1<_.indexOf("hev1"),y=m=!1,!(u&&d&&11<=d)){i.next=14;break}if(v=e("hvc1",l),i.t0=a,i.t0){i.next=9;break}return i.next=8,p(v);case 8:v=i.sent;case 9:return i.next=11,t(v,s,"hvc1",c);case 11:m=i.sent,i.next=34;break;case 14:if(!g){i.next=24;break}if(b=e("hvc1",l),i.t1=a,i.t1){i.next=21;break}return i.next=20,p(b);case 20:b=i.sent;case 21:return i.next=23,t(b,s,"hvc1",c);case 23:m=i.sent;case 24:if(!_){i.next=34;break}if(w=e("hev1",l),i.t2=a,i.t2){i.next=31;break}return i.next=30,p(w);case 30:w=i.sent;case 31:return i.next=33,t(w,s,"hev1",c);case 33:y=i.sent;case 34:S=performance.now(),o({isHvc1Supported:m,isHev1Supported:y,time:Math.ceil(S-f)});case 36:case"end":return i.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},n.default;function e(e,t){var r="hls"===(t=void 0===t?"mp4":t),i="";switch(e=void 0===e?"":e){case"hvc1":i=r?"https://player.alicdn.com/lib/detect-assets/01s_20x20_hvc1.m3u8":"https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hvc1.mp4";break;case"hev1":i=r?"https://player.alicdn.com/lib/detect-assets/01s_20x20_hev1.m3u8":"https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hev1.mp4";break;default:i=""}return i}function t(e,t,r,i){void 0===t&&(t=!1),void 0===r&&(r="");var n=performance.now(),o=i;return new s((function(i){a=e,void 0===(s=t?100:0)&&(s=100),(l=document.createElement("video")).setAttribute("width",""+s),l.setAttribute("height",""+s),l.setAttribute("muted","muted"),l.setAttribute("crossorigin","anonymous"),l.setAttribute("preload","preload"),l.setAttribute("autoplay","autoplay"),l.setAttribute("webkit-playsinline","webkit-playsinline"),l.setAttribute("playsinline","playsinline"),l.setAttribute("x-webkit-airplay","x-webkit-airplay"),l.setAttribute("playsinline","playsinline"),l.src=a;var a,s,l,c=l,u=setInterval((function(){var e,a,s,l,d;(performance.now()-n>o||0!==c.videoWidth)&&(clearInterval(u),e=0!==c.videoWidth,t?(c.setAttribute("controls","controls"),a=c,void 0===(s=r)&&(s=""),l=document.createElement("dv"),(d=document.createElement("h3")).innerText=s,l.appendChild(a),l.appendChild(d),document.body.appendChild(l)):(c.pause(),c=null),i(e))}))}))}var r,n,a,l,c,u,d,p,h,f},"object"==_typeof(r)&&"object"==_typeof(t)?t.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==_typeof(r)?r.hevcDetector=a():e.hevcDetector=a()},{"es6-promise":9}],38:[function(e,t,r){function i(e){for(var t in e="string"==typeof e?this.parseAttrList(e):e)e.hasOwnProperty(t)&&(this[t]=e[t])}var n=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;i.prototype={decimalInteger:function(e){return e=parseInt(this[e],10),e>Number.MAX_SAFE_INTEGER?1/0:e},hexadecimalInteger:function(e){if(this[e]){for(var t=(1&(t=(this[e]||"0x").slice(2)).length?"0":"")+t,r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null},hexadecimalIntegerAsNumber:function(e){return e=parseInt(this[e],16),e>Number.MAX_SAFE_INTEGER?1/0:e},decimalFloatingPoint:function(e){return parseFloat(this[e])},enumeratedString:function(e){return this[e]},decimalResolution:function(e){if(e=n.exec(this[e]),null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},parseAttrList:function(e){var t,r={};for(o.lastIndex=0;null!==(t=o.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[t[1]]=i}return r}},t.exports=i},{}],39:[function(e,t,r){function i(){this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function n(){this.loaders={}}var o=e("../constants"),a=e("../playerutil"),s=e("./attrlist"),l=e("../io"),c=e("./urltoolkit"),u=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,d=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(PART-INF):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,f="RegionBlock",g=function(){this.method=null,this.key=null,this.iv=null,this._uri=null};i.prototype.getUrl=function(){return!this._url&&this.relurl&&(this._url=c.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},i.prototype.Seturl=function(e){this._url=e},i.prototype.getProgramDateTime=function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime},i.prototype.GetbyteRange=function(){var e,t,r;return this._byteRange||(e=this._byteRange=[],this.rawByteRange&&(1===(t=this.rawByteRange.split("@",2)).length?(r=this.lastByteRangeEndOffset,e[0]=r||0):e[0]=parseInt(t[1]),e[1]=parseInt(t[0])+e[0])),this._byteRange},i.prototype.getByteRangeStartOffset=function(){return this.byteRange[0]},i.prototype.getByteRangeEndOffset=function(){return this.byteRange[1]},i.prototype.getDecryptdata=function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},n.prototype=((e={parseMasterPlaylist:function(e,t){var r=[];for(u.lastIndex=0;null!=(o=u.exec(e));){var i={},n=i.attrs=new s(o[1]),o=(i.url=this.resolve(o[2],t),n.decimalResolution("RESOLUTION"));if(o&&(i.width=o.width,i.height=o.height),i.bitrate=n.decimalInteger("AVERAGE-BANDWIDTH")||n.decimalInteger("BANDWIDTH"),i.name=n.NAME,a=n.CODECS)for(var a=a.split(/[ ,]+/),l=0;l<a.length;l++){var c=a[l];-1!==c.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(c):-1!==c.indexOf("hvc1")?i.videoCodec=c:i.audioCodec=c}r.push(i)}return r},parseMasterPlaylistMedia:function(e,t,r,i){var n=[],o=0;for(d.lastIndex=0;null!=(l=d.exec(e));){var a={},l=new s(l[1]);l.TYPE===r&&(a.groupId=l["GROUP-ID"],a.name=l.NAME,a.type=r,a.default="YES"===l.DEFAULT,a.autoselect="YES"===l.AUTOSELECT,a.forced="YES"===l.FORCED,l.URI&&(a.url=this.resolve(l.URI,t)),a.lang=l.LANGUAGE,a.name||(a.name=a.lang),i&&(a.audioCodec=i),a.id=o++,n.push(a))}return n},avc1toavcoti:function(e){var t=e.split("."),r=2<t.length?(r=t.shift()+".",(r+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)):e;return r},load:function(e,t,r){var i=this;l.get(e,(function(r){var n,o,a,s=i.parseMasterPlaylist(r,e);s.length&&(n=i.parseMasterPlaylistMedia(r,e,"AUDIO",s[0].audioCodec),o=i.parseMasterPlaylistMedia(r,e,"SUBTITLES"),n.length)&&(a=!1,n.forEach((function(e){e.url||(a=!0)})),!1===a)&&s[0].audioCodec&&!s[0].attrs.AUDIO&&(console.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),n.unshift({type:"main",name:"main"})),t({levels:s,audioTracks:n,subtitles:o,url:e,string:r})}),(function(e,t,i){r&&((i=a.parseHttpHeaders(i)["x-tengine-error"])&&-1<o.RegionBlockMessages.indexOf(i)&&(e=f),r(e,t))}))},loadMediaPlaylist:function(e,t,r){var i=this,n=(e=e||{}).string,o=e.url;n?(e=i.parseLevelPlaylist(n,o),t(e)):l.get(o,(function(e){e=i.parseLevelPlaylist(e,o),t(e)}),(function(e){r&&r(e)}))},resolve:function(e,t){return c.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}}).parseMasterPlaylist=function(e,t){var r=[];for(u.lastIndex=0;null!=(o=u.exec(e));){var i={},n=i.attrs=new s(o[1]),o=(i.url=this.resolve(o[2],t),n.decimalResolution("RESOLUTION"));if(o&&(i.width=o.width,i.height=o.height),i.bitrate=n.decimalInteger("AVERAGE-BANDWIDTH")||n.decimalInteger("BANDWIDTH"),i.name=n.NAME,a=n.CODECS)for(var a=a.split(/[ ,]+/),l=0;l<a.length;l++){var c=a[l];-1!==c.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(c):-1!==c.indexOf("hvc1")?i.videoCodec=c:i.audioCodec=c}r.push(i)}return r},e.parseMasterPlaylistMedia=function(e,t,r,i){var n=[],o=0;for(d.lastIndex=0;null!=(l=d.exec(e));){var a={},l=new s(l[1]);l.TYPE===r&&(a.groupId=l["GROUP-ID"],a.name=l.NAME,a.type=r,a.default="YES"===l.DEFAULT,a.autoselect="YES"===l.AUTOSELECT,a.forced="YES"===l.FORCED,l.URI&&(a.url=this.resolve(l.URI,t)),a.lang=l.LANGUAGE,a.name||(a.name=a.lang),i&&(a.audioCodec=i),a.id=o++,n.push(a))}return n},e.avc1toavcoti=function(e){var t=e.split("."),r=2<t.length?(r=t.shift()+".",(r+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)):e;return r},e.parseLevelPlaylist=function(e,t,r,n){var o,a,l=0,c=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},d=new g,f=0,_=null,m=new i;for(p.lastIndex=0;null!==(o=p.exec(e));){var y=o[1];if(y){m.duration=parseFloat(y);var v=(" "+o[2]).slice(1);m.title=v||null,m.tagList.push(v?["INF",y,v]:["INF",y])}else if(o[3])isNaN(m.duration)||(v=l++,m.type=n,m.start=c,m.levelkey=d,m.sn=v,m.level=r,m.cc=f,m.baseurl=t,m.relurl=(" "+o[3]).slice(1),u.fragments.push(m),c+=(_=m).duration,m=new i);else if(o[4])m.rawByteRange=(" "+o[4]).slice(1),_&&(y=_.byteRangeEndOffset)&&(m.lastByteRangeEndOffset=y);else if(o[5])m.rawProgramDateTime=(" "+o[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),void 0===u.programDateTime&&(u.programDateTime=new Date(new Date(Date.parse(o[5]))-1e3*c));else{for(o=o[0].match(h),a=1;a<o.length&&void 0===o[a];a++);var b=(" "+o[a+1]).slice(1),w=(" "+o[a+2]).slice(1);switch(o[a]){case"#":m.tagList.push(w?[b,w]:[b]);break;case"PLAYLIST-TYPE":u.type=b.toUpperCase();break;case"MEDIA-SEQUENCE":l=u.startSN=parseInt(b);break;case"TARGETDURATION":u.targetduration=parseFloat(b);break;case"VERSION":u.version=parseInt(b);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":f++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(b);break;case"KEY":var S=new s(b),x=S.enumeratedString("METHOD"),T=S.URI;S=S.hexadecimalInteger("IV");x&&(d=new g,T)&&0<=["AES-128","SAMPLE-AES"].indexOf(x)&&(d.method=x,d.baseuri=t,d.reluri=T,d.key=null,d.iv=S);break;case"START":x=new s(b).decimalFloatingPoint("TIME-OFFSET"),isNaN(x)||(u.startTimeOffset=x);break;case"MAP":T=new s(b),m.relurl=T.URI,m.rawByteRange=T.BYTERANGE,m.baseurl=t,m.level=r,m.type=n,m.sn="initSegment",u.initSegment=m,m=new i;break;case"PART-INF":S=new s(b),u.partTarget=S.decimalFloatingPoint("PART-TARGET");break;default:console.log("line parsed but not handled: "+o)}}}return(m=_)&&!m.relurl&&(u.fragments.pop(),c-=m.duration),u.totalduration=c,u.averagetargetduration=c/u.fragments.length,u.endSN=l-1,u},e),n.ERROR_REGION_BLOCK=f,t.exports=n},{"../constants":29,"../io":41,"../playerutil":46,"./attrlist":38,"./urltoolkit":40}],40:[function(e,t,r){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=s.parseURL(e);if(i)return i.path=s.normalizePath(i.path),s.buildURLFromParts(i);throw new Error("Error trying to parse base URL.")}if(i=s.parseURL(t),!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return r.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):t;if(t=s.parseURL(e),!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(e=n.exec(t.path),t.netLoc=e[1],t.path=e[2]),t.netLoc&&!t.path&&(t.path="/");var o;e={scheme:t.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};return i.netLoc||(e.netLoc=t.netLoc,"/"!==i.path[0]&&(i.path?(o=(o=t.path).substring(0,o.lastIndexOf("/")+1)+i.path,e.path=s.normalizePath(o)):(e.path=t.path,i.params||(e.params=t.params,i.query)||(e.query=t.query)))),null===e.path&&(e.path=r.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(e)},parseURL:function(e){return e=i.exec(e),e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};t.exports=s},{}],41:[function(e,t,r){var i=e("./url");t.exports.get=function(e,r,i,n,o,a){t.exports.ajax.call(this,"GET",e,{},r,i,n,o,void 0,a)},t.exports.post=function(e,r,i,n,o,a){t.exports.ajax("POST",e,r,i,n,o,a,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"})},t.exports.postWithHeader=function(e,r,i,n,o){t.exports.ajax("POST",e,r,n,o,!0,!1,i)},t.exports.ajax=function(e,t,r,n,o,a,s,l,c){var u,d,p;o=o||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}),d=new XMLHttpRequest,c&&(d.timeout=c),c=i.parseUrl(t),p=window.location,c.protocol+c.host===p.protocol+p.host||!window.XDomainRequest||"withCredentials"in d?(u="file:"==c.protocol||"file:"==p.protocol,d.onreadystatechange=function(){4===d.readyState&&(200===d.status||u&&0===d.status?n(d.responseText):o(d.responseText,d.status,d))}):((d=new window.XDomainRequest).onload=function(){n(d.responseText)},d.onerror=o,d.onprogress=function(){},d.ontimeout=o);try{if(void 0===a&&(a=!0),d.open(e,t,a),s&&(d.withCredentials=!0),l)for(var h in l)l.hasOwnProperty(h)&&d.setRequestHeader(h,l[h])}catch(e){return void o(e)}try{d.send(r)}catch(e){o(e)}},t.exports.jsonp=function(e,t,r){var i="jsonp_callback_"+Math.round(1e5*Math.random()),n=document.createElement("script");e&&(n.src=e+(0<=e.indexOf("?")?"&":"?")+"callback="+i+"&cb="+i,n.onerror=function(){delete window[i],document.body.removeChild(n),r()},n.onload=function(){setTimeout((function(){window[i]&&(delete window[i],document.body.removeChild(n))}),0)},window[i]=function(e){delete window[i],document.body.removeChild(n),t(e)},document.body.appendChild(n))},t.exports.loadJS=function(e,t,r){var i=document.getElementsByTagName("HEAD").item(0),n=document.createElement("script");n.setAttribute("crossorigin","anonymous"),e&&e.toLowerCase().indexOf("https://")<0&&e.toLowerCase().indexOf("http://")<0&&(e=document.URL.replace(/(\/[^\/]*?)$/i,"")+e),n.type="text/javascript",n.src=e,n.onload=function(){t&&t()},n.onerror=function(){r&&r()},i.appendChild(n)}},{"./url":50}],42:[function(e,t,r){var i=e("./dom");t.exports.render=function(e,t){var r=t.align||(t.className?"":"tl"),n=t.x||0,o=(t=t.y||0,n.indexOf&&0<n.indexOf("%")?"":"px"),a=t.indexOf&&0<t.indexOf("%")?"":"px";"tl"===r?i.css(e,{float:"left","margin-left":n+o,"margin-top":t+a}):"tr"===r?i.css(e,{float:"right","margin-right":n+o,"margin-top":t+a}):"tlabs"===r?i.css(e,{position:"absolute",left:n+o,top:t+a}):"trabs"===r?i.css(e,{position:"absolute",right:n+o,top:t+a}):"blabs"===r?i.css(e,{position:"absolute",left:n+o,bottom:t+a}):"brabs"===r?i.css(e,{position:"absolute",right:n+o,bottom:t+a}):"cc"===r&&i.addClass(e,"loading-center")}},{"./dom":33}],43:[function(e,t,r){var i=Object.prototype.hasOwnProperty;t.exports.create=Object.create||function(e){function t(){}return t.prototype=e,new t},t.exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(arg)},t.exports.isEmpty=function(e){for(var t in e)if(null!==e[t])return!1;return!0},t.exports.each=function(e,r,n){if(t.exports.isArray(e))for(var o=0,a=e.length;o<a&&!1!==r.call(n||this,e[o],o);++o);else for(var s in e)if(i.call(e,s)&&!1===r.call(n||this,s,e[s]))break;return e},t.exports.merge=function(e,t){if(t)for(var r in t)i.call(t,r)&&(e[r]=t[r]);return e},t.exports.deepMerge=function(e,r){var n,o,a;for(n in e=t.exports.copy(e),r)i.call(r,n)&&(o=e[n],a=r[n],t.exports.isPlain(o)&&t.exports.isPlain(a)?e[n]=t.exports.deepMerge(o,a):e[n]=r[n]);return e},t.exports.copy=function(e){return t.exports.merge({},e)},t.exports.isPlain=function(e){return!!e&&"object"==_typeof(e)&&"[object Object]"===e.toString()&&e.constructor===Object},t.exports.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.exports.unescape=function(e){return e.replace(/&([^;]+);/g,(function(e,t){return{amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x60":"`"}[t.toLowerCase()]||e}))}},{}],44:[function(e,t,r){var i,n=e("./object");(i=function(){}).extend=function(e){var t,r,o=(e=e||{}).init||this.prototype.init||function(){};for(r in(((t=function(){o.apply(this,arguments)}).prototype=n.create(this.prototype)).constructor=t).extend=i.extend,t.create=i.create,e)e.hasOwnProperty(r)&&(t.prototype[r]=e[r]);return t},i.create=function(){var e=n.create(this.prototype);return this.apply(e,arguments),e},t.exports=i},{"./object":43}],45:[function(e,t,r){var i=!new Function("try {return this===window;}catch(e){ return false;}")();t.exports.isSSR=i},{}],46:[function(e,t,r){var i=e("./object"),n=e("../config"),o=e("./dom"),a=e("./cookie"),s=e("./constants"),l=e("../lang/index"),c=e("./ua"),u=e("./io"),d=e("../player/base/plugin/defaultemptycomponent"),p=e("./hardware-decoding-detector"),h={preload:!0,autoplay:!0,autoplayPolicy:{fallbackToMute:!1,showUnmuteBtn:!0},useNativeControls:!1,width:"100%",height:"300px",cover:"",from:"",trackLog:!0,logBatched:!0,logReportTo:void 0,heartHeatInterval:30,isLive:!1,playsinline:!0,showBarTime:5e3,rePlay:!1,mute:!1,liveRetry:5,liveRetryInterval:1,liveRetryStep:0,disableVodHalfRetry:!1,disableLiveHalfRetry:!1,keyShortCuts:!1,keyFastForwardStep:10,isVBR:!1,vodRetry:3,format:"",definition:"",defaultDefinition:"",loadDataTimeout:20,waitingTimeout:60,waitingBufferedTime:3,delayLoadingShow:1,controlBarForOver:!1,controlBarVisibility:"hover",enableSystemMenu:!1,qualitySort:"asc",x5_video_position:"normal",x5_type:"",x5_fullscreen:!1,x5_orientation:"landscape|portrait",x5LandscapeAsFullScreen:!0,license:{},autoPlayDelay:0,autoPlayDelayDisplayText:"",useHlsPluginForSafari:!1,enableMSEForAndroid:!0,encryptType:0,language:"zh-cn",languageTexts:{},extLanguageTexts:{},mediaType:"video",outputType:"",playConfig:{},reAuthInfo:{},components:[],liveTimeShiftUrl:"",liveShiftSource:"",liveShiftTime:"",liveShiftMinOffset:30,videoHeight:"100%",videoWidth:"100%",enableWorker:!0,authTimeout:"",enableMockFullscreen:!1,region:"cn-shanghai",debug:!1,progressMarkers:[],ratio:void 0,snapshotWatermark:{left:"500",top:"100",text:"",font:"16px 宋体",fillColor:"#FFFFFF",strokeColor:"#FFFFFF"},liveStartTime:"",liveOverTime:"",enableStashBufferForFlv:!1,flvOption:{},hlsOption:{stopLoadAsPaused:!1},drmOption:{},hlsLoadingTimeOut:2e4,useHlsPlugOnMobile:!0,useFlvPlugOnMobile:!0,lowLatencyMode:!1,useHls2:!0,useDrm2:void 0,skipRtsSupportCheck:!1,rtsLoadDataTimeout:6e3,rtsOption:{},rtsFallback:!1,rtsFallbackSource:void 0,rtsFallbackType:void 0,rtsVersion:"",rtsSdkUrl:"",nudgeMaxRetry:5,tracks:[],recreatePlayer:function(){},diagnosisButtonVisible:!0,enableH265:!1,forceH265:!1,enableH266:!1,forceH266:!1,h265Threads:!0,h265Simd:!0,preventRecord:!1,traceId:"",mediaAuth:void 0,textTracks:void 0,_native:!0,hlsUriToken:"",thumbnailUrl:"",refreshAccessInfo:function(){},drmSessionTimeout:5e3,skinRes:"//"+n.domain+"/de/prismplayer-flash/"+n.flashVersion+"/atlas/defaultSkin",splayerUrl:null,splayerWasmDomain:null,logo:[],disablePip:!1,assetPrefix:null,clickPause:c.IS_PC,clickPauseDelay:200,statisticsReportInterval:5e3,skinLayoutIgnore:[],disableSeek:!1,dashjsUrl:null,dashOption:{},disableDumpBuffer:!1,useSW:!1,swScriptURL:void 0,env:"",autoSize:"",watchStartTime:void 0,watchEndTime:void 0,start:void 0,end:void 0,dbClickFullscreen:c.IS_PC,dbClickFullscreenDelay:200,enableHlsH265:!1,bitrateDisplayHandler:void 0,longPressFastForward:!c.IS_PC,dbClickSkip:!c.IS_PC},f=(t.exports.getDefaultH5Layout=function(){return[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"unmuteButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:50},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]}]},t.exports.getDefaultAudioLayout=function(){return[{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"volume",align:"tr",x:5,y:10}]}]},t.exports.getDefaultFlashLayout=function(){return[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"nextButton",align:"tl",x:10,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"streamButton",align:"tr",x:10,y:23},{name:"volume",align:"tr",x:10,y:25}]},{name:"fullControlBar",align:"tlabs",x:0,y:0,children:[{name:"fullTitle",align:"tl",x:25,y:6},{name:"fullNormalScreenButton",align:"tr",x:24,y:13},{name:"fullTimeDisplay",align:"tr",x:10,y:12},{name:"fullZoom",align:"cc"}]}]},t.exports.canPlayType=function(e){var t=document.createElement("video");return t.canPlayType?t.canPlayType(e):""},t.exports.canPlayHls=function(){return""!=t.exports.canPlayType("application/x-mpegURL")},t.exports.isUsedHlsPluginOnMobile=function(e){return!!(c.IS_MOBILE&&(c.IS_CHROME||c.IS_FIREFOX||c.IS_X5||c.IS_EDGE_NEW)&&t.exports.isSupportHls())},t.exports.isSafariUsedHlsPlugin=function(e){return!!(c.os.pc&&c.browser.safari&&e)},t.exports.validateSource=function(e){return!0},t.exports.supportH5Video=function(){return void 0!==document.createElement("video").canPlayType},t.exports.createWrapper=function(e){var r=e.id;r="string"==typeof r?(0===r.indexOf("#")&&(r=r.slice(1)),o.el(r)):r;if(r&&r.nodeName)return t.exports.adjustContainerLayout(r,e),r;throw new TypeError("没有为播放器指定容器")},t.exports.adjustContainerLayout=function(e,t){t.width&&!e.style.width&&(e.style.width=t.width),t.height&&!e.style.height&&(e.style.height=t.height)},t.exports.isSupportHls=function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer;e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),c.IS_ANDROID&&c.is_X5&&(e=!0),t=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return e&&t},t.exports.isSupportMMS=function(){return!!window.ManagedMediaSource},t.exports.isSupportFlv=function(){return t.exports.isSupportHls()},t.exports.isSupportMSE=function(){return t.exports.isSupportHls()||t.exports.isSupportMMS()},t.exports.isSupportedMediaSource=function(){return!!window.MediaSource&&!!MediaSource.isTypeSupported},t.exports.isSupportedDrm=function(){return!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)&&t.exports.isSupportMSE()},t.exports.isAudio=function(e,r){if(r)return t.exports.isMp3Format(r);r=!1;try{r=e&&"mp3"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".mp3")}return r},t.exports.isLiveShift=function(e){return e.isLive&&e.liveStartTime&&e.liveOverTime},t.exports.isHls=function(e,r){if(r)return t.exports.isHlsFormat(r);r=!1;try{r=e&&"m3u8"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".m3u8")}return r},t.exports.isDash=function(e,r){if(r)return t.exports.isDashFormat(r);r=!1;try{r=e&&"mpd"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".mpd")}return r},t.exports.isFlv=function(e,r){if(r)return t.exports.isFlvFormat(r);r=!1;try{r=e&&"flv"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".flv")}return r},t.exports.isRTMP=function(e){return e&&-1<e.toLowerCase().indexOf("rtmp:")},t.exports.isRts=function(e){return e&&-1<e.toLowerCase().indexOf("artc:")},t.exports.isMp4=function(e,r){if(r)return t.exports.isMp4Format(r);r=!1;try{r=e&&"mp4"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&-1<e.toLowerCase().indexOf(".mp4")}return r},t.exports.isSupportedFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mp3","mp4","mpd","hls","m3u8","flv"].indexOf(t)}catch(e){return!1}},t.exports.isMp3Format=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mp3"].indexOf(t)}catch(e){return!1}},t.exports.isMp4Format=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mp4"].indexOf(t)}catch(e){return!1}},t.exports.isFlvFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["flv"].indexOf(t)}catch(e){return!1}},t.exports.isHlsFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["hls","m3u8"].indexOf(t)}catch(e){return!1}},t.exports.isDashFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mpd"].indexOf(t)}catch(e){return!1}},t.exports.getFormat=function(e){var t={artc:"rts",m3u8:"hls"};e=null==(e=/\.(mp4)|\.(mp3)|\.(m3u8)|\.(flv)|(artc):/.exec(e))?void 0:e[0];return e&&e.replace(/\.|:|artc|m3u8/gi,(function(e){return t[e]||""}))},t.exports.checkSecuritSupport=function(){return t.exports.isSupportMSE()?c.IS_IOS&&(c.IS_UC||c.IS_QUARK||c.IS_BAIDU)?l.get("iOSVodEncriptionBlacklist"):"":"serviceWorker"in navigator?void 0:"http:"===location.protocol?l.get("Error_SW_Https_required"):l.get("UseChromeForVodEncription")+"(SW not found)"},t.exports.nativeSupportH265=function(){return c.IS_IOS||c.IS_MAC_SAFARI},t.exports.findSelectedStreamLevel=function(e,t){var r=t;if(r||(r=a.get(s.SelectedStreamLevel))){for(var i=0;i<e.length;i++)if(e[i].definition==r)return i}else a.set(s.SelectedStreamLevel,e[0].definition,365);return 0},t.exports.getHistoryDetectResult=function(e,t){if(e)return t="hls"===t,"hvc1"===e?t?a.get(s.HWDetectHvc1Hls):a.get(s.HWDetectHvc1):"hev1"===e?t?a.get(s.HWDetectHev1Hls):a.get(s.HWDetectHev1):void 0},t.exports.setHistoryDetectResult=function(e,t,r){var i="unknownCodec";t="hls"===t;"hvc1"===e?i=t?s.HWDetectHvc1Hls:s.HWDetectHvc1:"hev1"===e&&(i=t?s.HWDetectHev1Hls:s.HWDetectHev1),a.set(i,r)},t.exports.handleOption=function(e,r){t.exports.isRts(e.source)&&(e.isLive=!0);var n,o=i.merge(i.copy(h),e),a=(e.autoplayPolicy&&(o.autoplayPolicy=i.merge(h.autoplayPolicy,e.autoplayPolicy)),[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]),s=!1;if(e.useFlashPrism||t.exports.isRTMP(e.source)?(s=!0,a=[{name:"liveIco",align:"tlabs",x:15,y:25},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"volume",align:"tr",x:10,y:25}]):(n=t.exports.isLiveShift(o))?(a.push({name:"liveShiftProgress",align:"tlabs",x:0,y:0}),a.push({name:"playButton",align:"tl",x:15,y:12}),a.push({name:"liveDisplay",align:"tl",x:15,y:6})):a.push({name:"liveDisplay",align:"tlabs",x:15,y:6}),e.isLive)if(void 0===e.skinLayout)o.skinLayout=[{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"unmuteButton",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"H5Loading",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:t.exports.isRts(e.source)?[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"volume",align:"tr",x:5,y:10},{name:"liveDisplay",align:"tlabs",x:15,y:6}]:a}];else if(0!=e.skinLayout){for(var l=e.skinLayout.length,c=[],u=-1,p=0;p<l;p++)if("controlBar"==o.skinLayout[p].name){u=p;for(var f=o.skinLayout[p].children.length,g=0;g<f;g++){var _,m=o.skinLayout[p].children[g].name;"liveDisplay"!=m&&"liveIco"!=m&&"fullScreenButton"!=m&&"volume"!=m&&"snapshot"!=m&&"setting"!=m&&"subtitle"!=m&&(!n||"progress"!=m&&"playButton"!=m&&"timeDisplay"!=m)||(_=o.skinLayout[p].children[g],"progress"==m?_.name="liveShiftProgress":"timeDisplay"==m?_.name="liveShiftTimeDisplay":s&&"liveDisplay"==m&&(_.name="liveIco"),c.push(_))}break}-1!=u&&(o.skinLayout[u].children=c)}return(void 0===e.components||!e.components||i.isArray(e.components)&&0==e.components.length)&&"false"!=e.components&&(o.components=[d]),o},t.exports.ignoreSkinLayouts=function(e,t){var r;if(null!=t&&t.length&&null!=e&&e.length)return r=e,t.forEach((function(e){var t,i,n;-1<e.indexOf(".")?(n=e.split("."),t=n[0],i=n[1],(n=r.find((function(e){return e.name===t})))&&(n.children=n.children.filter((function(e){return e.name!==i})))):r=r.filter((function(t){return t.name!==e}))})),r},t.exports.getLiveHostByRegion=function(e){return e&&-1<["ap-southeast-1","eu-central-1"].indexOf(e)?"live."+e+".aliyuncs.com":"live.aliyuncs.com"},t.exports.isVideoTag=function(e){return e&&"string"==typeof e.nodeName&&"video"===e.nodeName.toLowerCase()},t.exports.unqiueTextTracks=function(e){var t=[],r=(t=(e=void 0===e?[]:e).reduce((function(e,t){var r;return e.some((function(e){return e.srclang===t.srclang}))?e:((r=t).label=t.label||t.srclang,[].concat(e,[r]))}),[]),{});return t.forEach((function(e,t){r[e.label]?r[e.label].push(t):r[e.label]=[t]})),Object.keys(r).forEach((function(e){e=r[e]||[],1<e.length&&e.forEach((function(e){t[e].label=t[e].label+"("+t[e].srclang+")"}))})),t},t.exports.isHvc1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hvc1")},t.exports.isHev1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hev1")},t.exports.isVvccCodec=function(e){return-1<(e=void 0===e?"":e).indexOf("vvcC")},t.exports.isVvc1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("vvc1")},t.exports.isVvi1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("vvi1")},t.exports.isH265Codec=function(e){return t.exports.isHvc1Codec(e=void 0===e?"":e)||t.exports.isHev1Codec(e)},t.exports.isH266Codec=function(e){return t.exports.isVvccCodec(e=void 0===e?"":e)||t.exports.isVvc1Codec(e)||t.exports.isVvi1Codec(e)},t.exports.isH264Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("avc1")},t.exports.getVideoTrack=function(e){var t;return(e=void 0===e?[]:e).forEach((function(e){1===Number(e.type)&&(t=e)})),t},c.IS_ANDROID&&(c.dingTalk()||c.IS_UC||c.is_X5||c.IS_HUAWEI||c.IS_XIAOMI||c.IS_OPPO||c.IS_VIVO||c.IS_MEIZU||c.IS_SAMSUNG||c.IS_WEBVIEW)||c.os&&"windows"===c.os.name&&c.IS_UC);t.exports.shouldUseBasePlayer=function(e,r){var i,n,o,a=e.codecTag,s=(e=e.url,"unsupported");return!a||(o=t.exports.isHvc1Codec(a),i=t.exports.isMp4(e),e=t.exports.isHls(e),i&&t.exports.nativeSupportH265()&&o)||i&&function(){if(f||!c.IS_CHROME&&!c.IS_EDGE_NEW)return!1;var t=0;try{t=c.USER_AGENT.match(/Chrome\/(\d+)/i)[1]}catch(e){t=0}return!(parseInt(t)<104||!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4;codecs="hvc1.1.6.L120.90"'))}()?r(!0):f?"supported"===(o=t.exports.getHistoryDetectResult(a,n=e?"hls":"mp4"))?r(!0):o===s?r(!1):void p({codecTags:[a],format:n,timeout:2e3}).then((function(e){if(e=e.isHev1Supported||e.isHvc1Supported,t.exports.setHistoryDetectResult(a,n,e?"supported":s),e)return r(!0);r(!1)})).catch((function(e){console.log("hevcDetector ERROR",e),r(!1)})):r(!1)},t.exports.parseHttpHeaders=function(e){if(e){var t={};try{e instanceof Response?e.headers.forEach((function(e,r){t[r]=e})):e.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(e){e=e.split(": ");var r=e.shift();e=e.join(": ");t[r]=e}))}catch(e){}return t}},t.exports.detectRegionBlock=function(e,r){u.get(e,(function(){r(!1)}),(function(e,i,n){n=t.exports.parseHttpHeaders(n)["x-tengine-error"],403===i&&n&&-1<s.RegionBlockMessages.indexOf(n)?r(!0):r(!1)}))},t.exports.enableDbClickSkip=function(e){return e.dbClickSkip&&!e.dbClickFullscreen},t.exports.drawSnapshotText=function(e,t){t=t.snapshotWatermark,t&&t.text&&(e.font=t.font,t.fillColor&&(e.fillStyle=t.fillColor,e.fillText(t.text,t.left,t.top)),t.strokeColor&&(e.strokeStyle=t.strokeColor,e.strokeText(t.text,t.left,t.top)),e.stroke())},t.exports.hasValue=function(e){return null!=e&&""!==e}},{"../config":15,"../lang/index":24,"../player/base/plugin/defaultemptycomponent":92,"./constants":29,"./cookie":30,"./dom":33,"./hardware-decoding-detector":37,"./io":41,"./object":43,"./ua":49}],47:[function(e,t,r){var i=e("./object"),n=e("../player/adaptiveplayer"),o=e("./constants").USER_EVENT_NAME;t.exports.reloadInstance=function(e,r,i){var a=i,s=(a.dispose(),e.readyCallback),l=e._readyCallbackCalled;e=n.create(e,(function(e){r(e),l||s(e)}));t.exports.restoreUserEvents(i,e),t.exports.removeAllProps(a),(a.__proto__=e)[o]=a[o]},t.exports.storeUserEvents=function(e){var t=e,r=t.__proto__.on,i={};t.on=function(e,n){"function"==typeof n&&(i[e]?i[e].push(n):i[e]=[n],this._el)&&(n.binded=!0,r.call(t,e,n))},t[o]=i},t.exports.restoreUserEvents=function(e,t){var r=e[o];r&&i.each(r,(function(e){r[e].forEach((function(r){t.on(e,r)}))}))},t.exports.removeAllProps=function(e,t){for(var r in t=[].concat(t=t||[],[o]),e)e.hasOwnProperty(r)&&-1===t.indexOf(r)&&delete e[r]}},{"../player/adaptiveplayer":65,"./constants":29,"./object":43}],48:[function(e,t,r){t.exports.set=function(t,r){try{window.localStorage&&localStorage.setItem(t,r)}catch(e){window[t+"_localStorage"]=r}},t.exports.get=function(t){try{if(window.localStorage)return localStorage.getItem(t)}catch(e){return window[t+"_localStorage"]}return""}},{}],49:[function(e,t,r){var i,n,o;if(t.exports.USER_AGENT=navigator.userAgent,t.exports.IS_IPHONE=/iPhone/i.test(t.exports.USER_AGENT),t.exports.IS_IPAD=/iPad/i.test(t.exports.USER_AGENT),t.exports.IS_IPOD=/iPod/i.test(t.exports.USER_AGENT),t.exports.IS_MAC=/mac/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE=/Edge/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE_NEW=/Edg/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE,t.exports.IS_IE11=/Trident\/7.0/i.test(t.exports.USER_AGENT),t.exports.IS_X5=/qqbrowser/i.test(t.exports.USER_AGENT.toLowerCase()),t.exports.IS_CHROME=/Chrome/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE&&!t.exports.IS_EDGE_NEW&&!t.exports.IS_X5,t.exports.IS_SAFARI=/Safari/i.test(t.exports.USER_AGENT)&&!t.exports.IS_CHROME&&!t.exports.IS_EDGE_NEW,t.exports.IS_FIREFOX=/Firefox/i.test(t.exports.USER_AGENT),t.exports.IS_UC=/ucweb|UCBrowser|UBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_QUARK=/Quark/i.test(t.exports.USER_AGENT),t.exports.IS_HUAWEI=/HuaweiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_XIAOMI=/MiuiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_OPPO=/HeyTapBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_VIVO=/VivoBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_MEIZU=/MZBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_SAMSUNG=/samsungbrowser/i.test(t.exports.USER_AGENT),t.exports.IS_BAIDU=/baiduboxapp/i.test(t.exports.USER_AGENT),document.all)try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");t.exports.HAS_FLASH=!!a}catch(e){t.exports.HAS_FLASH=!1}else navigator.plugins&&0<navigator.plugins.length?(a=navigator.plugins["Shockwave Flash"],t.exports.HAS_FLASH=!!a):t.exports.HAS_FLASH=!1;t.exports.IS_MAC_SAFARI=t.exports.IS_MAC&&t.exports.IS_SAFARI&&!t.exports.IS_CHROME&&!t.exports.HAS_FLASH,t.exports.IS_IOS=t.exports.IS_IPHONE||t.exports.IS_IPAD||t.exports.IS_IPOD,t.exports.IOS_VERSION=function(){var e=t.exports.USER_AGENT.match(/OS (\d+)_/i);if(e&&e[1])return e[1]}(),t.exports.IOS_FULL_VERSION=function(){var e=t.exports.USER_AGENT.match(/OS (\d+)_(\d+)_?/i);if(e&&e[1]&&e[2])return e[1]+"."+e[2]}(),t.exports.IS_HARMONY=/OpenHarmony/i.test(t.exports.USER_AGENT),t.exports.IS_ANDROID=/Android/i.test(t.exports.USER_AGENT)||t.exports.IS_HARMONY,t.exports.ANDROID_VERSION=(a=t.exports.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(n=a[1]&&parseFloat(a[1]),i=a[2]&&parseFloat(a[2]),n&&i?parseFloat(a[1]+"."+a[2]):n||null):null,t.exports.IS_OLD_ANDROID=t.exports.IS_ANDROID&&/webkit/i.test(t.exports.USER_AGENT)&&t.exports.ANDROID_VERSION<2.3,t.exports.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),t.exports.IS_MOBILE=t.exports.IS_IOS||t.exports.IS_ANDROID,t.exports.IS_H5=t.exports.IS_MOBILE||!t.exports.HAS_FLASH,t.exports.IS_PC=!t.exports.IS_MOBILE,t.exports.is_X5=/micromessenger/i.test(t.exports.USER_AGENT)||/qqbrowser/i.test(t.exports.USER_AGENT),t.exports.IS_ANDROID_FIREFOX=t.exports.IS_ANDROID&&t.exports.IS_FIREFOX,t.exports.CHROME_VERSION=t.exports.IS_CHROME&&t.exports.USER_AGENT.match(/Chrome\/(\d+)/i)[1],t.exports.getHost=function(e){var t,r,i="";return void 0===e||null==e||""==e?"":(t=e.indexOf("//"),r=e,i=r=-1<t?e.substring(t+2):r,(e=(i=(e=r.split("/"))&&0<e.length?e[0]:i).split(":"))&&0<e.length?e[0]:i)},t.exports.dingTalk=function(){var e=t.exports.USER_AGENT.toLowerCase();return/dingtalk/i.test(e)},t.exports.IS_DINGTALK=t.exports.dingTalk(),t.exports.wechat=function(){var e=t.exports.USER_AGENT.toLowerCase();return/micromessenger/i.test(e)},t.exports.inIFrame=function(){return self!=top},t.exports.getReferer=function(){var r=document.referrer;if(t.exports.inIFrame())try{r=top.document.referrer}catch(e){r=document.referrer}return r},t.exports.getHref=function(){if(location.href,t.exports.inIFrame())try{top.location.href}catch(e){location.href}return location.href},t.exports.check360=function(){return-1!=navigator.userAgent.indexOf("Safari")?function(){var e=navigator.userAgent.split(" ");if(-1!=e[e.length-1].indexOf("Safari"))for(var t in navigator.plugins)if("np-mswmp.dll"==navigator.plugins[t].filename)return!0;return!1}():(null==navigator.msPointerEnabled||navigator.msPointerEnabled)&&(1==navigator.msDoNotTrack||1==window.doNotTrack)&&(!!Number(window.screenX)&&window.screenLeft-window.screenX!=8||(-1!=navigator.userAgent.indexOf("MSIE 7.0")||-1!=navigator.userAgent.indexOf("MSIE 8.0"))&&null==console.count)},function(e,r){var i=this.os={},n=this.browser={},o=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!e.match(/\(Macintosh\; Intel /),l=e.match(/(iPad).*OS\s([\d_]+)/),c=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!l&&e.match(/(iPhone\sOS)\s([\d_]+)/),d=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),p=(r=/Win\d{2}|Windows/.test(r),e.match(/Windows Phone ([\d.]+)/)),h=d&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),g=e.match(/Silk\/([\d._]+)/),_=e.match(/(BlackBerry).*Version\/([\d.]+)/),m=e.match(/(BB10).*Version\/([\d.]+)/),y=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),v=e.match(/PlayBook/),b=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),w=e.match(/Firefox\/([\d.]+)/),S=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),x=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!b&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),k=T||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(n.webkit=!!o)&&(n.version=o[1]),a&&(i.android=!0,i.version=a[2]),u&&!c&&(i.ios=i.iphone=!0,i.version=u[2].replace(/_/g,".")),l&&(i.ios=i.ipad=!0,i.version=l[2].replace(/_/g,".")),c&&(i.ios=i.ipod=!0,i.version=c[3]?c[3].replace(/_/g,"."):null),p&&(i.wp=!0,i.version=p[1]),d&&(i.webos=!0,i.version=d[2]),h&&(i.touchpad=!0),_&&(i.blackberry=!0,i.version=_[2]),m&&(i.bb10=!0,i.version=m[2]),y&&(i.rimtabletos=!0,i.version=y[2]),v&&(n.playbook=!0),f&&(i.kindle=!0,i.version=f[1]),g&&(n.silk=!0,n.version=g[1]),!g&&i.android&&e.match(/Kindle Fire/)&&(n.silk=!0),b&&(n.chrome=!0,n.version=b[1]),w&&(n.firefox=!0,n.version=w[1]),S&&(i.firefoxos=!0,i.version=S[1]),x&&(n.ie=!0,n.version=x[1]),k&&(s||i.ios||r||a)&&(n.safari=!0,i.ios||i.android||(n.version=k[1])),i.ios&&(n.version=i.version),T&&(n.webview=!0),s&&((o=e.match(/[\d]*_[\d]*_[\d]*/))&&0<o.length&&o[0]&&(i.version=o[0].replace(/_/g,".")),/MQBHD/.test(e))&&(n.version=((e.match(/.*OS\s([\d_]+)/)||[])[1]||"").replace(/_/g,".")),i.tablet=!!(l||v||a&&!e.match(/Mobile/)||w&&e.match(/Tablet/)||x&&!e.match(/Phone/)&&e.match(/Touch/)),i.phone=!(i.tablet||i.ipod||!(a||u||d||_||m||b&&e.match(/Android/)||b&&e.match(/CriOS\/([\d.]+)/)||w&&e.match(/Mobile/)||x&&e.match(/Touch/))),i.pc=!i.tablet&&!i.phone,s?i.name="macOS":r?(i.name="windows",i.version=function(){var e=navigator.userAgent,t="";return(-1<e.indexOf("Windows NT 5.0")||-1<e.indexOf("Windows 2000"))&&(t="2000"),(-1<e.indexOf("Windows NT 5.1")||-1<e.indexOf("Windows XP"))&&(t="XP"),(-1<e.indexOf("Windows NT 5.2")||-1<e.indexOf("Windows 2003"))&&(t="2003"),(-1<e.indexOf("Windows NT 6.0")||-1<e.indexOf("Windows Vista"))&&(t="Vista"),(-1<e.indexOf("Windows NT 6.1")||-1<e.indexOf("Windows 7"))&&(t="7"),(-1<e.indexOf("Windows NT 6.2")||-1<e.indexOf("Windows 8"))&&(t="8"),(-1<e.indexOf("Windows NT 6.3")||-1<e.indexOf("Windows 8.1"))&&(t="8.1"),-1<e.indexOf("Windows NT 10")||-1<e.indexOf("Windows 10")?"10":t}()):i.name=function(){var e=navigator.userAgent,r="other",i=t.exports.os;return i.ios?"iOS":i.android?"android":-1<e.indexOf("Baiduspider")?"Baiduspider":-1<e.indexOf("PlayStation")?"PS4":(i="Win32"==navigator.platform||"Windows"==navigator.platform||-1<e.indexOf("Windows"),(e="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform)&&(r="macOS"),"X11"!=navigator.platform||i||e||(r="Unix"),-1<String(navigator.platform).indexOf("Linux")&&(r="Linux"),i?"windows":r)}(),n.name=(c=navigator.userAgent.toLowerCase(),(p=t.exports.browser).firefox?"Firefox":p.ie?/edge/.test(c)?"Edge":"IE":t.exports.IS_EDGE_NEW?"EdgeChromium":/micromessenger/.test(c)?"微信内置浏览器":/qqbrowser/.test(c)?"QQ浏览器":t.exports.IS_UC?"UC":t.exports.IS_QUARK?"Quark":t.exports.IS_DINGTALK?"Dingtalk":t.exports.IS_HUAWEI?"HuaweiBrowser":t.exports.IS_XIAOMI?"MiBrowser":t.exports.IS_OPPO?"OppoBrowser":t.exports.IS_VIVO?"VivoBrowser":t.exports.IS_MEIZU?"MeizuBrowser":t.exports.IS_SAMSUNG?"SamsungBrowser":t.exports.IS_WEBVIEW||/MQBHD/.test(c)?"webview":p.chrome?"Chrome":p.safari?"Safari":/baiduspider/.test(c)?"Baiduspider":/opera/.test(c)?"Opera":/360se/.test(c)?"360浏览器":/bidubrowser/.test(c)?"百度浏览器":/metasr/.test(c)?"搜狗浏览器":/lbbrowser/.test(c)?"猎豹浏览器":/playstation/.test(c)?"PS4浏览器":void 0)}.call(t.exports,navigator.userAgent,navigator.platform),t.exports.IS_WEBVIEW=(i=t.exports.USER_AGENT,n=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(Version).*(wv|.0.0.0)","Linux; U; Android"].join("|")+")","ig"),o=new RegExp("("+["VivoBrowser","MZBrowser","MiuiBrowser"].join("|")+")","ig"),!!i.match(n)&&!i.match(o))},{}],50:[function(e,t,r){var i=e("./dom");t.exports.getAbsoluteURL=function(e){return e.match(/^https?:\/\//)?e:i.createEl("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href},t.exports.parseUrl=function(e){var t,r=["protocol","hostname","port","pathname","search","hash","host"],n=i.createEl("a",{href:e}),o=""===n.host&&"file:"!==n.protocol;o&&((t=i.createEl("div")).innerHTML='<a href="'+e+'"></a>',n=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(t));for(var a={},s=0;s<r.length;s++)a[r[s]]=n[r[s]];return a.segments=n.pathname.replace(/^\//,"").split("/"),o&&document.body.removeChild(t),a}},{"./dom":33}],51:[function(e,t,r){var i=e("./dom"),n=e("./ua"),o=e("./playerutil");t.exports.formatTime=function(e){e=Math.max(0,e||0);e=Math.floor(e);var t,r=Math.floor(e/3600);return e%=3600,t=Math.floor(e/60),e%=60,!(r===1/0||isNaN(r)||t===1/0||isNaN(t)||e==1/0||isNaN(e))&&("00"===(r=10<=r?r:"0"+r)?"":r+":")+(10<=t?t:"0"+t)+":"+(10<=e?e:"0"+e)},t.exports.extractTime=function(e){var t;return e?("00"===(t=10<=(t=parseInt(e.getHours()))?t:"0"+t)?"":t+":")+(t=10<=(t=parseInt(e.getMinutes()))?t:"0"+t)+":"+(t=10<=(t=parseInt(e.getSeconds()))?t:"0"+t):""},t.exports.convertToTimestamp=function(e,t){var r="";return e&&(t?r=e.gettime():(r=Date.parse(e),r/=1e3)),r},t.exports.convertToDate=function(e,t){var r="";return e&&(r=new Date).setTime(1e3*e),r},t.exports.parseTime=function(e){var t,r,i;return e?(i=r=t=0,3===(e=e.split(":")).length?(t=e[0],r=e[1],i=e[2]):2===e.length?(r=e[0],i=e[1]):1===e.length&&(i=e[0]),3600*(t=parseInt(t,10))+60*(r=parseInt(r,10))+(i=Math.ceil(parseFloat(i)))):"00:00:00"},t.exports.formatDate=function(e,t){var r,i={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[r]:("00"+i[r]).substr((""+i[r]).length)));return t},t.exports.sleep=function(e){for(var t=Date.now();Date.now()-t<=e;);},t.exports.htmlEncodeAll=function(e){return null==e?"":e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},t.exports.toBinary=function(e){if(!window.atob)return"";for(var t=atob(e),r=t.length,i=new Uint8Array(r),n=0;n<r;n++)i[n]=t.charCodeAt(n);return i},t.exports.readyBinary=function(e){for(var t=new Uint8Array(e),r=t.length,i="",n=0;n<r;n++)i+=t[n];return i},t.exports.delayHide=function(e,t){e&&(void 0===t&&(t=1e3),e.delayHanlder&&clearTimeout(e.delayHanlder),e.delayHanlder=setTimeout((function(){i.css(e,"display","none")}),t))},t.exports.openInFile=function(){return-1!=window.location.protocol.toLowerCase().indexOf("file")},t.exports.contentProtocolMixed=function(e,t,r){return!!((n.os.pc&&(o.isHls(e,r)&&!n.browser.safari||o.isFlv(e,r))||t)&&"https:"==window.location.protocol.toLowerCase()&&e&&-1<e.toLowerCase().indexOf("http://"))},t.exports.queryString=function(e){var t,r,i;return 2===(e=(e=decodeURIComponent(e)).split("?")).length&&(t=e[1].split("&"))?(r={},i=0,$(t).each((function(){var e=t[i].split("=");2===e.length&&(r[e[0]]=e[1].replace(/\+/g," ")),i++})),r):{}},t.exports.log=function(e){var r=window.location.href;r=t.exports.queryString(r);r&&1==r.debug&&console.log(e)},t.exports.arrayBufferToB64=function(e){for(var t="",r=new Uint8Array(e),i=r.byteLength,n=0;n<i;n++)t+=String.fromCharCode(r[n]);return window.btoa(t)},t.exports.b64ToArrayBuffer=function(e){for(var t=atob(e),r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer},t.exports.throttle=function(e,t){var r=null,i=0;return function(){for(var n=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=Date.now(),c=t-(l-i);c<=0?(e.apply(this,a),i=l):(clearTimeout(r),r=setTimeout((function(){e.apply(n,a),i=Date.now()}),c))}}},{"./dom":33,"./playerutil":46,"./ua":49}],52:[function(e,t,r){function i(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()}var n=e("./vttparse");t.exports={parse:function(e,t,r){e=e.trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n");var o,a=[],s=new n;s.oncue=function(e){e.id=i(e.startTime)+i(e.endTime)+i(e.text),e.text=decodeURIComponent(escape(e.text)),e.isBig=!1;var t=e.text.split("#xywh=");2==t.length&&(t=t[1].split(","),e.x=t[0],e.y=t[1],e.w=t[2],e.h=t[3],e.isBig=!0),0<e.endTime&&a.push(e)},s.onparsingerror=function(e){o=e},s.onflush=function(){o&&r?(r(o),console.log(o)):t(a)},e.forEach((function(e){s.parse(e+"\n")})),s.flush()}}},{"./vttparse":54}],53:[function(e,t,r){function i(e){return"string"==typeof e&&!!s[e.toLowerCase()]&&e.toLowerCase()}function n(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)e[r]=i[r]}return e}function o(e,t,r){var o=this,s=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={},c=(s?o=document.createElement("custom"):l.enumerable=!0,o.hasBeenReset=!1,""),u=!1,d=e,p=t,h=r,f=null,g="",_=!0,m="auto",y="start",v=50,b="middle",w=50,S="middle";if(Object.defineProperty(o,"id",n({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(o,"pauseOnExit",n({},l,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",n({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",n({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",n({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",n({},l,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",n({},l,{get:function(){return g},set:function(e){if(e="string"==typeof(e=e)&&!!a[e.toLowerCase()]&&e.toLowerCase(),!1===e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",n({},l,{get:function(){return _},set:function(e){_=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",n({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",n({},l,{get:function(){return y},set:function(e){if(e=i(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",n({},l,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",n({},l,{get:function(){return b},set:function(e){if(e=i(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",n({},l,{get:function(){return w},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",n({},l,{get:function(){return S},set:function(e){if(e=i(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");S=e,this.hasBeenReset=!0}})),o.displayState=void 0,s)return o}var a,s;t.exports="undefined"!=typeof window&&window.VTTCue?window.VTTCue:(a={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0},o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o)},{}],54:[function(e,t,r){function i(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}}var n=e("./vttcue");function o(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[]}function a(){this.values=Object.create(null)}function s(e,t,r,i){var n,o,a=i?e.split(i):[e];for(n in a)"string"==typeof a[n]&&2===(o=a[n].split(r)).length&&t(o[0],o[1])}a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var l=new n(0,0,0),c="middle"===l.align?"middle":"center";function u(e,t,r){var i,n,o=e;function u(){var t,r=(r=(r=e).match(/^(\d+):(\d{2})(:\d{2})?(\.\d{3})?/))?(t=(t=r[4])&&t.replace(".",""),r[3]?i(r[1],r[2],r[3].replace(":",""),t):59<r[1]?i(r[1],r[2],0,t):i(0,r[1],r[2],t)):null;function i(e,t,r,i){return 3600*(0|e)+60*(0|t)+(0|r)+(0|i)/1e3}if(null===r)throw new Error("Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function d(){e=e.replace(/^\s+/,"")}if(d(),t.startTime=u(),d(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);e=e.substr(3),d(),t.endTime=u(),d(),i=e,t=t,n=new a,s(i,(function(e,t){switch(e){case"region":for(var i=r.length-1;0<=i;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",c,"end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",c,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",c,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),"auto"===(i=n.get("line","auto"))&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",c),"auto"===(i=n.get("position","auto"))&&50===l.position&&(i="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=i}o.prototype={parse:function(e){var t=this;function r(){for(var e=0,r=(r=t.buffer).replace(/<br(?: \/)?>/gi,"\n");e<r.length&&"\r"!==r[e]&&"\n"!==r[e];)++e;var i=r.substr(0,e);return"\r"===r[e]&&++e,"\n"===r[e]&&++e,t.buffer=r.substr(e),i}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i,o=(i=r()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=r(),t.state){case"HEADER":/:/.test(i)?s(i,(function(e,t){"Region"===e&&console.log("parse region",t)}),/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new n(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{u(i,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.exports=o},{"./vttcue":53}],55:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){return"symbol"==_typeof(e=function(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return String(e);if("object"!=_typeof(r=r.call(e,t)))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"))?e:e+""}(i.key),i)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var a=e("./vtt-parser"),s=e("./vtt-renderer"),l=e("./vtt-loader"),c=e("../../player/base/event/eventtype"),u=e("../../lib/ua"),d=e("../../lib/event"),p=e("../../ui/component/util"),h=s.CTR_BAR_HEIGHT,f=(e=function(){function e(e){this.parser=null,this.activeRenderer=null,this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.tickTimer=null,this.prevPosition=null,this._enabled=!1,this._isShow=!1,this.sleeper=new f,this.player=(e=e||{}).player,this.loader=new l,this.parser=new a,this.createRendererInstance(),this.bindEvents()}var t=e.prototype;return t.bindEvents=function(){function e(e){e.paramData.splayer&&r.switchRenderer(s.VttBasicRenderer.RENDER_TYPE_CUSTOM)}var t,r=this,n=this,o=this.player,a=(o.on(c.Private.TextTrackFounded,(function(e){if("user"===e.paramData.from)r.hasUserTracks=!0;else if(r.hasUserTracks)return;e=e.paramData.textTracks,e&&e.length&&(r.enabled=!0,r.trackConfigs=e.map((function(e){return i({},e,{label:e.label||e.srclang,language:e.srclang})})),r.trackConfigs.forEach((function(e){r.activeRenderer.addTrack(e),"always"===o.getOptions().controlBarVisibility&&r.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-"+h+"px)"},r.parser.cues)})))})),o.on(c.Private.UserTrackReset,(function(){r.hasUserTracks=!1})),o.on(c.Player.H265PlayInfo,e),o.on(c.Player.H266PlayInfo,e),u.IS_IOS?(t=!1,o.on(c.Player.RequestFullScreen,(function(){t=!0})),d.on(o.tag,"webkitendfullscreen",(function(){t=!1})),d.on(o.tag.textTracks,"change",(function(){var e;r.sleeper.isSleep||(r.sleeper.sleep(1e3),r.isCustomRenderer)||t&&(e=o.tag.textTracks,(e=Array.from(e).find((function(e){return"showing"===e.mode})))?r.activeTrackConfig&&r.activeTrackConfig.language===e.language||(r.switchTrack(e.language),o.trigger(c.Private.SelectorValueChange,{type:"cc",text:e.label})):o.trigger(c.Private.CCStateChanged,{value:"off",lang:""}))}))):(o.on(c.Player.RequestFullScreen,this.adjustLayout.bind(this)),o.on(c.Player.CancelFullScreen,this.adjustLayout.bind(this)),a=p.debounce((function(){n.isCustomRenderer&&n.activeRenderer.resetCuesStyle(r.parser.cues)}),100),d.on(window,"resize",a)),p.throttle((function(){n.isShow&&(n.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-"+h+"px)"},n.parser.cues),n.isCustomRenderer)&&n.player.paused()&&(n.activeRenderer.hide(),n.activeRenderer.restore())}),100));o.on(c.Private.ShowBar,a),a=p.throttle((function(){n.isShow&&(n.activeRenderer.forceUpdateCuesStyle({transform:"none"},n.parser.cues),n.isCustomRenderer)&&n.player.paused()&&(n.activeRenderer.hide(),n.activeRenderer.restore())}),100);o.on(c.Private.HideBar,a),o.on(c.Private.VttHide,(function(){r.hide()})),o.on(c.Private.VttSwitchTrack,(function(e){r.switchTrack(e.paramData)})),o.on(c.Private.VttClearTracks,(function(){r.reset()}))},t.createRendererInstance=function(e){this.activeRenderer&&this.activeRenderer.dispose();var t=this.player.getOptions(),r={player:this.player};this.adaptPlatform(),e?e===s.VttBasicRenderer.RENDER_TYPE_NATIVE?this.activeRenderer=new s.NativeRenderer(r):(r.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(r)):t.useNativeTextRenderer?this.activeRenderer=new s.NativeRenderer(r):(r.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(r))},t.switchTrack=function(e){var t,r=this;this.trackConfigs&&this.trackConfigs.length&&(this.activeTrackConfig&&(this.parser.dispose(),this.parser=new a,this.activeRenderer.clearTrack(this.activeTrackConfig.language),this.activeRenderer.hide()),this.activeTrackConfig=e,t=this.trackConfigs.find((function(t){return t.language===e})))&&(t=t._loaded?"":(t||{}).src,this.loadVtt(t,(function(){r.parseVtt(),r.activeRenderer.addCues(r.parser.cues,r.activeTrackConfig.language),r.show()})))},t.adaptPlatform=function(){var e=this.player.getOptions();u.IS_IOS&&(e.useNativeTextRenderer=!0)},t.loadVtt=function(e,t){var r=this;e?this.loader.loadFromUrl(e,(function(e){r.activeTrackConfig._loaded=!0,r.vttText[r.activeTrackConfig.language]=e,t&&t()})):t&&t()},t.show=function(){this._isShow=!0,this.isCustomRenderer&&this.startTickTimeListener(),this.activeRenderer.show(this.activeTrackConfig.language);var e=this.player.el().getElementsByClassName("prism-controlbar")[0];e&&"block"===(null==(e=e.style)?void 0:e.display)&&this.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-"+h+"px)"},this.parser.cues)},t.hide=function(){this._isShow=!1,this.clearTicker(),this.activeRenderer.hide()},t.switchRenderer=function(e){var t=this,r=s.VttBasicRenderer.RENDER_TYPE_NATIVE,i=s.VttBasicRenderer.RENDER_TYPE_CUSTOM;(e===r&&this.activeRenderer.type!==r||e===i&&this.activeRenderer.type!==i)&&(this.createRendererInstance(e),this.trackConfigs.forEach((function(e){return t.activeRenderer.addTrack(e)})),this.activeRenderer.addCues(this.parser.cues,this.activeTrackConfig.language),this.show())},t.parseVtt=function(){this.parser.parse(this.vttText[this.activeTrackConfig.language])},t.adjustLayout=function(){var e=this;this.isShow&&this.isCustomRenderer&&(this.activeRenderer.hide(),setTimeout((function(){e.activeRenderer.restore()}),300))},t.startTickTimeListener=function(){var e=this;this.clearTicker(),this.tick((function(){var t=e.player.getCurrentTime();isNaN(t)||e.activeRenderer.renderCues(e.findTargetCues(t))}))},t.tick=function(e){var t=this;this.tickTimer=requestAnimationFrame((function(){try{e()}catch(e){console.log("e",e)}t.tick(e)}))},t.clearTicker=function(){this.tickTimer&&(cancelAnimationFrame(this.tickTimer),this.tickTimer=null)},t.getOverlayId=function(){var e=(this.player.el().getElementsByClassName("prism-text-overlay")||[])[0];if(e)return e.id},t.findTargetCues=function(e){if(this.parser&&e!==this.prevPosition){this.prevPosition=e;for(var t=[],r=0;r<this.parser.cues.length;r++){var i=this.parser.cues[r];if(e>=i.startTime&&e<=i.endTime)t.push(i);else if(e<i.startTime)break}return t}},t.reset=function(){this.clearTicker(),this.parser&&this.parser.reset(),this.activeRenderer&&this.activeRenderer.reset()},t.dispose=function(){this.clearTicker(),this.parser&&(this.parser.dispose(),this.parser=null),this.activeRenderer&&(this.activeRenderer.dispose(),this.activeRenderer=null),this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.prevPosition=null,this._enabled=!1,this._isShow=!1},o(e,[{key:"isShow",get:function(){return this._isShow}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"isCustomRenderer",get:function(){if(this.activeRenderer)return this.activeRenderer.type===s.VttBasicRenderer.RENDER_TYPE_CUSTOM}},{key:"activeTrackConfig",get:function(){var e;return null==(e=this.trackConfigs)?void 0:e.find((function(e){return e._isActive}))},set:function(e){this.trackConfigs.forEach((function(t){return t._isActive=t.language===e}))}}])}(),function(){function e(){this.value=!1,this.timer=null}return e.prototype.sleep=function(e){var t=this;this.timer&&clearTimeout(this.timer),this.value=!0,this.timer=setTimeout((function(){t.value=!1}),e)},o(e,[{key:"isSleep",get:function(){return this.value}}])}());t.exports=e},{"../../lib/event":34,"../../lib/ua":49,"../../player/base/event/eventtype":68,"../../ui/component/util":162,"./vtt-loader":57,"./vtt-parser":58,"./vtt-renderer":59}],56:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e.prototype.constructor=e,t)}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){return"symbol"==_typeof(e=function(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return String(e);if("object"!=_typeof(r=r.call(e,t)))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"))?e:e+""}(i.key),i)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=e("../../lib/data"),l={DISABLED:"disabled",SHOWING:"showing",HIDDEN:"hidden"},c={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",METADATA:"metadata",CHAPTERS:"chapters"},u=(e=function(e){function t(t){t=i({},t=void 0===t?{}:t,{kind:t.kind||c.SUBTITLES,language:t.language||t.srclang||""});var r=t.mode||l.DISABLED;return-1<[c.METADATA,c.CHAPTERS].indexOf(t.kind)&&(r=l.HIDDEN),t.mode=r,(r=e.call(this,t)||this)._cues=[],r._activeCues=[],r._settings={},r._nativeTrack=null,r._extData={},r._settings=t,r}n(t,e);var r=t.prototype;return r.setExtData=function(e){this._extData=i({},this._extData,e=void 0===e?{}:e)},r.addCue=function(e){this._cues.push(e),this.nativeTrack&&this.nativeTrack.addCue(e)},r.removeCue=function(e){this._cues=this._cues.filter((function(t){return t!==e})),this.nativeTrack&&this.nativeTrack.removeCue(e)},a(t,[{key:"default",get:function(){return this._settings.default}},{key:"mode",get:function(){return this._settings.mode},set:function(e){this._settings.mode=e,this.nativeTrack&&(this.nativeTrack.mode=e)}},{key:"language",get:function(){return this._settings.language},set:function(e){this._settings.language=e,this.nativeTrack&&(this.nativeTrack.language=e)}},{key:"cues",get:function(){return this._cues}},{key:"activeCues",get:function(){return this._activeCues}},{key:"nativeTrack",get:function(){return this._nativeTrack},set:function(e){this._nativeTrack=e}}])}(function(){return a((function(e){this._id=(e=void 0===e?{}:e).id||"prism-track-"+s.guid(),this._kind=e.kind||"",this._language=e.language||"",this._label=e.label||""}),[{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"id",get:function(){return this._id}},{key:"kind",get:function(){return this._kind}},{key:"language",get:function(){return this._language}}])}()),function(e){function t(){return e.call(this)||this}return n(t,e),t}(function(){function e(){this._trackList=[]}return e.prototype.addTrack=function(e){var t=this.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this._trackList[t]}}),-1===this._trackList.indexOf(e)&&this._trackList.push(e)},a(e,[{key:"length",get:function(){return this._trackList.length}},{key:"list",get:function(){return this._trackList}}])}()));t.exports.TextTrack=e,t.exports.TextTrackList=u,t.exports.TRACK_MODE=l,t.exports.TRACK_KIND=c},{"../../lib/data":31}],57:[function(e,t,r){var i=e("../io");t.exports=function(){function e(){}return e.prototype.loadFromUrl=function(e,t){i.get(e,(function(e){t(e)}),(function(e,t){console.log("ERR",e,t)}))},e}()},{"../io":41}],58:[function(e,t,r){function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){return"symbol"==_typeof(e=function(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return String(e);if("object"!=_typeof(r=r.call(e,t)))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"))?e:e+""}(i.key),i)}}var n=e("./vttjs").WebVTT;e=function(){function e(){var e=this;this._cues=[],this._regions=[],this.parser=new n.Parser(window,n.StringDecoder()),this.parser.onregion=function(t){e._regions.push(t)},this.parser.oncue=function(t){e._cues.push(t)},this.parser.onflush=function(){},this.parser.onparsingerror=function(e){}}var t,r=e.prototype;return r.parse=function(e){this.parser.parse(e),this.parser.flush()},r.reset=function(){this.parser.flush(),this._cues=[],this._regions=[]},r.dispose=function(){this.parser.flush(),this.parser=null,this._cues=[],this._regions=[]},r=e,(t=[{key:"cues",get:function(){return this._cues}}])&&i(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();t.exports=e},{"./vttjs":60}],59:[function(e,t,r){function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){return"symbol"==_typeof(e=function(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return String(e);if("object"!=_typeof(r=r.call(e,t)))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"))?e:e+""}(i.key),i)}}function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e.prototype.constructor=e,t)}e("../../player/base/event/eventtype");var a=e("./text-track"),s=e("./vttjs").WebVTT,l=e("../../lib/dom"),c=a.TextTrack,u=a.TextTrackList,d=a.TRACK_MODE,p=(a.TRACK_KIND,function(){function e(e){this.player=null,this.type=null,this.trackList=null,this.overrideStyle={},this.player=(e=e||{}).player,this.defineTextTrackGetter(),this.trackList=new u}var t=e.prototype;return t.log=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=console).log.apply(e,["[LOG:"+this.type+"]"].concat(r))},t.defineTextTrackGetter=function(){var e=this;this.player.getTextTracks=function(){return e.trackList||[]}},t.show=function(e){e=this.findTrackByLanguage(e),e&&(e.mode=d.SHOWING)},t.findTrackByLanguage=function(e){return this.trackList.list.find((function(t){return t.language===e}))},t.clearCurrentCues=function(e){if(e){var t=e.mode;if(t===d.DISABLED&&(e.mode=d.HIDDEN),e.cues)for(var r=e.cues.length;r--;)e.removeCue(e.cues[r]);t===d.DISABLED&&(e.mode=t)}},t.addTrack=function(){},t.addCues=function(){},t.restore=function(){},t.renderCues=function(){},t.updateCuesStyle=function(){},t.clearTrack=function(e){this.clearCurrentCues(this.findTrackByLanguage(e))},t.clearAllTracks=function(){var e=this;this.trackList&&this.trackList.length&&this.trackList.list.forEach((function(t){t.mode=d.DISABLED,e.clearCurrentCues(t)})),this.trackList=new u},t.reset=function(){this.hide(),this.clearAllTracks()},t.dispose=function(){this.hide(),this.clearAllTracks(),this.player&&this.player.getTextTracks&&(this.player.getTextTracks=null),this.player=null,this.type=null},e}());p.RENDER_TYPE_CUSTOM="CUSTOM",p.RENDER_TYPE_NATIVE="NATIVE",e=function(e){function t(t){var r=e.call(this,t)||this;return r.overlayId=null,r.currentCues=null,t=t||{},r.type=p.RENDER_TYPE_CUSTOM,r.overlayId=t.overlayId,r}o(t,e);var r=t.prototype;return r.addTrack=function(e){var t=new c({kind:e.kind,label:e.label,language:e.language,default:e.default});t.mode=e.default?d.SHOWING:d.DISABLED,this.trackList.addTrack(t)},r.hide=function(){return s.processCues(window,[],document.getElementById(this.overlayId))},r.restore=function(){this.currentCues&&(this.currentCues.forEach((function(e){return e.displayState=null})),s.processCues(window,this.currentCues,this.overlayEl),this.updateCuesStyle(this.currentCues))},r.renderCues=function(e){e&&(this.currentCues=e,this.overlayEl||(this.overlayEl=document.getElementById(this.overlayId)),s.processCues(window,e,this.overlayEl),this.updateCuesStyle(e))},r.updateCuesStyle=function(e){var t=this;e.forEach((function(e){var r,i=e.displayState;i._styleSetDone||i&&(i.setAttribute("class","prism-cue"),t.overlayEl||(t.overlayEl=document.getElementById(t.overlayId)),e=t.overlayEl.offsetWidth,r=t.overlayEl.offsetHeight,(e=Math.min(e,r))&&(i.style.fontSize=.05*e+"px",i.style.height="auto",i.style.top="auto"),44<function(e,t){return e=e.getBoundingClientRect(),t.getBoundingClientRect().bottom-e.bottom}(i,t.overlayEl)&&(t.overrideStyle.transform="none"),Object.keys(t.overrideStyle).forEach((function(e){t.tryUpdateStyle(i,e,t.overrideStyle[e])})),i._styleSetDone=!0)}))},r.updateOverrideStyle=function(e){this.overrideStyle=n({},this.overrideStyle,e=void 0===e?{}:e)},r.forceUpdateCuesStyle=function(e,t){void 0===t&&(t=[]),this.updateOverrideStyle(e=void 0===e?{}:e),this.resetCuesStyle(t)},r.tryUpdateStyle=function(e,t,r){try{e.style[t]=r}catch(e){}},r.resetCuesStyle=function(e){e&&e.length&&e.forEach((function(e){e.displayState&&(e.displayState=null)}))},r.dispose=function(){e.prototype.dispose.call(this),this.overlayId=null,this.currentCues=null},t}(p),a=function(e){function t(t){return(t=e.call(this,t=void 0===t?{}:t)||this).type=p.RENDER_TYPE_NATIVE,t}o(t,e);var r,n=t.prototype;return n.addTrack=function(e){var t=this.player.tag,r=Array.from(t.textTracks)||[],i=r.find((function(t){return t.language===e.language}));r=i?(this.log("sameLangTrack",i,r),this.clearCurrentCues(i),i.kind=e.kind,i.label=e.label,i):t.addTextTrack(e.kind,e.label,e.language),r.mode=e.default?d.SHOWING:d.DISABLED,i=new c(e);i.nativeTrack=r,this.trackList.addTrack(i)},n.addCues=function(e,t){var r;e&&e.length&&(r=this.trackList.list.find((function(e){return e.language===t})))&&e.forEach((function(e){r.addCue(e)}))},n.hide=function(){this.trackList.list.forEach((function(e){e.mode=e.mode===d.SHOWING?d.HIDDEN:e.mode}))},n.invalidAllTracks=function(){},n.forceUpdateCuesStyle=function(e,t){l.addCssByStyle("video::-webkit-media-text-track-container{transform: "+e.transform+";}")},n.dispose=function(){e.prototype.dispose.call(this)},n=t,(r=[{key:"activeTrack",get:function(){return this.trackList.list.find((function(e){return e.mode===d.SHOWING}))}}])&&i(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(p);t.exports.VttBasicRenderer=p,t.exports.CustomRenderer=e,t.exports.NativeRenderer=a,t.exports.CTR_BAR_HEIGHT=44},{"../../lib/dom":33,"../../player/base/event/eventtype":68,"./text-track":56,"./vttjs":60}],60:[function(e,t,r){t.exports={WebVTT:e("./vtt.js").WebVTT}},{"./vtt.js":61}],61:[function(e,t,r){function i(e,t){return void 0===t&&(t=1),"rgba("+[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),t].join(",")+")"}var n,o=1;function a(e,t,r){switch(r){case"webvtt.font.color":case"webvtt.font.opacity":var a=Services.prefs.getCharPref("webvtt.font.color"),s=Services.prefs.getIntPref("webvtt.font.opacity")/100;n.fontSet=i(a,s);break;case"webvtt.font.scale":o=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":a=Services.prefs.getCharPref("webvtt.bg.color"),s=Services.prefs.getIntPref("webvtt.bg.opacity")/100,n.backgroundSet=i(a,s);break;case"webvtt.edge.color":case"webvtt.edge.type":a=Services.prefs.getIntPref("webvtt.edge.type"),s=Services.prefs.getCharPref("webvtt.edge.color"),n.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][a]+i(s)}}"undefined"!=typeof Services&&(n={},["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach((function(e){a(0,0,e),Services.prefs.addObserver(e,a,!1)})));var s=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return l.prototype=e,new l};function l(){}function c(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function u(e){function t(e,t,r,i){return 3600*(0|e)+60*(0|t)+(0|r)+(0|i)/1e3}return e=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/),e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function d(){this.values=s(null)}function p(e,t,r,i){var n,o,a=i?e.split(i):[e];for(n in a)"string"==typeof a[n]&&2===(o=a[n].split(r)).length&&t(o[0],o[1])}((c.prototype=s(Error.prototype)).constructor=c).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var h={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},f={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},g={v:"title",lang:"lang"},_={rt:"ruby"};function m(e,t){function r(e){return h[e]}for(var i,n,o,a,s,l,c,d=e.document.createElement("div"),p=d,m=[];null!==(c=void 0,c=t?(c=(c=t.match(/^([^<]*)(<[^>]*>?)?/))[1]||c[2],t=t.substr(c.length),c):null);)"<"===c[0]?"/"===c[1]?m.length&&m[m.length-1]===c.substr(2).replace(">","")&&(m.pop(),p=p.parentNode):(o=u(c.substr(1,c.length-2)))?(i=e.document.createProcessingInstruction("timestamp",o),p.appendChild(i)):(n=c.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(o=n[1],a=n[3],l=s=void 0,l=f[o],i=l?((s=e.document.createElement(l)).localName=l,(l=g[o])&&a&&(s[l]=a.trim()),s):null)&&(o=p,_[(l=i).localName]&&_[l.localName]!==o.localName||(n[2]&&(i.className=n[2].substr(1).replace("."," ")),m.push(n[1]),p.appendChild(i),p=i)):p.appendChild(e.document.createTextNode(function(e){for(;n=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(n[0],r);return e}(c)));return d}var y=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(){}function b(e,t,r){var i="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)",s="",l=(o=(void 0!==n&&(o=n.fontSet,a=n.backgroundSet,s=n.edgeSet),i&&(o="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),v.call(this),this.cue=t,this.cueDiv=m(e,t.text),{color:o,backgroundColor:a,textShadow:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"}),i||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},i||(o.direction=function(e){var t=[],r="";if(e&&e.childNodes)for(n(t,e);r=function e(t){var r,i,o;return t&&t.length?(i=(r=t.pop()).textContent||r.innerText)?(o=i.match(/^.*(\n|\r)/))?o[t.length=0]:i:"ruby"===r.tagName?e(t):r.childNodes?(n(t,r),e(t)):void 0:null}(t);)for(var i=0;i<r.length;i++)if(function(e){for(var t=0;t<y.length;t++){var r=y[t];if(e>=r[0]&&e<=r[1])return 1}}(r.charCodeAt(i)))return"rtl";return"ltr";function n(e,t){for(var r=t.childNodes.length-1;0<=r;r--)e.push(t.childNodes[r])}}(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv),0);switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,r,i,n,o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);e.div&&(t=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop,n=(n=(n=e.div.childNodes)&&n[0])&&n.getClientRects&&n.getClientRects(),e=e.div.getBoundingClientRect(),n=n?Math.max(n[0]&&n[0].height||0,e.height/n.length):0),this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||t,this.bottom=e.bottom||i+(e.height||t),this.width=e.width||r,this.lineHeight=void 0!==n?n:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function S(e,t,r,i){var n,o=new w(t),a=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,i=0,n=0;n<r.length&&r[n]!==t;n++)"showing"===r[n].mode&&i++;return-1*++i}(a),l=[];if(a.snapToLines){switch(a.vertical){case"":l=["+y","-y"],n="height";break;case"rl":l=["+x","-x"],n="width";break;case"lr":l=["-x","+x"],n="width"}var c=o.lineHeight,u=c*Math.round(s),d=r[n]+c,p=l[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),s<0&&(u+=""===a.vertical?r.height:r.width,l=l.reverse()),o.move(p,u)}else{var h=o.lineHeight/r.height*100;switch(a.lineAlign){case"middle":s-=h/2;break;case"end":s-=h}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}l=["+y","-x","+x","-y"],o=new w(t)}d=function(e,t){for(var n,o=new w(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(r))return e;var l=e.intersectPercentage(r);l<a&&(n=new w(e),a=l),e=new w(o)}return n||o}(o,l),t.move(d.toCSSCompatValues(r))}function x(){}v.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},v.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(b.prototype=s(v.prototype)).constructor=b,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||r}},x.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},x.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null},x.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",r.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1}(t))for(var n,a,s=[],l=w.getSimpleBoxPosition(i),c={font:Math.round(.05*l.height*100)/100*o+"px sans-serif"},u=0;u<t.length;u++)n=new b(e,a=t[u],c),i.appendChild(n.div),S(0,n,l,s),a.displayState=n.div,s.push(w.getSimpleBoxPosition(n));else for(var d=0;d<t.length;d++)i.appendChild(t[d].displayState)},(x.Parser=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof c))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function r(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var i=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),i}function i(e){p(e,(function(e,r){var i;"Region"===e&&(e=r,i=new d,p(e,(function(e,t){switch(e){case"id":i.set(e,t);break;case"width":i.percent(e,t);break;case"lines":i.integer(e,t);break;case"regionanchor":case"viewportanchor":var r,n=t.split(",");2===n.length&&((r=new d).percent("x",n[0]),r.percent("y",n[1]),r.has("x")&&r.has("y"))&&(i.set(e+"X",r.get("x")),i.set(e+"Y",r.get("y")));break;case"scroll":i.alt(e,t,["up"])}}),/=/,/\s/),i.has("id"))&&((e=new t.window.VTTRegion).width=i.get("width",100),e.lines=i.get("lines",3),e.regionAnchorX=i.get("regionanchorX",0),e.regionAnchorY=i.get("regionanchorY",100),e.viewportAnchorX=i.get("viewportanchorX",0),e.viewportAnchorY=i.get("viewportanchorY",100),e.scroll=i.get("scroll",""),t.onregion&&t.onregion(e),t.regionList.push({id:i.get("id"),region:e}))}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var n,o=(n=r()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new c(c.Errors.BadSignature);t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:n=r(),t.state){case"HEADER":/:/.test(n)?i(n):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new t.window.VTTCue(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":try{(function(e,t,r){var i=e;function n(){var t=u(e);if(null===t)throw new c(c.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=n(),o(),"--\x3e"!==e.substr(0,3))throw new c(c.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),o(),t.endTime=n(),o();var a=e,s=new d;p(a,(function(e,t){switch(e){case"region":for(var i=r.length-1;0<=i;i--)if(r[i].id===t){s.set(e,r[i].region);break}break;case"vertical":s.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),o=n[0];s.integer(e,o),s.percent(e,o)&&s.set("snapToLines",!1),s.alt(e,o,["auto"]),2===n.length&&s.alt("lineAlign",n[1],["start","middle","end"]);break;case"position":n=t.split(","),s.percent(e,n[0]),2===n.length&&s.alt("positionAlign",n[1],["start","middle","end"]);break;case"size":s.percent(e,t);break;case"align":s.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=s.get("region",null),t.vertical=s.get("vertical","");try{t.line=s.get("line","auto")}catch(n){}t.lineAlign=s.get("lineAlign","start"),t.snapToLines=s.get("snapToLines",!0),t.size=s.get("size",100);try{t.align=s.get("align","center")}catch(n){t.align=s.get("align","middle")}try{t.position=s.get("position","auto")}catch(n){t.position=s.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=s.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)})(n,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new c(c.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},this.WebVTT=x},{}],62:[function(e,t,r){var i=e("../lib/io");function n(e){var t;this._uploadDuration=e.logDuration||5,this._uploadCount=e.logCount||10,this._logReportTo=e.logReportTo,this._dumpLogReportTo=e.dumpLogReportTo,this._logs=[],this._retry=0,this._disposed=!1,this._supportLocalStorage=!0;try{localStorage?(t=localStorage.getItem("__aliplayer_log_data"),localStorage.removeItem("__aliplayer_log_data"),t&&(this._logs=JSON.parse(t))):this._supportLocalStorage=!1}catch(e){this._supportLocalStorage=!1}this._start()}e("../lib/storage"),n.prototype.add=function(e){var t=this._logs.length;if(e.__time__=Math.round(new Date/1e3),0<t&&"4001"==e.e){t=this._logs[t-1];if("4001"==t.e&&t.__time__-e.__time__<5)return}this._logs.push(e),(this._logs.length>this._uploadCount||"4001"==e.e||"2002"==e.e||"9002"==e.e&&null!=(t=e.args)&&t.includes("dump::"))&&this._report()},n.prototype.dispose=function(){this._report(),this._disposed=!0},n.prototype._start=function(){this._disposed=!1,this._retry=0,this._report()},n.prototype._report=function(e){var t,r,n;this._tickHandler&&(clearTimeout(this._tickHandler),this._tickHandler=null),0<(e=e||this._logs.splice(0,this._uploadCount)).length?(n={"Content-Type":"application/json;charset=UTF-8","x-log-apiversion":"0.6.0","x-log-bodyrawsize":(t=JSON.stringify({__logs__:e,__source__:""})).length},i.postWithHeader((r=this)._logReportTo,t,n,(function(e){r._tick()}),(function(t){0==r._retry?(r._retry=1,r._report(e)):r._tick()}))):this._tick()},n.prototype.reportDump=function(e){var t;e&&(t={"Content-Type":"application/json;charset=UTF-8","x-log-apiversion":"0.6.0","x-log-bodyrawsize":(e=JSON.stringify({__logs__:[e],__source__:""})).length},i.postWithHeader(this._dumpLogReportTo,e,t,(function(e){}),(function(e){})))},n.prototype._tick=function(){var e;this._disposed||(this._retry=0,(e=this)._logs.length>this._uploadCount?e._report():this._tickHandler=setTimeout((function(){e._report()}),1e3*this._uploadDuration))},t.exports=n},{"../lib/io":41,"../lib/storage":48}],63:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}var n,o=e("../lib/oo"),a=e("../lib/object"),s=e("../lib/data"),l=e("../lib/io"),c=e("../lib/ua"),u=e("../lib/event"),d=e("../config"),p=e("../player/base/event/eventtype"),h=e("./util"),f=e("./log"),g=e("../lib/playerutil"),_=0,m={CREATE:1e3,STARTFETCHDATA:1003,COMPLETEFETCHDATA:1004,PREPARE:1101,PREPAREEND:1102,STARTPLAY:2e3,PLAY:2001,STOP:2002,PAUSE:2003,SEEK:2004,FULLSREEM:2005,QUITFULLSCREEM:2006,RESOLUTION:2007,RESOLUTION_DONE:2008,RECOVER:2010,SEEK_END:2011,PLAYABORT:2012,SEEKED:2014,CANPLAY:2018,FETCHEDIP:2020,CDNDETECT:2021,DETECT:2022,HEVCINFO:2023,UNDERLOAD:3002,LOADED:3001,RETRY:3003,HEARTBEAT:9001,TRACE:9002,DUMP:9003,ERROR:4001,ERRORRETRY:4002,RTSFALLBACK:4003,VOD_REQUEST_FATAL_ERROR:4004,VOD_REQUEST_FATAL_ERROR_RESUME:4005,LICENSE_RESULT:5004,SNAPSHOT:2027,ROTATE:2028,IMAGE:2029,THUMBNAILSTART:2031,THUMBNAILCOMPLETE:2032,CCSTART:2033,CCCOMPLETE:2034,AUDIOTRACKSTART:2033,AUDIOTRACKCOMPLETE:2034};e=o.extend({init:function(e,t,r){this.trackLog=r=void 0===r||r,this.player=e,this.requestId="",this.sessionId=s.guid(),this.playId=0,this.firstPlay=!0,this.osName=c.os.name,this.osVersion=c.os.version||"",this.exName=c.browser.name,this.exVersion=c.browser.version||"",this.lightSaasVideoId="",this._logService="",this._h265ProbeInfo={},this.loadedDataReported=!1,this.startPlayReported=!1,this.canplayReported=!1,this.doPlayReported=!1,this.seekingData={seekingStartTime:0},this.pendingPrepareEndData=null,this.h265RenderTypeTimer=null,this.statisticsHistoryTimer=null,this.timeline=[{name:"init",ts:performance.now()}],this.checkSeekStuckedTimer=null,d.logReportTo=t.logReportTo||d.logReportTo,this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},this.resetHeartBeatStatusData(),this.resetStatisticsHistoryData(),t.logBatched&&(this._logService=new f(d));r=this.player.getOptions(),e=t.from||"",r.isLive,t=r.isLive?"live":"vod";var i="pc",n=(c.IS_IPAD?i="pad":c.os.phone&&(i="phone"),this.encodeURL(c.getReferer())),o=c.getHref(),a=this.encodeURL(o),l="",u=(o=(o&&(l=c.getHost(o)),d.h5Version),h.getUuid()),p=r.source?this.encodeURL(r.source):"",g=c.getHost(r.source),_=r.userId?r.userId+"":"0",m=this.sessionId,y=(new Date).getTime(),v=r.traceId||"";this._userNetInfo={cdnIp:"",localIp:""},this.opt={APIVersion:"0.6.0",t:y,ll:"info",lv:"1.0",pd:"player",md:"saas_player",ui:"saas_player",sm:"play",os:this.osName,ov:this.osVersion,et:this.exName,ev:this.exVersion,uat:c.USER_AGENT,hn:"0.0.0.0",bi:e,ri:m,e:"0",args:"0",li_ki:r.license.key||"",vt:t,tt:i,dm:"h5",av:o,uuid:u,vu:p,vd:g,ua:_,dn:"custom",cdn_ip:"0.0.0.0",app_n:l,r:n,pu:a,ti:v},this.bindEvent()},updateVideoInfo:function(e){e=e.from||"",this.opt.bi=e+"",this.updateSourceInfo()},updateSourceInfo:function(){var e,t=this.player.getOptions();t&&(e=t.source?this.encodeURL(t.source):"",t=c.getHost(t.source),this.opt.vu=e,this.opt.vd=t)},updateTraceId:function(e){this.opt.ti=e},updateLightSaasVideoId:function(e){this.lightSaasVideoId=e},replay:function(){this.reset(),this.player.trigger(p.Video.LoadStart),this.player.trigger(p.Video.LoadedMetadata),this.player.trigger(p.Video.LoadedData),this.startHeartBeat()},bindEvent:function(){var e=this;this.player.on(p.Private.Create,(function(t){e._onCreate(t)})),this.player.on(p.Player.Init,(function(){e._onPlayerInit()})),this.player.on(p.Video.LoadStart,(function(){e._onPlayerloadstart()})),this.player.on(p.Video.LoadedMetadata,(function(){e._onPlayerLoadMetadata()})),this.player.on(p.Video.LoadedData,(function(){e._onPlayerLoaddata()})),this.player.on(p.Player.H265PlayInfo,(function(t){e._onH265PlayInfo(t),e._onPlayerH265PlayInfo(t)})),this.player.on(p.Player.H266PlayInfo,(function(t){e._onH265PlayInfo(t),e._onPlayerH265PlayInfo(t)})),this.player.on(p.Video.Play,(function(){e._onPlayerPlay()})),this.player.on(p.Video.Playing,(function(){e._onPlayerReady()})),this.player.on(p.Video.Ended,(function(){e._onPlayerFinish()})),this.player.on(p.Video.Pause,(function(){e._onPlayerPause()})),this.player.on("seeking",(function(){e._onPlayerSeeking()})),this.player.on("seeked",(function(){e._onPlayerSeeked()})),this.player.on(p.Private.LicenseHasResult,(function(t){e._onLicenseHasResult(t)})),this.player.on(p.Private.SeekStart,(function(t){e._onPlayerSeekStart(t)})),this.player.on(p.Private.EndStart,(function(t){e._seekEndData=t.paramData})),this.player.on(p.Player.Waiting,(function(){e._onPlayerLoaded()})),this.player.on(p.Video.CanPlayThrough,(function(){})),this.player.on(p.Video.CanPlay,(function(){e._waitingDelayLoadingShowHandle&&(clearTimeout(e._waitingDelayLoadingShowHandle),e._waitingDelayLoadingShowHandle=null),e._onPlayerUnderload(),e._onPlayerCanplay()})),this.player.on(p.Video.TimeUpdate,(function(){e._waitingDelayLoadingShowHandle&&(clearTimeout(e._waitingDelayLoadingShowHandle),e._waitingDelayLoadingShowHandle=null),e._seekEndData&&e.player._seeking&&e._onPlayerSeekEnd()})),this.player.on(p.Player.Error,(function(t){e._onPlayerError(t)})),this.player.on(p.Player.RequestFullScreen,(function(){e._onFullscreenChange(1)})),this.player.on(p.Player.CancelFullScreen,(function(){e._onFullscreenChange(0)})),this.player.on(p.Private.PREPARE,(function(t){e._prepareTime=performance.now(),e._log("PREPARE",{dn:t.paramData}),e.timeline.push({name:"prepare",ts:performance.now()})})),this.player.on(p.Private.ManualPlay,(function(){e.loadedDataReported||(e._prepareTime=performance.now(),e.timeline.push({name:"prepare2",ts:performance.now()}))})),this.player.on(p.Player.Snapshoted,(function(){e._log("SNAPSHOT")})),this.player.on(p.Private.Retry,(function(t){t=t.paramData||{},e._log("RETRY",{type:t.type,source:t.source})})),this.player.on(p.Player.RtsFallback,(function(t){var r;t=t.paramData||{};e._log("RTSFALLBACK",{reason:null==(r=t.reason)?void 0:r.error_msg,url:t.fallbackUrl})})),this.player.on(p.Private.VodRequestException,(function(t){t=t.paramData||{},e.reportVodException(t)})),this.player.on(p.Private.VodRequestExceptionResume,(function(t){t=t.paramData||{},e.reportVodExceptionResume(t)})),this.player.on(p.Private.TraceLog,(function(t){t=t.paramData||{},e._reportTrace(t)})),this.player.on(p.Private.DumpBuffer,(function(t){t=t.paramData||{},e._reportDump(t)})),this.player.on(p.Private.StatisticsInfo,(function(t){t=t.paramData||{},e._onStatisticsHistoryUpdate(t)})),this.player.on(p.Private.Timeline,(function(t){t=t.paramData||{},e._onTimeline(t)})),u.on(this.player.tag,p.Video.Playing,(function(){e.reportPlaying()})),u.on(this.player.tag,p.Video.TimeUpdate,(function(){e.reportPlaying()})),this.startHeartBeat.call(this),this.startStatisticsHistory.call(this)},startStatisticsHistory:function(){var e=this;"n.dingtalk.com"===this.opt.app_n&&(this.statisticsHistoryTimer&&clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=setInterval((function(){e.player.trigger(p.Private.TraceLog,"[statistics_history]"+JSON.stringify(e.statisticsHistory)),e.resetStatisticsHistoryData()}),this.player._options.statisticsReportInterval))},reportPlaying:function(){var e;this.doPlayReported||this.player.paused()||0===this.player.readyState()||(this.doPlayReported=!0,this.first_play_time=performance.now(),e={dsm:"fix",tc:this.first_play_time-this.loadstartTime,fc:this.first_play_time-this.playstartTime},this._log("PLAY",e))},removeEvent:function(){this.player.offAll("init"),this.player.offAll("ready"),this.player.offAll("ended"),this.player.offAll("play"),this.player.offAll("pause"),this.player.offAll("seekStart"),this.player.offAll("seekEnd"),this.player.offAll("canplaythrough"),this.player.offAll("playing"),this.player.offAll("timeupdate"),this.player.offAll("error"),this.player.offAll("fullscreenchange"),this.player.offAll("seeking"),this.player.offAll("seeked"),this.player.offAll(p.Private.PREPARE),this.player.offAll(p.Player.RtsFallback),u.off(this.player.tag,p.Video.Playing),u.off(this.player.tag,p.Video.TimeUpdate),this._logService&&this._logService.dispose(),clearInterval(n),clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=null,clearTimeout(this.checkSeekStuckedTimer),this.checkSeekStuckedTimer=null},reset:function(){this.stucking=!1,this.startTimePlay=0,this.pause_flag=0,this.firstPlay=!1,this.playId=0,this._canPlay=0,this.seekingStartTime=0,this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},_=0,this.lightSaasVideoId="",this.resetHeartBeatStatusData(),this.resetStatisticsHistoryData(),n&&(clearInterval(n),n=null)},encodeURL:function(e){var t;return e?(t=this.player.getOptions())&&!t.logBatched?encodeURIComponent(e):e:""},startHeartBeat:function(){var e=this;n&&clearInterval(n),n=setInterval((function(){var t;e.player.getCurrentTime()&&(t=Math.floor(1e3*e.player.getCurrentTime()),e.player.paused()&&(e.prevStats.timestamp=0),++_>=e.player._options.heartHeatInterval)&&e.updateStats.call(e,(function(r){var n=e._imageInfo()||{},o=e.player.tag.playbackRate,a=e.player.getVolume();n={vt:t,interval:1e3*_,imgLength:n.imgLength,playbackRate:o,volume:a,bw:e._getbwEstimator()+"KB"},(n=r?i({},n,{dls:Math.floor(r.downloadSpeedPerSec),dfps:Math.floor(r.decodedFramesPerSec),pkl:Number((r.packageLossRate||0).toFixed(2)),rtt:1e3*r.rtt}):n).player_status=i({},e.heartBeatStatusData),o=e.player;n.time={play_time:parseFloat((o._playingTime/1e3).toFixed(2)),stuck_count:parseFloat(o._stuckCount.toFixed(2)),stuck_time:parseFloat((o._stuckTime/1e3).toFixed(2))},e._log("HEARTBEAT",n),_=0}))}),1e3)},updateStats:function(e){e=e||function(){};var t=this;this.player.getStats().then((function(r){var i,n;r?(i=t.prevStats,r.bytesReceived=r.bytesReceived||0,r.framesDecoded=r.framesDecoded||0,r.packetsLost=r.packetsLost||0,r.packetsReceived=r.packetsReceived||0,n=((t.prevStats=r).timestamp-i.timestamp)/1e3,e({downloadSpeedPerSec:(r.bytesReceived-i.bytesReceived)/n,decodedFramesPerSec:(r.framesDecoded-i.framesDecoded)/n,packageLossRate:(r.packetsLost-i.packetsLost)/(r.packetsLost-i.packetsLost+(r.packetsReceived-i.packetsReceived)),rtt:r.rtt,timeGap:n})):e()})).catch((function(t){console.log("error in monitor getStats: ",t),e()}))},reportStartPlay:function(){this.startPlayReported||(this._log("STARTPLAY",{vt:(new Date).getTime()}),this.startPlayReported=!0)},reportCanplay:function(){this.canplayReported||(this._log("CANPLAY",{vt:(new Date).getTime()}),this.canplayReported=!0)},reportPlayAbort:function(e){this._log("PLAYABORT",{vt:(new Date).getTime(),from:e})},reportVodException:function(e){console.log("VOD_REQUEST_FATAL_ERROR",e),this._log("VOD_REQUEST_FATAL_ERROR",e)},reportVodExceptionResume:function(e){console.log("VOD_REQUEST_FATAL_ERROR_RESUME",e),this._log("VOD_REQUEST_FATAL_ERROR_RESUME",e)},resetStartPlayReportFlag:function(){this.startPlayReported=!1},resetCanplayReportFlag:function(){this.canplayReported=!1},resetLoadedDataReported:function(){this.loadedDataReported=!1,this._prepareTime=performance.now()},resetDoPlayReportFlag:function(){this.doPlayReported=!1},resetSessionId:function(){this.sessionId=s.guid()},resetHeartBeatStatusData:function(){this.heartBeatStatusData={t_last_pause:-1,t_last_resume:-1,t_last_load_start:-1,t_last_load_end:-1},this.player.startPlayTimeMonitor()},resetStatisticsHistoryData:function(){this.statisticsHistory={speed:[],framesDropped:[],downlink:[],type:[],rtt:[]}},resetTimeline:function(){var e=performance.now();this._createTime=e,this.timeline=[{name:"init",ts:e}]},resetVV:function(){this.startPlayReported&&(this.resetStartPlayReportFlag(),this.resetLoadedDataReported(),this.resetDoPlayReportFlag(),this.resetCanplayReportFlag(),this.resetSessionId(),this.resetTimeline())},updateH265ProbeInfo:function(e){this._h265ProbeInfo=e||{}},_onFullscreenChange:function(e){e?this._log("FULLSREEM",{}):this._log("QUITFULLSCREEM",{})},_onTimeline:function(e){var t=["frag_s","frag_f","frag_parsed"].includes(e.name);this.timeline.some((function(r){return t&&r.name===e.name}))||this.timeline.push(e)},_onPlayerloadstart:function(){this.loadstartTime=performance.now(),this.playId=s.guid()},_onPlayerLoadMetadata:function(){this.loadMetaDataCost=performance.now()-this.loadstartTime,this.timeline.push({name:"meta",ts:performance.now()})},_onPlayerLoaddata:function(){var e,t,r,i,n=this;this.timeline.push({name:"loadeddata",ts:performance.now()}),this.loadedDataReported||(i=r=0,this.player.tag&&(r=this.player.tag.videoWidth,i=this.player.tag.videoHeight),e={fc:parseInt(performance.now()-this._createTime),tc:parseInt(performance.now()-this._prepareTime),cc:parseInt(performance.now()-this.loadstartTime),md:parseInt(this.loadMetaDataCost),mi:JSON.stringify({type:"video",definition:r+"*"+i})},this.timeline.forEach((function(t,r){try{var i=r?t.ts-n.timeline[r-1].ts:0;e["tl_"+t.name]=r+"#"+parseInt(i)}catch(t){}})),null!=(r=this.player.tag)&&r.duration&&(e.vdur=1e3*(null==(i=this.player.tag)?void 0:i.duration)),(5<this._h265ProbeInfo.codecCost||5<this._h265ProbeInfo.decoderCost)&&(r=Math.floor(this._h265ProbeInfo.codecCost)||0,i=Math.floor(this._h265ProbeInfo.decoderCost)||0,e.tc+=t=r+i,e.cc+=t,e.pcc=r,e.pdc=i),t=[{type:"audio"}],r={type:"video",codecType:null,isHardwareDecode:null},i=this._h265ProbeInfo.codecTag,g.isH265Codec(i)?r.codecType="h265":g.isH266Codec(i)?r.codecType="h266":g.isH264Codec(i)&&(r.codecType="h264"),t.push(r),e.decode_info=t,this._h265ProbeInfo.waitRenderType?(this.pendingPrepareEndData=e,this.h265RenderTypeTimer=setTimeout((function(){n._log("PREPAREEND",e),n.h265RenderTypeTimer=null}),2e3)):this._log("PREPAREEND",e)),this.loadedDataReported=!0},_onStatisticsHistoryUpdate:function(e){"n.dingtalk.com"===this.opt.app_n&&(this.statisticsHistory.speed.push(parseInt(e.speed)),this.statisticsHistory.framesDropped.push(e.droppedFrames),e=navigator.connection)&&(this.statisticsHistory.downlink.push(e.downlink),this.statisticsHistory.type.push(e.effectiveType),this.statisticsHistory.rtt.push(e.rtt))},_onH265PlayInfo:function(e){var t,r;this.h265RenderTypeTimer&&(clearTimeout(this.h265RenderTypeTimer),this.h265RenderTypeTimer=null),this.pendingPrepareEndData&&(e=e.paramData,t=this.pendingPrepareEndData,this.pendingPrepareEndData=null,r=t.decode_info[1],"wasm"===e.renderType&&(r.isHardwareDecode=!1),this._log("PREPAREEND",t))},_onPlayerH265PlayInfo:function(e){e=e.paramData||{},this._log("HEVCINFO",{cd:e.codecTag,rd:e.renderType,si:e.simd,sio:e.simdOption,wt:e.wasmThreads,wto:e.wasmThreadsOption,sp:e.splayer})},_onPlayerCanplay:function(){this._canPlay=1,this.reportCanplay(),this.prevStats.timestamp||this.updateStats.call(this)},_onCreate:function(e){e=e.paramData||{},e.hasPa=!!e.playauth,delete e.playauth,e.hasSk=!!e.accessKeySecret,delete e.accessKeySecret,e.hasSt=!!e.securityToken,delete e.securityToken,this._log("CREATE",e),this._createTime=performance.now()},_onPlayerInit:function(){this.stucking=!1,this.pause_flag=0,this.startTimePlay=0,this._canPlay=0,this.seekingStartTime=0},_onPlayerReady:function(){this.startTimePlay||(this.startTimePlay=(new Date).getTime())},_onPlayerFinish:function(){this._log("STOP",{vt:Math.floor(1e3*this.player.getCurrentTime())}),this.reset()},_onPlayerPlay:function(){var e;this.playstartTime=(new Date).getTime(),0==this.playId&&(this.playId=s.guid()),this.player._isPreload()||(this.loadstartTime=performance.now()),this.doPlayReported&&this.pause_flag&&(this.pause_flag=0,this.pauseEndTime=(new Date).getTime(),this.heartBeatStatusData.t_last_resume=this.pauseEndTime,e=this.pauseEndTime-this.pauseTime,this._log("RECOVER",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:e,pass:e,t_last_pause:this.pauseTime}))},_onPlayerPause:function(){!this.doPlayReported||this.startTimePlay&&!this.player._seeking&&(this.pause_flag=1,this.pauseTime=(new Date).getTime(),this.heartBeatStatusData.t_last_pause=this.pauseTime,this.heartBeatStatusData.t_last_resume=-1,this._log("PAUSE",{vt:Math.floor(1e3*this.player.getCurrentTime())}))},_onLicenseHasResult:function(e){e=e.paramData||{},this._log("LICENSE_RESULT",{li_ri:e.result+" "+(e.errorCode||""),li_ti:e.featureId||"sdk"})},_onPlayerSeekStart:function(e){this.seekStartTime=e.paramData.fromTime,this.startTimePlay=0,this.seekStartStamp=(new Date).getTime()},_onPlayerSeekEnd:function(){this.seekEndStamp=(new Date).getTime(),this._log("SEEK",{drag_from_timestamp:Math.floor(1e3*this.seekStartTime),drag_to_timestamp:Math.floor(1e3*this._seekEndData.toTime)}),this._log("SEEK_END",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:this.seekEndStamp-this.seekStartStamp}),this._seekEndData=null},_onPlayerLoaded:function(){var e,t=this;this.doPlayReported&&!this.stucking&&"hidden"!==document.visibilityState&&(this.player._seeking?(this.seekingStartTime=this.player.getCurrentTime(),this.checkSeekStuckedTimer&&clearTimeout(this.checkSeekStuckedTimer),this.checkSeekStuckedTimer=setTimeout((function(){var e=t.player.readyState()<4;t.player.readyState()||(e=!0),t.player.getCurrentTime()===t.seekingStartTime&&e&&(e=t._getbwEstimator(),t._log("UNDERLOAD",{vt:Math.floor(1e3*t.player.getCurrentTime()),bw:e,cbs:t._getCbs()}),t.stucking=!0,t.stuckStartTime=(new Date).getTime(),0===t._getCbs())&&(t.heartBeatStatusData.t_last_load_start=t.stuckStartTime,t.heartBeatStatusData.t_last_load_end=-1)}),500)):(this.stuckStartTime=(new Date).getTime(),0===this._getCbs()&&(this.heartBeatStatusData.t_last_load_start=this.stuckStartTime,this.heartBeatStatusData.t_last_load_end=-1),this.stuckStartTime-this.startTimePlay<=1e3||(this.stucking=!0,e=this._getbwEstimator(),this._log("UNDERLOAD",{vt:Math.floor(1e3*this.player.getCurrentTime()),bw:e,cbs:this._getCbs()}),this.stuckStartTime=(new Date).getTime())))},_onPlayerUnderload:function(){var e,t,r,i;!this.doPlayReported&&this.player._options&&this.player._options.autoplay||this.stucking&&(e=Math.floor(1e3*this.player.getCurrentTime()),t=this.stuckStartTime||(new Date).getTime(),0<(r=Math.floor((new Date).getTime()-t))&&r<(1e3*this.player._options.waitingTimeout||6e4)&&(i=this._getbwEstimator(),0===this._getCbs()&&(this.heartBeatStatusData.t_last_load_end=(new Date).getTime()),this._log("LOADED",{vt:e,cost:r,bw:i,cbs:this._getCbs(),t_last_load_start:t})),this.seekStart=!1,this.stucking=!1)},_onPlayerSeeking:function(){this.seekStart=!0,this.seekingData.seekingStartTime=performance.now()},_onPlayerSeeked:function(){var e=this;this.player._splayer?this.player.one("canplay",(function(){e._reportSeeked()})):this._reportSeeked()},_reportSeeked:function(){var e=performance.now();e=Math.floor(e-this.seekingData.seekingStartTime);this._log("SEEKED",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:e})},_reportTrace:function(e){this._log("TRACE",{log:e})},_reportDump:function(e){this._log("DUMP",e)},_onPlayerError:function(e){this._reportTrace(e.paramData),this.playId=0,this.statisticsHistoryTimer&&(clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=null,this.resetStatisticsHistoryData()),n&&(clearInterval(n),n=null)},_getbwEstimator:function(){var e=NaN;try{e=((e=this.player._getbwEstimator&&parseInt(this.player._getbwEstimator(),10))/8/1024).toFixed(2)}catch(e){}return e},_getCbs:function(){return!this.player.getOptions().isLive&&this.seekStart?1:0},_log:function(e,t){if(this.trackLog){this.updateSourceInfo();var r=a.copy(this.opt),i=(this.requestId=s.guid(),d.logReportTo),n=(e=(r.e=m[e]+"",r.en=e,r.ri=this.sessionId,r.bi=r.bi&&String(r.bi),r.t=(new Date).getTime()+"",r.cdn_ip=this._userNetInfo.cdnIp,r.hn=this._userNetInfo.localIp,this.player.getCurrentQuality()),""!=e&&(r.definition=e.definition),[]);e=(a.each(t,(function(e,t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){}n.push(e+"="+t)})),""),t=this.player.getOptions(),e=((e=t&&t.vid||this.lightSaasVideoId?t.vid||this.lightSaasVideoId:e)&&n.push("vid="+e),"");(e=t&&t.mediaAuth?t.mediaAuth:e)&&n.push("pauth="+e);try{Aliplayer&&Aliplayer.__logCallback__&&(r.args=n,Aliplayer.__logCallback__(r))}catch(e){console.log(e)}if(""==(n=n.join("&"))&&(n="0"),r.args=this.encodeURL(n),this._logService){if(r.e===String(m.DUMP))return void this._logService.reportDump(r);this._logService.add(r)}else{var o=[];a.each(r,(function(e,t){o.push(e+"="+t)})),o=o.join("&"),l.jsonp(i+"?"+o,(function(){}),(function(){}))}return this.sessionId}},_imageInfo:function(){try{var e,t,r,i,n,o,a;return/MSIE\s8\.0/.test(navigator.userAgent)?{}:(e=this.player.tag)?(t=document.createElement("canvas"),r=e.videoWidth,i=e.videoHeight,t.width=r,t.height=i,(n=t.getContext("2d")).save(),n.drawImage(e,0,0,r,i),n.restore(),o=t.toDataURL("image/jpeg",1),a="",{imgLength:(a=o?(a=o.substr(o.indexOf(",")+1))||"":a).length}):{}}catch(e){return{}}}});t.exports=e},{"../config":15,"../lib/data":31,"../lib/event":34,"../lib/io":41,"../lib/object":43,"../lib/oo":44,"../lib/playerutil":46,"../lib/ua":49,"../player/base/event/eventtype":68,"./log":62,"./util":64}],64:[function(e,t,r){var i=e("../lib/cookie"),n=e("../lib/data"),o=e("../lib/ua");t.exports.getUuid=function(){var e=i.get("p_h5_u");return e||(e=n.guid(),i.set("p_h5_u",e,730)),e},t.exports.getTerminalType=function(){var e="pc";return o.IS_IPAD?e="pad":o.IS_ANDROID?e="android":o.IS_IOS&&(e="iphone"),e},t.exports.returnUTCDate=function(e){var t=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDate(),n=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds();e=e.getUTCMilliseconds();return Date.UTC(t,r,i,n,o,a,e)},t.exports.getRfc822=function(e){return e.toUTCString().replace("UTC","GMT")}},{"../lib/cookie":30,"../lib/data":31,"../lib/ua":49}],65:[function(e,t,r){var i=e("./base/player"),n=e("./saas/mtsplayer"),o=e("./saas/vodplayer"),a=e("./saas/lightPlayer"),s=e("./audio/audioplayer"),l=e("./hls/hlsplayer"),c=e("./flv/flvplayer"),u=e("./dash/dashplayer"),d=e("./rts/rtsplayer"),p=e("./drm/drmplayer"),h=e("./splayer/splayer"),f=e("../lib/ua"),g=e("../lib/playerutil"),_=(e("../lib/dom"),e("../lib/io"),e("../lang/index")),m=e("../lib/constants"),y=e("./base/event/eventtype");t.exports.create=function(e,t){e.PlayAuth&&(e.playauth=e.PlayAuth),"boolean"!=typeof e.rtsFallback&&e.rtsFallbackSource&&(e.rtsFallback=!0),e._userOptions||(e._userOptions=Object.assign({},e)),navigator&&navigator.userAgent&&-1<navigator.userAgent.indexOf("Olympic_Android")&&(e.useNativeControls=!0),e.readyCallback=t="function"!=typeof t?function(){}:t,_.setCurrentLanguage(e.language,"h5",e.languageTexts,e.extLanguageTexts);t=g.handleOption(e),e=t.source;var r=t.format;if(r&&e)try{r=r.toLowerCase()}catch(e){console.log("Aliplayer - parsing format failed",e),r=""}else r="";g.isSupportedFormat(r)||(r=""),t.optionFormat=r,t.drm&&(t.isDrm=!0),void 0===t.useDrm2&&(t.useDrm2=!Boolean(t.isDrm&&t.accessKeyId));var v,b=g.isAudio(e,r),w=(b&&(t.mediaType="audio"),g.createWrapper(t));if(w.player)return w.player;if(b)v=new s(w,t);else if(g.isRts(e))v=new d(w,t);else if((t.forceH265||t.enableH265)&&(g.isMp4(e,r)||g.isFlv(e,r)||g.isHls(e,r)))v=new h(w,t);else if((t.forceH266||t.enableH266)&&(g.isMp4(e,r)||t.isLive&&(g.isFlv(e,r)||g.isHls(e,r))))v=new h(w,t);else if(!t.useFlashPrism&&g.isFlv(e,r)&&g.isSupportFlv())v=new c(w,t);else if(-1!==[null,void 0].indexOf(t.mediaAuth)||t.source)if(t.vid&&!t.source)if(t.authInfo)v=new n(w,t);else{if(!(t.playauth||t.accessKeyId&&t.accessKeySecret))throw b="vid="+t.vid+" playauth='', playauth property is required by VOD(视频点播) as new Aliplayer.",new Error(b);v=new o(w,t)}else g.isHls(e,r)?g.canPlayHls()?v=new(g.isSupportHls()&&(g.isUsedHlsPluginOnMobile()||g.isSafariUsedHlsPlugin(t.useHlsPluginForSafari))?t.isDrm?p:l:t.isDrm?p:i)(w,t):g.isSupportHls()?v=new(t.isDrm?p:l)(w,t):f.os.pc||(v=new i(w,t)):g.isDash(e,r)&&g.isSupportMSE()?v=new(t.isDrm?p:u)(w,t):(v=new i(w,t),t.source||(b={error_code:m.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL",display_msg:_.get("Error_Empty_Source")},v.trigger(y.Player.Error,b)));else v=new a(w,t);return v}},{"../lang/index":24,"../lib/constants":29,"../lib/dom":33,"../lib/io":41,"../lib/playerutil":46,"../lib/ua":49,"./audio/audioplayer":66,"./base/event/eventtype":68,"./base/player":91,"./dash/dashplayer":98,"./drm/drmplayer":101,"./flv/flvplayer":103,"./hls/hlsplayer":105,"./rts/rtsplayer":107,"./saas/lightPlayer":111,"./saas/mtsplayer":113,"./saas/vodplayer":118,"./splayer/splayer":127}],66:[function(e,t,r){var i=e("../base/player"),n=e("../../ui/component"),o=e("../../lib/dom"),a=e("../../lib/object"),s=e("../../lib/playerutil");e=i.extend({init:function(e,t){this._isAudio=!0,void 0===t.skinLayout&&(t.skinLayout=s.getDefaultAudioLayout()),i.call(this,e,t)}});e.prototype.createEl=function(){"AUDIO"!==this.tag.tagName&&(this._el=this.tag,this.tag=n.prototype.createEl.call(this,"audio"));var e=this._el,t=this.tag,r=(t.player=this,o.getElementAttributes(t));return a.each(r,(function(t){e.setAttribute(t,r[t])})),this.setVideoAttrs(),t.parentNode&&t.parentNode.insertBefore(e,t),o.insertFirst(t,e),e},t.exports=e},{"../../lib/dom":33,"../../lib/object":43,"../../lib/playerutil":46,"../../ui/component":132,"../base/player":91}],67:[function(e,t,r){var i=e("../../../lib/event"),n=e("./eventtype"),o=e("../eventHandler/video/index"),a=e("../eventHandler/player/index");t.exports.offAll=function(e){var t,r,o,a=e.tag,s=e._el;for(t in n.Video)i.off(a,n.Video[t]);for(r in n.Player)i.off(s,n.Player[r]);for(o in n.Private)i.off(s,n.Private[o])},t.exports.offVideoAll=function(e){var t,r=e.tag;for(t in n.Video)i.off(r,n.Video[t])},t.exports.onAll=function(e){o.bind(e),a.bind(e)}},{"../../../lib/event":34,"../eventHandler/player/index":72,"../eventHandler/video/index":82,"./eventtype":68}],68:[function(e,t,r){t.exports={Video:{TimeUpdate:"timeupdate",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",Suspend:"suspend",Stalled:"stalled",LoadStart:"loadstart",DurationChange:"durationchange",LoadedData:"loadeddata",LoadedMetadata:"loadedmetadata",Progress:"progress",CanPlayThrough:"canplaythrough",ContextMenu:"contextmenu",Seeking:"seeking",Seeked:"seeked",ManualEnded:"manualended",VolumeChange:"volumechange",RateChange:"ratechange",Resize:"resize"},Player:{TimeUpdate:"timeupdate",DurationChange:"durationchange",Init:"init",Ready:"ready",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",RequestFullScreen:"requestFullScreen",CancelFullScreen:"cancelFullScreen",Snapshoted:"snapshoted",Snapshoting:"snapshoting",OnM3u8Retry:"onM3u8Retry",LiveStreamStop:"liveStreamStop",AutoPlayPrevented:"autoPlayPrevented",AutoPlay:"autoplay",StartSeek:"startSeek",CompleteSeek:"completeSeek",TextTrackReady:"textTrackReady",AudioTrackReady:"audioTrackReady",AudioTrackUpdated:"audioTrackUpdated",LevelsLoaded:"levelsLoaded",AudioTrackSwitch:"audioTrackSwitch",AudioTrackSwitched:"audioTrackSwitched",LevelSwitch:"levelSwitch",LevelSwitched:"levelSwitched",MarkerDotOver:"markerDotOver",MarkerDotOut:"markerDotOut",DefaultBandWidth:"defaultbandwidth",ResolutionChange:"resolutionChange",SeiFrame:"seiFrame",RtsFallback:"rtsFallback",RtsTraceId:"rtsTraceId",H265PlayInfo:"h265PlayInfo",H266PlayInfo:"h266PlayInfo",H265DecoderOverload:"h265DecoderOverload",SettingSelected:"settingSelected",AutoResize:"autoResize",VideoUnavailable:"videoUnavailable"},Private:{Create:"create",Play_Btn_Show:"play_btn_show",UiH5Ready:"uiH5Ready",Error_Hide:"error_hide",Error_Show:"error_show",Info_Show:"info_show",Info_Hide:"info_hide",H5_Loading_Show:"h5_loading_show",H5_Loading_Hide:"h5_loading_hide",HideProgress:"hideProgress",CancelHideProgress:"cancelHideProgress",UpdateProgress:"updateProgress",UpdateCursorPosition:"updateCursorPosition",Click:"click",MouseOver:"mouseover",MouseOut:"mouseout",MouseEnter:"mouseenter",MouseLeave:"mouseleave",TouchStart:"touchstart",TouchMove:"touchmove",TouchEnd:"touchend",HideBar:"hideBar",ShowBar:"showBar",ControlBarClick:"controlBarClick",ReadyState:"readyState",SourceLoaded:"sourceloaded",QualityChange:"qualitychange",Play_Btn_Hide:"play_btn_hide",Cover_Hide:"cover_hide",Cover_Show:"cover_show",SeekStart:"seekStart",EndStart:"endStart",UpdateProgressBar:"updateProgressBar",LifeCycleChanged:"lifeCycleChanged",Dispose:"dispose",Created:"created",Snapshot_Hide:"snapshot_hide",AutoStreamShow:"auto_stream_show",AutoStreamHide:"auto_stream_hide",VolumnChanged:"volumnchanged",LiveShiftQueryCompleted:"liveShiftQueryCompleted",LiveShiftSwitchToLive:"LiveShiftSwitchToLive",StreamSelectorHide:"streamSelectorHide",SpeedSelectorHide:"speedSelectorHide",SettingShow:"settingShow",SettingHide:"settingHide",SelectorShow:"selectorShow",SelectorHide:"selectorHide",SettingListShow:"settingListShow",SettingListHide:"settingListHide",ThumbnailHide:"thumbnailHide",ThumbnailShow:"thumbnailShow",ThumbnailLoaded:"thumbnailLoaded",TooltipShow:"tooltipShow",TooltipHide:"tooltipHide",SelectorUpdateList:"selectorUpdateList",SelectorValueChange:"selectorValueChange",SelectorGenerateList:"selectorGenerateList",VolumeVisibilityChange:"volumeVisibilityChange",VolumeUpdatePosition:"volumeUpdatePosition",ChangeURL:"changeURL",UpdateToSettingList:"updateToSettingList",CCChanged:"CCChanged",CCStateChanged:"CCStateChanged",CCReset:"ccReset",TextTrackFounded:"textTrackFounded",UserTrackReset:"userTrackReset",PlayClick:"click",ProgressMarkerLoaded:"progressMarkerLoaded",MarkerTextShow:"markerTextShow",MarkerTextHide:"markerTextHide",PREPARE:"prepare",ProgressMarkerChanged:"progressMarkerChanged",SeiFrame:"privateSeiFrame",PlayInfoLoaded:"playInfoLoaded",Retry:"retry",LicenseHasResult:"licenseHasResult",PatchWaiting:"patchWaiting",VttHide:"vttHide",VttSwitchTrack:"vttSwitchTrack",VttClearTracks:"vttClearTracks",SafariDrmLevelSwitch:"safariDrmLevelSwitch",VodRequestException:"vodRequestException",VodRequestExceptionResume:"vodRequestExceptionResume",TraceLog:"traceLog",DumpBuffer:"dumpBuffer",PlaybackRateChanged:"playbackRateChanged",StatisticsInfo:"statisticsInfo",MutedAutoplay:"mutedAutoplay",HideUnmuteButton:"hideUnmuteButton",Timeline:"timeline",ManualPlay:"manualPlay",UpdateWatchTime:"updateWatchTime",FastForwardShow:"fastForwardShow",FastForwardHide:"fastForwardHide"}}},{}],69:[function(e,t,r){e("../../event/eventtype");var i=e("../../../../lib/dom"),n=e("../../../../lib/ua");t.exports.handle=function(){n.IS_IOS&&(n.IS_IOS,!this._splayer||2!==this._splayer.renderType)||i.removeClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":33,"../../../../lib/ua":49,"../../event/eventtype":68}],70:[function(e,t,r){var i=e("../../event/eventtype");t.exports.handle=function(e){var t=this;t.trigger(i.Player.CompleteSeek,e.paramData.toTime),t.one(i.Player.CanPlay,(function(){t._enteredProgressMarker&&t.pause()}))}},{"../../event/eventtype":68}],71:[function(e,t,r){var i=e("../../event/eventtype"),n=(e("../../../../lib/constants"),e("../../../../lang/index"),e("../../../../monitor/util"));t.exports.handle=function(e){var t=this;e=e.paramData;t.trigger(i.Private.H5_Loading_Hide),t.trigger(i.Private.Cover_Hide),t.trigger(i.Private.Play_Btn_Hide),t.trigger(i.Private.SettingListHide),t.trigger(i.Private.SelectorHide),t.trigger(i.Private.VolumeVisibilityChange,""),e=e||{},t._monitor&&(e.uuid=n.getUuid(),e.serverRequestId=t._serverRequestId,e.requestId=t._monitor.sessionId,e.cdnIp=t._monitor._userNetInfo.cdnIp,e.localIp=t._monitor._userNetInfo.localIp),t._isError=!0,t.trigger(i.Private.Error_Show,e),t.trigger(i.Private.LifeCycleChanged,{type:i.Player.Error,data:e})}},{"../../../../lang/index":24,"../../../../lib/constants":29,"../../../../monitor/util":64,"../../event/eventtype":68}],72:[function(e,t,r){var i=e("../../event/eventtype"),n=e("../../../../lib/event"),o=e("./lifecyclecommon"),a={endStart:e("./endstart"),seekStart:e("./seekstart"),requestFullScreen:e("./requestfullscreen"),cancelFullScreen:e("./cancelfullscreen"),error:e("./error"),privateSeiFrame:e("./seiframe"),patchWaiting:e("../video/waiting")},s=[i.Private.EndStart,i.Private.SeekStart,i.Player.RequestFullScreen,i.Player.CancelFullScreen,i.Player.Error,i.Player.Ready,i.Private.Dispose,i.Private.Created,i.Private.SeiFrame,i.Private.PatchWaiting];t.exports.bind=function(e){e.el();for(var t=0;t<s.length;t++){var r=s[t];"undefined"!=a[r]&&function(e,t,r){var i=e.el();n.on(i,t,(function(i){var n=(r&&r.handle?r:o).handle;n.call(e,i,t)}))}(e,r,a[r])}}},{"../../../../lib/event":34,"../../event/eventtype":68,"../video/waiting":90,"./cancelfullscreen":69,"./endstart":70,"./error":71,"./lifecyclecommon":73,"./requestfullscreen":74,"./seekstart":75,"./seiframe":76}],73:[function(e,t,r){var i=e("../../event/eventtype");t.exports.handle=function(e,t){this.trigger(i.Private.LifeCycleChanged,{type:t,data:e})}},{"../../event/eventtype":68}],74:[function(e,t,r){e("../../event/eventtype");var i=e("../../../../lib/dom"),n=e("../../../../lib/ua");t.exports.handle=function(){n.IS_IOS&&(n.IS_IOS,!this._splayer||2!==this._splayer.renderType)||i.addClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":33,"../../../../lib/ua":49,"../../event/eventtype":68}],75:[function(e,t,r){var i=e("../../event/eventtype");t.exports.handle=function(e){this._seeking=!0,this.trigger(i.Player.StartSeek,e.paramData.fromTime)}},{"../../event/eventtype":68}],76:[function(e,t,r){e("../../event/eventtype"),t.exports.handle=function(e){e=e.paramData;var t,r,i=e.pts;this._hls2?i=parseInt(1e3*i):this._hls&&(t=e.pts,r=this._initPTS,i=parseInt((t-r)/90,10)),this._seis[i]=this._seis[i]||[],this._seis[i].push(e.dataContent)}},{"../../event/eventtype":68}],77:[function(e,t,r){var i=e("../../event/eventtype");t.exports.handle=function(e){var t=this,r=(t._retrySwitchUrlCount=0,t._liveRetryCount=0,t._clearLiveErrorHandle(),t._dumpBuffer="ABORTED",(new Date).getTime()-t.readyTime);t._options.autoplay||t._options._autoplay||!t.paused()||(t.trigger(i.Private.H5_Loading_Hide),t.trigger(i.Private.Play_Btn_Show)),t.trigger(i.Player.CanPlay,{loadtime:r})}},{"../../event/eventtype":68}],78:[function(e,t,r){var i=e("../../event/eventtype"),n=e("../../../../lib/dom"),o=e("../../../../lib/ua");t.exports.handle=function(e){this._seeking=!1;var t=this.tag;"none"===t.style.display&&o.IS_IOS&&setTimeout((function(){n.css(t,"display","block")}),100),this.trigger(i.Video.CanPlayThrough)}},{"../../../../lib/dom":33,"../../../../lib/ua":49,"../../event/eventtype":68}],79:[function(e,t,r){t.exports.handle=function(e,t){var r="";e&&e.paramData&&(r=e.paramData),this.trigger(t,r)}},{}],80:[function(e,t,r){var i=e("../../event/eventtype");e("../../../../lang/index"),e("../../../../lib/event"),t.exports.handle=function(e){var t=this;t.waiting=!1,t._ended=!0,t._currentTimeForDisableSeek=0,t.traceLog("video/ended.js","event::ended"),t.trigger(i.Private.Play_Btn_Show),t.trigger(i.Player.Ended,{playTime:t.getPlayTime()}),t.__disposed||(t._monitor&&t._monitor._onPlayerInit(),t._options.rePlay?(t._monitor&&t._monitor.startHeartBeat(),this._splayer||(t.seek(t._getPlayStartTime()),t.tag.play())):t._options.isLive&&t.trigger(i.Private.H5_Loading_Hide))}},{"../../../../lang/index":24,"../../../../lib/event":34,"../../event/eventtype":68}],81:[function(e,t,r){var i=e("../../event/eventtype"),n=e("../../../../lib/constants"),o=e("../../../../lang/index"),a=(e("../../../../lib/event"),e("../../../../lib/ua")),s=(e("../../../../lib/io"),e("../../../../lib/playerutil")),l="video/error.js";function c(e,t,r){var i=e._options,l=i.source||"";4===(t=4!==t&&a.IS_IOS&&/qqbrowser/i.test(a.USER_AGENT)?4:t)&&s.isHls(l)?s.detectRegionBlock(l,(function(t){t?(t={mediaId:i.isLive?"ISLIVE":i.vid||"",error_code:n.ErrorCode.RegionBlock,error_msg:o.get("Error_Region_Block_Text"),diagnosis_info:o.get("Tip_Err_Blocked")},e.logError(t),e.trigger("error",t)):r()})):r()}t.exports.handle=function(e){if((e.target||e.srcElement).error){var t=this;if(t.waiting=!1,t._clearTimeout(),t.checkOnline()&&!t._splayer&&!t._drm){var r,u="",d=e.target||e.srcElement,p=d.error&&d.error.message||"";u="";if(d.error&&d.error.code&&(r=d.error.code,u=n.VideoErrorCode[d.error.code],p=r+" || "+p),t.traceLog(l,"event::error#"+r+"#"+p),t._reportDumpBuffer&&t._reportDumpBuffer(),t._options.isLive)c(t,r,(function(){t._options.liveRetry>t._liveRetryCount?t._reloadAndPlayForM3u8():(t._liveRetryCount=0,t.trigger(i.Player.LiveStreamStop),t._liveErrorHandle=setTimeout((function(){var e={mediaId:"ISLIVE",error_code:u,error_msg:p||o.get("Error_Play_Text")+"，"+o.get("Error_Retry_Text")};t.logError(e),e.display_msg=n.VideoErrorCodeText[r]||e.error_msg,t.trigger("error",e)})),a.IS_UC&&(t._liveErrorHandle=null))}));else if(3==r){if(d="",-1<p.indexOf("no decoder found"))d=o.get("Error_No_Decoder_Text");else if(t._nudgeCount=t._nudgeCount||0,t._nudgeCount<5){t._nudgeCount++;var h=+t._nudgeCount;h=t.getCurrentTime()+h;if(t.traceLog(l,"decode error, try to nudge("+t._nudgeCount+"/5) from "+t.getCurrentTime()+" to "+h+"s, duration: "+t.getDuration()),h<t.getDuration())return void t._loadByUrlInner(t._options.source,h,!0)}else if(function(){var e,t=!1,r=this.getOptions();return this._fallback||!s.isHls(r.source)||this._options._native||!s.canPlayHls()||this.swPlayer||(t=!0,this._options.useHlsPluginForSafari=!1,this._options._native=!0,this.traceLog(l,"fallback to native player"),e=this.getCurrentTime(),window.Aliplayer&&window.Aliplayer.reloadInstance(this._options,(function(t){t._fallback=!0,r.isLive||t.seek(e)}),this)),t}.call(t)||function(){var e,t=!1,r=this.getOptions();return!this._fallback&&s.isHls(r.source)&&this._options._native&&s.isSupportHls()&&(t=!0,this._options.useHlsPluginForSafari=!0,this._options._native=!1,this.traceLog(l,"fallback to MSE player"),e=this.getCurrentTime(),window.Aliplayer)&&window.Aliplayer.reloadInstance(this._options,(function(t){t._fallback=!0,r.isLive||t.seek(e)}),this),t}.call(t))return;h={mediaId:t._options.vid||"",error_code:u,error_msg:p},t.logError(h),h.display_msg=n.VideoErrorCodeText[r]+(d?"，"+d:""),h.diagnosis_info=o.get("Tip_Err_Decode")+"<br />"+o.get("Tip_Err_Common_Short")+p,t.trigger(i.Player.Error,h)}else t._reloadForVod()||c(t,r,(function(){var e,a,s;e=o.get("Error_Play_Text"),a=!1,r<3?e=n.VideoErrorCodeText[r]:t._eventState==n.SUSPEND?(e=o.get("Error_Load_Abort_Text"),u=n.ErrorCode.RequestDataError):t._eventState==n.LOAD_START?(e=o.get("Error_Network_Text"),0<t._options.source.indexOf("auth_key")&&(e=e+"，"+o.get("Error_AuthKey_Text")),u=n.ErrorCode.StartLoadData):t._eventState==n.LOADED_METADATA&&(e=o.get("Error_Play_Text"),u=n.ErrorCode.PlayingError),e=e+"，"+o.get("Error_Retry_Text"),1<t._urls.length&&t._retrySwitchUrlCount<3&&-1==t._options.source.indexOf(".mpd")&&(t.switchUrl(),a=!0),s={mediaId:t._options.vid||"",error_code:u,error_msg:p},a||(t.logError(s),s.display_msg=e,t.trigger(i.Player.Error,s))}))}}else this.traceLog(l,"video.MediaError is null, may be caused by non-video source, like invalid poster ("+(e.target||e.srcElement).poster+")")}},{"../../../../lang/index":24,"../../../../lib/constants":29,"../../../../lib/event":34,"../../../../lib/io":41,"../../../../lib/playerutil":46,"../../../../lib/ua":49,"../../event/eventtype":68}],82:[function(e,t,r){var i=e("../../../../lib/event"),n=e("../../event/eventtype"),o={canplay:e("./canplay"),canplaythrough:e("./canplaythrough"),common:e("./common"),ended:e("./ended"),error:e("./error"),pause:e("./pause"),play:e("./play"),playing:e("./playing"),waiting:e("./waiting"),timeupdate:e("./timeupdate"),manualended:e("./ended"),loadedmetadata:e("./loadedmetadata"),seeking:e("./seeking"),resize:e("./resize")};t.exports.bind=function(e){for(var t in e.tag,n.Video)t=n.Video[t],function(e,t,r){var o=e.tag;i.on(o,t,(function(i){r.handle.call(e,i,t),t!=n.Video.Error&&(t==n.Video.ManualEnded&&(t=n.Video.Ended),e.trigger(n.Private.LifeCycleChanged,{type:t,data:i}))}))}(e,t,void 0!==o[t]?o[t]:o.common)}},{"../../../../lib/event":34,"../../event/eventtype":68,"./canplay":77,"./canplaythrough":78,"./common":79,"./ended":80,"./error":81,"./loadedmetadata":83,"./pause":84,"./play":85,"./playing":86,"./resize":87,"./seeking":88,"./timeupdate":89,"./waiting":90}],83:[function(e,t,r){var i=e("../../event/eventtype");e("../../../../lib/playerutil"),t.exports.handle=function(e){var t=this.tag,r=t.duration<1?0:t.duration;this._getSubVideoConfig().start>r-1&&(console.warn("Params.start ["+this._getSubVideoConfig().start+"] is greater than video.duration ["+r+"] - 1, seeking to 0"),this.setStartEnd(0,this._getSubVideoConfig().end)),this._getWatchTimeConfig().watchStartTime>r-1&&(console.warn("Params.watchStartTime ["+this._getWatchTimeConfig().watchStartTime+"] is greater than video.duration ["+r+"] - 1, seeking to 0"),this.setWatchTime(0,this._getWatchTimeConfig().watchEndTime)),this.trigger(i.Private.ReadyState),this._splayer&&this.trigger(i.Video.DurationChange),this.trigger(i.Video.LoadedMetadata),t.videoWidth&&t.videoHeight||this.trigger(i.Player.VideoUnavailable)}},{"../../../../lib/playerutil":46,"../../event/eventtype":68}],84:[function(e,t,r){var i=e("../../event/eventtype"),n=e("../../../../lib/ua");t.exports.handle=function(e){var t=this;t._seeking&&t._splayer||(t._hls&&t._options&&t._options.isLive&&n.IS_FIREFOX&&t.trigger(i.Private.Play_Btn_Show),t._clearTimeout(),t.trigger(i.Private.AutoStreamHide),t.trigger(i.Player.Pause),t._isManualPause&&(t.trigger(i.Private.Play_Btn_Show),t.trigger(i.Private.H5_Loading_Hide)),t.waiting=!1)}},{"../../../../lib/ua":49,"../../event/eventtype":68}],85:[function(e,t,r){var i=e("../../event/eventtype");t.exports.handle=function(e){this.trigger(i.Private.Error_Hide),this.trigger(i.Private.Cover_Hide),this.trigger(i.Private.AutoStreamHide),this.waiting=!1,this.trigger(i.Player.Play)}},{"../../event/eventtype":68}],86:[function(e,t,r){var i=e("../../event/eventtype");t.exports.handle=function(e){var t,r=this;this.tag.paused||(r.trigger(i.Private.H5_Loading_Hide),r.trigger(i.Private.Cover_Hide),r.trigger(i.Private.Info_Hide),r.waiting=!1,r._ended=!1,r._liveRetryCount=0,r._vodRetryCount=0,r._seeking=!1,t=r.getCurrentTime(),r._waitingReloadTime!=t&&(r._waitingTimeoutCount=0),r._checkTimeoutHandle&&(clearTimeout(r._checkTimeoutHandle),r._checkTimeoutHandle=null),r._waitingLoadedHandle&&(clearTimeout(r._waitingLoadedHandle),r._waitingLoadedHandle=null),r._ucSourceHandle&&(clearTimeout(r._ucSourceHandle),r._ucSourceHandle=null),r._waitingDelayLoadingShowHandle&&(clearTimeout(r._waitingDelayLoadingShowHandle),r._waitingDelayLoadingShowHandle=null),r._waitingTimeoutHandle&&(clearTimeout(r._waitingTimeoutHandle),r._waitingTimeoutHandle=null,r._ccService)&&r._options.isLive&&(t=r._ccService.getCurrentSubtitle(),r._setDefaultCC=!0,t)&&r._ccService.switch(t),r.trigger(i.Private.AutoStreamHide),r.trigger(i.Player.Playing),r.trigger(i.Private.Error_Hide),r.trigger(i.Private.Play_Btn_Hide))}},{"../../event/eventtype":68}],87:[function(e,t,r){var i=e("../../event/eventtype"),n=e("../../../../feature/ratioAdapter");t.exports.handle=function(e){this.trigger(i.Video.Resize);var t=this.getOptions();if(t.autoSize){if(!this._ratioAdapter){if(!0!==t.autoSize&&"width"!==t.autoSize&&"height"!==t.autoSize)return void console.warn("Unknown parameter [autoSize]: "+t.autoSize+", only true/height/width are supported");!0===t.autoSize&&(t.autoSize="height"),this._ratioAdapter=new n}this._ratioAdapter.autoResize(this.tag.videoWidth/this.tag.videoHeight,this,t.autoSize)}}},{"../../../../feature/ratioAdapter":22,"../../event/eventtype":68}],88:[function(e,t,r){var i=e("../../event/eventtype");e("../../../../lib/playerutil"),t.exports.handle=function(e){var t,r,n,o=this.tag,a=(this.getOptions().disableSeek&&(a=o.currentTime-this._currentTimeForDisableSeek,.01<Math.abs(a))&&(o.currentTime=this._currentTimeForDisableSeek),o.currentTime);this._canSeek(a)||(t=this._getWatchTimeConfig(),n=0,(r=this._getSubVideoConfig()).start||r.end?n=a>r.end?r.end:r.start:(t.watchStartTime||t.watchEndTime)&&(n=a>t.watchEndTime?t.watchEndTime:t.watchStartTime),o.currentTime=n),this.trigger(i.Video.Seeking)}},{"../../../../lib/playerutil":46,"../../event/eventtype":68}],89:[function(e,t,r){var i=e("../../event/eventtype"),n=e("../../../../lib/ua"),o=e("../../../../lib/event"),a=e("../../plugin/status");function s(e){var t=this;null!=e&&e.length&&e.forEach((function(e){t.trigger(i.Player.SeiFrame,e)}))}t.exports.handle=function(e){var t=this;if(t._isError||t.trigger(i.Player.TimeUpdate,e.timeStamp),!t.__disposed){t._decodeErrorNudgeTimer||(t._decodeErrorNudgeTimer=setTimeout((function(){t._nudgeCount=0}),3e3)),(n.IS_IOS||n.IS_MAC_SAFARI)&&(clearTimeout(t._waitingPatchTimer),t._waitingPatchTimer=setTimeout((function(){t.waiting||t._isError||t.paused()||t._disposed||(console.log("!!!!!!!manually waiting!!!!!!!"),t.trigger(i.Private.PatchWaiting))}),3e3));var r,l,c,u=t.getCurrentTime(),d=(e=(t.tag.seeking||(t._currentTimeForDisableSeek=u),t.waiting&&!t._TimeUpdateStamp&&(t._TimeUpdateStamp=u),0!=t.waiting&&t._TimeUpdateStamp==u||0===u||(t.trigger(i.Private.H5_Loading_Hide),t.trigger(i.Private.AutoStreamHide),t._checkTimeoutHandle&&clearTimeout(t._checkTimeoutHandle),t._waitingTimeoutHandle&&clearTimeout(t._waitingTimeoutHandle),t._waitingLoadedHandle&&clearTimeout(t._waitingLoadedHandle),t._ucSourceHandle&&(clearTimeout(t._ucSourceHandle),t._ucSourceHandle=null),t.waiting=!1),n.IS_ANDROID&&n.IS_UC&&(t._timeNotUpdateCount=t._timeNotUpdateCount||0,t.waiting||u!==t._TimeUpdateStamp||(t._timeNotUpdateCount++,2<=t._timeNotUpdateCount&&(t._timeNotUpdateCount=0,t.trigger(i.Private.PatchWaiting)))),t._TimeUpdateStamp=u,t._options.isLive||(r=t.getDuration(),e=!1,l=0,r<u&&!t.paused()?(l=1,e=!0):r-u<.2&&0<=n.browser.version.indexOf("49.")&&!t.paused()?(l=2,e=!0):t.exceedPreviewTime(u)?(l=3,e=!0):u>=t._getWatchTimeConfig().watchEndTime&&(l=4,e=!0,t.pause()),e&&setTimeout((function(){t._ended||(t._splayer||t.paused()||t.pause(),o.trigger(t.tag,i.Video.ManualEnded),t.traceLog&&t.traceLog("video/timeupdate.js","ManualEnded#"+l+"#"+u+"#"+r))}),100)),t._player.tag),e&&t._options.isLive&&(t._player.resolution&&0<e.videoWidth&&0<e.videoHeight&&(0<t._player.resolution.width||0<t._player.resolution.height)&&(t._player.resolution.width!==e.videoWidth||t._player.resolution.height!==e.videoHeight)&&(c={oldResolution:{width:t._player.resolution.width,height:t._player.resolution.height},newResolution:{width:e.videoWidth,height:e.videoHeight}},t.trigger(i.Player.ResolutionChange,c)),t._player.resolution.width=0==e.videoWidth?t._player.resolution.width:e.videoWidth,t._player.resolution.height=0==e.videoHeight?t._player.resolution.height:e.videoHeight),n.IS_CHROME&&Number(n.CHROME_VERSION)<50&&(t._playingSlientPause&&(clearTimeout(t._playingSlientPause),t._playingSlientPause=null),t._playingSlientPause=setTimeout((function(){var e,r;t._status!=a.playing||t.paused()||t._drm||t._urls.length||(e=t.getCurrentTime(),r=t._options.isLive?0:e,t._loadByUrlInner(t._options.source,r,e))}),3e3)),t._seis||{}),p=Object.keys(d);if(0!==p.length)for(var h=parseInt(1e3*u,10)+300,f=0;f<p.length;f++){var g=p[f];if(!(g<=h))break;s.call(t,d[g]),delete d[g]}}}},{"../../../../lib/event":34,"../../../../lib/ua":49,"../../event/eventtype":68,"../../plugin/status":95}],90:[function(e,t,r){var i=e("../../event/eventtype"),n=e("../../../../lib/constants"),o=e("../../../../lib/event"),a=e("../../../../lang/index"),s=e("../../../../lib/ua"),l=e("../../../../lib/playerutil"),c="video/waiting.js";t.exports.handle=function(e){var t=this;if(!t._options.isLive){var r=this.getCurrentTime(),u=this.getDuration();if(!t._ended&&0<u&&(u-r<.5||u<r))return t.pause(),t._ended=!0,o.trigger(this.tag,i.Video.ManualEnded),void(t.traceLog&&t.traceLog(c,"ManualEnded#"+r+"#"+u))}function d(){t._checkTimeoutHandle&&(clearTimeout(t._checkTimeoutHandle),t._checkTimeoutHandle=null),t._waitingTimeoutHandle&&(clearTimeout(t._waitingTimeoutHandle),t._waitingTimeoutHandle=null),t._waitingLoadedHandle&&(clearTimeout(t._waitingLoadedHandle),t._waitingLoadedHandle=null),t._waitingDelayLoadingShowHandle&&(clearTimeout(t._waitingDelayLoadingShowHandle),t._waitingDelayLoadingShowHandle=null),t._ucSourceHandle&&(clearTimeout(t._ucSourceHandle),t._ucSourceHandle=null)}t.waiting=!0,d(),t._waitingDelayLoadingShowHandle=setTimeout((function(){s.IS_IOS&&t.paused()||t._isError||t.trigger(i.Private.H5_Loading_Show)}),1e3*t._options.delayLoadingShow),t._TimeUpdateStamp=null,t._checkTimeoutHandle=setTimeout((function(){t.trigger(i.Private.AutoStreamShow)}),1e3*t._options.loadDataTimeout),t.trigger(i.Player.Waiting),t._waitingTimeoutHandle=setTimeout((function(){var e;t.tag&&t._options&&(t.pause(),e={mediaId:t._options.vid||"",error_code:n.ErrorCode.LoadingTimeout,error_msg:a.get("Error_Waiting_Timeout_Text")},t.logError(e),t.trigger("error",e))}),1e3*t._options.waitingTimeout),r=t._options,r.disableLiveHalfRetry&&r.isLive||r.disableVodHalfRetry&&!r.isLive||(t._waitingLoadedHandle=setTimeout((function(){var e=t.getCurrentTime();0==t._waitingTimeoutCount&&e!=t._waitingReloadTime&&(t.traceLog(c,"half-retry::"+t._options.waitingTimeout/2),t._waitingTimeoutCount=1,t._waitingReloadTime=e,e=t._options.isLive?0:e,t._loadByUrlInner(t._options.source,e,!0))}),t._options.waitingTimeout/2*1e3)),s.IS_ANDROID&&s.IS_DINGTALK&&(t._ucSourceHandle=setTimeout((function(){l.detectRegionBlock(t._options.source,(function(e){e&&(e={mediaId:t._options.vid,error_code:n.ErrorCode.RegionBlock,error_msg:a.get("Error_Region_Block_Text"),diagnosis_info:a.get("Tip_Err_Blocked")},t.logError(e),t.trigger("error",e))}))}),5e3)),t.on("error",(function(){d()}))}},{"../../../../lang/index":24,"../../../../lib/constants":29,"../../../../lib/event":34,"../../../../lib/playerutil":46,"../../../../lib/ua":49,"../../event/eventtype":68}],91:[function(e,t,r){(function(r){(function(){var i="undefined"==typeof Promise?e("es6-promise").Promise:Promise,n=e("../../ui/component"),o=e("../../lib/object"),a=e("../../lib/dom"),s=e("../../lib/event"),l=e("../../ui/exports"),c=e("../../monitor/monitor"),u=e("../../lib/ua"),d=e("../../lib/constants"),p=e("../../lib/playerutil"),h=e("../../lib/util"),f=e("./x5play"),g=e("../../lib/cookie"),_=e("../../lang/index"),m=e("../../feature/autoplaydelay"),y=e("./event/eventmanager"),v=e("../../ui/component/cover"),b=e("../../feature/license"),w=e("../../ui/component/text-track-display"),S=e("../../ui/component/press-fast-forward"),x=e("../../ui/component/double-click-skip"),T=e("../../commonui/autostreamselector"),k=e("./event/eventtype"),E=e("./plugin/lifecyclemanager"),C=e("../service/export"),P=e("../../ui/component/progressmarker"),A=e("../../feature/keyboardControl"),R=e("../../feature/AntiRecord"),I=e("../../lib/vttnext/index"),L=e("../../lib/codec-probe"),D=e("../splayer/splayerinjector"),O=e("../../ui/component/util").throttle,M=e("../../feature/ratioAdapter"),N=e("../../feature/logoManager"),H="base/player.js",U=n.extend({init:function(e,t){var a;function s(e){var n,o=this;"dev"===r||"file:"===window.location.protocol||this._licenseHasResult||(this._licenseHasResult=!0,t.license&&t.license.key&&t.license.domain?("native"!==e.paramData.renderType&&(e=e.paramData.codecTag,p.isH265Codec(e)?n=d.FEATURE_ID_H265:p.isH266Codec(e)&&(n=d.FEATURE_ID_H266)),b.getLicense(t.license.domain,t.license.key,"SEA"===t.env?"ap-southeast-1":"cn-shanghai").then((function(e){var t=e.validate(d.PLAYER_SDK_CODE_LEGACY,n),r=(e=e.validate(d.PLAYER_SDK_CODE,n),0===t||0===e);if(r||console.log(d.PLAYER_SDK_CODE_LEGACY,t,d.PLAYER_SDK_CODE,e),r)o.trigger(k.Private.LicenseHasResult,{result:d.LicenseResultCode.Success,featureId:n});else{if(2===t||2===e)return i.reject(d.LicenseResultCode.Expired);if(1===t&&1===e)return i.reject(d.LicenseResultCode.NotFound);console.error("license validate unknown error")}})).catch((function(e){var t=String(e).split("#");e=Number(t[0]),t=t[1];o.trigger(k.Private.LicenseHasResult,{result:e,errorCode:t,featureId:n}),b.logError(e)}))):(console.error(_.get("Tip_License_Required")+": https://help.aliyun.com/zh/vod/developer-reference/license-authorization-and-management#13133fa053843"),console.error(_.get("Tip_License_Params")+": https://help.aliyun.com/zh/vod/developer-reference/integration#387d8a4c094im"),this.trigger(k.Private.LicenseHasResult,{result:d.LicenseResultCode.LicenseKeyInvalid})))}this.tag=e,this.loaded=!1,this.played=!1,this.oncePlayed=!1,this.waiting=!1,this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._isError=!1,this._isHls=!1,this._liveRetryCount=0,this._liveRetryTimer=null,this._flvDumpTimer=null,this._vodRetryCount=0,this._nudgeCount=0,this._seeking=!1,this._serverRequestId=0,this._waitingTimeoutCount=0,this._waitingReloadTime=0,this._created=!1,this._enteredProgressMarker=!1,this._liveShiftSeekStartTime=0,this._seis={},this._initPTS=0,this.isMutiLevel=!1,this._antiRecord=null,this._ratioAdapter=null,this._logoManager=null,this._clickPauseEnabled=!1,this._currentTimeForDisableSeek=0,this._loadByUrlStartTime=0,this._posOffset=0,this._onceLogged=!1,this._licenseHasResult=!1,this.__disposed=!1,this.resolution={width:0,height:0},void 0===t.skinLayout&&(t.skinLayout=p.getDefaultH5Layout()),null!=(e=t.skinLayoutIgnore)&&e.length&&(t.skinLayout=p.ignoreSkinLayouts(t.skinLayout,t.skinLayoutIgnore)),p.isRts(t.source)&&!t.autoplay&&(t.preload=!1),"SEA"===t.env&&(t.logReportTo="https://videocloud-sgp.ap-southeast-1.log.aliyuncs.com/logstores/newplayer/track",t.disableDumpBuffer=!0),n.call(this,this,t),this.addClass("prism-player"),t.plugins&&o.each(t.plugins,(function(e,t){this[e](t)}),this),this._createService(),this.UI={},t.useNativeControls?this.tag.setAttribute("controls","controls"):(this.UI=l,0==t.errorDisplay&&(this.UI.errorDisplay=void 0)),t.disablePip&&this.tag.setAttribute("disablePictureInPicture","true"),this._handleLongPress(t),this._handleClickPause_dbClickFullscreen(t),this.initChildren(),this._options.trackLog&&(this._monitor=new c(this,{video_id:0,album_id:0,from:this._options.from,source:this._options.source,logBatched:this._options.logBatched,logReportTo:this._options.logReportTo},this._options.trackLog)),y.onAll(this),this.trigger(k.Private.Create,t._userOptions),this._options.preventRecord&&(this._antiRecord=new R({player:this}),this._antiRecord.start()),this._lifeCycleManager=new E(this),this._overrideNativePlay(),this._liveshiftService&&!this._liveshiftService.validate()?(e={mediaId:this._options.vid||"",error_code:d.ErrorCode.InvalidParameter,error_msg:_.get("ShiftLiveTime_Error")},this.trigger(k.Player.Error,e)):(this._posOffset=this._getSubVideoConfig().start||0,this._options.extraInfo&&(e=this._options.extraInfo).liveRetry&&(this._options.liveRetry=e.liveRetry),this.on(k.Private.ReadyState,(function(){this.trigger(k.Player.Ready)})),this.on(k.Player.H265PlayInfo,s),this.on(k.Player.H266PlayInfo,s),this.one(k.Player.CanPlay,s),this.on(k.Private.LicenseHasResult,(function(e){var t=this,r=(e=e.paramData||{},e.result),i=e.errorCode,n=e.featureId,o=(e=d.LicenseResultCode,"");switch(r){case e.LicenseKeyInvalid:case e.DomainInvalid:o=_.get(d.LicenseErrorKey.Empty);break;case e.NotFound:o=_.get(d.LicenseErrorKey.Unauthorized);var a="";n===d.FEATURE_ID_H265&&(a="H265"),n===d.FEATURE_ID_H266&&(a="H266"),console.error(_.get("Tip_License_Feature"),a);break;case e.Expired:o=_.get(d.LicenseErrorKey.Expired);break;case e.CertInvalid:-1<["E003","E005","E006"].indexOf(i)?(o=_.get(d.LicenseErrorKey.LicenseKeyInvalid)+"("+i+")",console.error(_.get("Tip_License_Check"))):"E008"===i?(o=_.get(d.LicenseErrorKey.DomainInvalid)+"("+i+")",console.error(_.get("Tip_License_Domain"))):"E010"===i&&(o=_.get(d.LicenseErrorKey.NotFound)+"("+i+")",console.error(_.get("Tip_License_Check")))}o&&(console.error(_.get("Tip_License_Reason")+" "+o),setTimeout((function(){t.trigger(k.Player.Error,{mediaId:t._options.vid||"",error_code:d.ErrorCode.LicenseError,display_msg:_.get("Error_Play_Text")+" (LICENSE ERROR)",error_msg:o}),t.tag.pause(),t.trigger(k.Private.HideUnmuteButton),y.offAll(t),t.tag&&t.tag.parentNode&&t.tag.parentNode.removeChild(t.tag),t.play=function(){},t.loadByUrl=function(){}})))})),this._thumbnailService&&this._options.thumbnailUrl&&this._thumbnailService.get(this._options.thumbnailUrl),0<this._options.progressMarkers.length&&this.trigger(k.Private.ProgressMarkerLoaded,this._options.progressMarkers),this._options.source&&this._options._native&&this._executeReadyCallback(),this._options.autoplay||this._options.preload?this.trigger(k.Private.H5_Loading_Show):this.trigger(k.Private.Play_Btn_Show),this._extraMultiSources(),this._options.source&&(this.trigger(k.Private.PREPARE,"custom"),this._options.autoPlayDelay?(this._autoPlayDelay=new m(this),(a=this)._autoPlayDelay.handle((function(){a.initPlay()}))):this.initPlay()),this._options.ratio&&(this._options.autoSize?console.warn("The parameter [ratio] will be ignored when [autoSize] is set."):(this._options.height&&console.warn("The parameter [height] will be ignored when [ratio] is set."),this._ratioAdapter=new M,this._ratioAdapter.autoResize(this._options.ratio,this))),A.init.call(this),null!=(e=this._options.logo)&&e.length&&(this._logoManager=new N({container:this.el(),video:this.tag,logo:this._options.logo})),this._vttBroker=new I({player:this}),this._getUserTextTracks())}});U.prototype.isSupportMSE=function(){return p.isSupportMSE()},U.prototype.initPlay=function(e){this._initPlayBehavior(e,this._options.source)},U.prototype.initChildren=function(){var e=this.options(),t=e.skinLayout;if(!1!==t&&!o.isArray(t))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");!1!==t&&0!==t.length&&(this.options({children:t}),n.prototype.initChildren.call(this)),this.UI.cover=v,e.className="",this.addChild("cover",e),this.UI.autoStreamSelector=T,this.addChild("autoStreamSelector",e),this.UI.progressMarker=P,this.addChild("progressMarker",e),this.UI.textTrackDisplay=w,this.addChild("textTrackDisplay",e),e.longPressFastForward&&(this.UI.pressFastForward=S,this.addChild("pressFastForward",{name:"pressFastForward",align:"free"})),p.enableDbClickSkip(e)&&(this.UI.doubleClickSkip=x,this.addChild("doubleClickSkip",{name:"doubleClickSkip",align:"free"})),this.trigger(k.Private.UiH5Ready)},U.prototype.createEl=function(){var e=!1,t=("VIDEO"!==this.tag.tagName?(this._el=this.tag,this.tag=n.prototype.createEl.call(this,"video"),this._options.playsinline&&(this.tag.setAttribute("webkit-playsinline",""),this.tag.setAttribute("playsinline",""),this.tag.setAttribute("x-webkit-airplay",""),this.tag.setAttribute("x5-playsinline",""))):(e=!0,this._el=this.tag.parentNode),this._el),r=this.tag,i=(this._options.enableSystemMenu||(r.addEventListener?r.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1):r.attachEvent("oncontextmenu",(function(){window.event.returnValue=!1}))),r.player=this,a.getElementAttributes(r));return o.each(i,(function(e){t.setAttribute(e,i[e])})),this.setVideoAttrs(),e||(r.parentNode&&r.parentNode.insertBefore(t,r),a.insertFirst(r,t)),t},U.prototype.setVideoAttrs=function(){var e=this._options.preload,t=this._options.autoplay;if(this.tag.style.width=this._options.videoWidth||"100%",this.tag.style.height=this._options.videoHeight||"100%",e&&this.tag.setAttribute("preload","preload"),t&&"15"!==u.IOS_VERSION&&this.tag.setAttribute("autoplay","autoplay"),u.IS_IOS&&this.tag.setAttribute("poster","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAMZJREFUeAHt0DEBAAAAwqD1T20LL4hAYcCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMDAc2CcpAABaODCqQAAAABJRU5ErkJggg=="),(u.IS_UC||u.dingTalk()||u.IS_QUARK)&&this.tag.setAttribute("renderer","standard"),this._options.extraInfo)for(var r in this._options.extraInfo)u.IS_OPPO&&"crossOrigin"===r||this.tag.setAttribute(r,this._options.extraInfo[r]);f.adaptX5Play(this)},U.prototype.checkOnline=function(){var e;return!(this._options&&!this._options.debug&&0==navigator.onLine&&((e={mediaId:this._options.vid||"",error_code:d.ErrorCode.NetworkUnavaiable,error_msg:_.get("Error_Offline_Text")}).display_msg=_.get("Error_Offline_Text"),this.trigger(k.Player.Error,e),1))},U.prototype.id=function(){return this.el().id},U.prototype.renderUI=function(){},U.prototype.switchUrl=function(){var e,t;this.traceLog(H,"switchUrl"),0!=this._urls.length&&(this._currentPlayIndex=this._currentPlayIndex+1,this._urls.length<=this._currentPlayIndex&&(this._currentPlayIndex=0,this._retrySwitchUrlCount++),e=this._urls[this._currentPlayIndex],g.set(d.SelectedStreamLevel,e.definition,365),this.trigger(k.Private.QualityChange,_.get("Quality_Change_Fail_Switch_Text")),t=this.getCurrentTime(),this._vodRetryCount=0,this._originalSource="",this._loadByUrlInner(e.Url,t,!0))},U.prototype.setControls=function(){var e=this.options();e.useNativeControls?this.tag.setAttribute("controls","controls"):"object"==_typeof(e.controls)&&(e=this._initControlBar(e.controls),this.addChild(e))},U.prototype.enableClickPause=function(){this._clickPauseEnabled=!0},U.prototype.disableClickPause=function(){this._clickPauseEnabled=!1},U.prototype._initControlBar=function(e){return new ControlBar(this,e)},U.prototype.getMetaData=function(){},U.prototype.getReadyTime=function(){return this.readyTime},U.prototype.readyState=function(){return this.tag.readyState},U.prototype.getError=function(){return this.tag.error},U.prototype.getRecentOccuredEvent=function(){return this._eventState},U.prototype.getSourceUrl=function(){return this._options?this._options.source:""},U.prototype.getMonitorInfo=function(){return this._monitor?this._monitor.opt:{}},U.prototype.getCurrentQuality=function(){var e;return 0<this._urls.length?{width:(e=this._urls[this._currentPlayIndex]).width,url:e.Url,definition:e.definition}:""},U.prototype.getCurrentPDT=function(){var e;if((u.IS_SAFARI||u.IS_IOS)&&this.tag)return e=Date.parse(this.tag.getStartDate()),isNaN(e)?0:e+1e3*this.getCurrentTime()},U.prototype.stopPlayTimeMonitor=function(){this._playTimeMonitorTimer&&(clearInterval(this._playTimeMonitorTimer),this._playTimeMonitorTimer=null)},U.prototype.startPlayTimeMonitor=function(){var e=this,t=(this._playingTime=0,this._stuckTime=0,this._stuckCount=0,performance.now()),r=0,i=0,n=!1,o=0;this.stopPlayTimeMonitor(),this._playTimeMonitorTimer=setInterval((function(){var a=e.paused()?n=!0:!e.tag,s=1e3*e.getCurrentTime(),l=performance.now(),c=l-t,u=(t=l,(s-r)/e.tag.playbackRate);r=s,u<0&&(a=!0),null!=(s=e._monitor)&&s.canplayReported||(a=!0),(a="hidden"===document.visibilityState||a)||(n?n=!1:u<.8*c?(c<l-i&&(e._stuckCount++,o=l),l-o>=1e3*e.getOptions().waitingTimeout?e.stopPlayTimeMonitor():(i=l,e._playingTime+=u,e._stuckTime+=c-u)):e._playingTime+=c)}),1e3)},U.prototype.setSpeed=function(e,t){void 0===t&&(t=!0),this.tag&&(this._originalPlaybackRate=e,this.tag.playbackRate=e,t)&&this.trigger(k.Private.PlaybackRateChanged,e)},U.prototype.play=function(e){return this.traceLog(H,"play::"+e),e&&this.trigger(k.Private.ManualPlay),this.tag&&(this.tag.ended||this._ended?this.replay():((this._options.preload||this.loaded)&&this.tag.src||this._initLoad(this._options.source),this.trigger(k.Private.Cover_Hide),this.tag.play())),this._isManualPlay=e||!1,this},U.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this.seek(this._getPlayStartTime()),this.tag.play(),this},U.prototype._getPlayStartTime=function(){return Math.max(0,this._getWatchTimeConfig().watchStartTime||0,this._loadByUrlStartTime||0)},U.prototype._getWatchTimeConfig=function(){var e=this.getOptions(),t=e.start,r=e.end,i=e.watchStartTime;e=e.watchEndTime,i=Number(i),e=Number(e);return(i||e)&&(p.hasValue(t)||p.hasValue(r))?(this._logOnce("Params.watchStartTime and Params.watchEndTime will be ignored when Params.start or Params.end is set","warn"),{watchStartTime:void 0,watchEndTime:void 0}):(e=e||void 0,(i=i||void 0)<0&&(this._logOnce("Params.watchStartTime is less than 0 ["+i+"], setting to undefined","warn"),i=void 0),e<0&&(this._logOnce("Params.watchEndTime is less than 0 ["+e+"], setting to undefined","warn"),e=void 0),e<=i&&(this._logOnce("Params.watchEndTime("+e+") is less than Params.watchStartTime("+i+"), setting to [undefined, "+e+"]","warn"),i=void 0),{watchStartTime:i,watchEndTime:e})},U.prototype._getSubVideoConfig=function(){var e=this.getOptions(),t=e.start;e=e.end,t=Number(t);return e=(e=Number(e))||void 0,(t=t||void 0)<0&&(this._logOnce("Params.start is less than 0 ["+t+"], setting to undefined","warn"),t=void 0),e<0&&(this._logOnce("Params.end is less than 0 ["+e+"], setting to undefined","warn"),e=void 0),e<=t&&(this._logOnce("Params.start("+t+") is greater than Params.end("+e+"), setting to [undefined, "+e+"]","warn"),t=void 0),{start:t,end:e}},U.prototype.pause=function(e){return this.tag&&this.tag.pause(),this._isManualPause=e||!1,this},U.prototype.stop=function(){return this.traceLog(H,"stop"),this.tag.setAttribute("src",null),this},U.prototype.paused=function(){if(this.tag)return!1!==this.tag.paused},U.prototype.getDuration=function(){var e=0,t=(this.tag&&(e=this.isPreview()&&this._vodDuration||this.tag.duration),this._getSubVideoConfig()),r=t.start;t=t.end;return r||t?Math.min(this.tag.duration,t||this.tag.duration)-Math.max(0,r||0):e},U.prototype.getDisplayDuration=function(){var e=0,t=(this.tag&&(e=this._vodDuration||this.getDuration()),this._getSubVideoConfig()),r=t.start;t=t.end;return r||t?Math.min(this.tag.duration,t||this.tag.duration)-Math.max(0,r||0):e},U.prototype.getCurrentTime=function(){return this.tag?this.tag.currentTime-this._posOffset:0},U.prototype.seek=function(e){var t;if(!Number.isNaN(e)&&(e=Number(e),e+=this._posOffset,this._canSeek(e)))return this._ended=!1,t=this.tag.duration,this._doSeek(this,e=t<=e?t:e),this},U.prototype._doSeek=O((function(e){var t=e[0];e=e[1];try{var r=t._originalPlaybackRate||t.tag.playbackRate;-1!==["16"].indexOf(u.IOS_VERSION)&&!t.oncePlayed||(t.tag.currentTime=e),t._seeking=!0,t.traceLog(H,"doSeek::"+e),u.IS_IE11&&setTimeout((function(){t.tag&&(t.tag.playbackRate=r)}))}catch(e){console.log(e)}}),100),U.prototype.traceLog=function(e,t){this.trigger(k.Private.TraceLog,"["+e+"]"+t)},U.prototype._loadByUrlInner=function(e,t,r){this.loadByUrl(e,t,r,!0)},U.prototype.loadByUrl=function(e,t,r,i){var n=this,o=(this.traceLog(H,"loadByUrl::"+e+"#"+t+"#"+r+"#"+i),this._monitor&&this._monitor._onPlayerUnderload(),this._monitor&&!i&&(this._monitor.reportPlayAbort("loadByUrl"),this._monitor.resetVV()),/\.m3u8|\.flv|\.mp4|artc\:\/\/|rtmp\:\/\//gi),a=((this._options.source||"").match(o)||[])[0]!==((e||"").match(o)||[])[0];if(this._options.liveShiftSource&&(a=!1),this._options.enableH266&&(a=!1),this._h265InfoReported=!1,this._probeInfo||(this._probeInfo={}),this._probeInfo.codecTag=void 0,!a&&(p.isMp4(e)||p.isFlv(e)||p.isHls(e)))return this._options.forceH265||this._options.forceH266||!this._options.enableH265&&!this._options.enableH266||u.IS_ANDROID&&u.dingTalk()&&!p.isFlv(e)?void l.call(this):void L(e,this._options,(function(t){t=p.getVideoTrack(t.tracks);var r=(t||{}).codecTag||(null==(r=(t||{}).codec)?void 0:r.split(".")[0]);n._probeInfo.codecTag=r,t&&p.isH265Codec(r)?p.isFlv(e)||p.isHls(e)?(n._splayer||(a=!0),l.call(n)):p.shouldUseBasePlayer({codecTag:r,url:e},(function(e){e?(n._splayer&&(a=!0),n._probeInfo.codecTag&&D.reportH265PlayInfo.call(n,{renderType:"native",codecTag:n._probeInfo.codecTag})):n._splayer||(a=!0),l.call(n)})):(t&&p.isH266Codec(r)?n._splayer||(a=!0):n._splayer&&(a=!0),l.call(n))}),(function(e){l.call(n)}));function l(){var n,o=this;a&&window.Aliplayer?(console.log("[RELOAD INSTANCE]"),this.traceLog(H,"reloadInstance::"+e),this._options.source=e,window.Aliplayer.reloadInstance(this._options,(function(){}),this)):(i||(this._urls=[]),this._monitor&&!i&&(this._monitor.reset(),this._monitor.startHeartBeat()),this._isError=!1,this._clearTimeout(),this.trigger(k.Private.Error_Hide),this._options.source=e,this._posOffset=this._getSubVideoConfig().start||0,this._monitor&&this._monitor.updateVideoInfo({video_id:0,album_id:0,source:e,from:this._options.from}),i||(this.trigger(k.Private.ChangeURL),this._vodRetryCount=0),t&&this._canSeek(t)?this._loadByUrlStartTime=t-this._posOffset:this._loadByUrlStartTime=0,this._options._autoplay=r,this.initPlay(r),(n=this._options.autoplay||r)&&this.trigger(k.Private.Cover_Hide),n?this.trigger(k.Player.Play):this.trigger(k.Player.Pause),this._options.isLive||!t&&0!=t||isNaN(t)||s.one(this.tag,k.Video.CanPlay,(function(e){n&&(u.IS_IOS||u.IS_MAC_SAFARI)&&o._splayer&&o.play()})))}l.call(this)},U.prototype.setLogo=function(e){this._logoManager&&this._logoManager.dispose(),this._logoManager=new N({container:this.el(),video:this.tag,logo:e})},U.prototype.dispose=function(){this.__disposed||(this.__disposed=!0,this.trigger(k.Private.Dispose),this.tag.pause(),y.offAll(this),A.dispose.call(this),this._ratioAdapter&&(this._ratioAdapter.dispose(),this._ratioAdapter=null),this._logoManager&&(this._logoManager.dispose(),this._logoManager=null),this._antiRecord&&(this._antiRecord.dispose(),this._antiRecord=null),this._monitor&&(this._monitor.reportPlayAbort("dispose"),this._monitor.removeEvent(),this._monitor=null),this._autoPlayDelay&&this._autoPlayDelay.dispose(),this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._playingSlientPause&&(clearTimeout(this._playingSlientPause),this._playingSlientPause=null),this._waitingLoadedHandle&&(clearTimeout(this._waitingLoadedHandle),this._waitingLoadedHandle=null),this._ucSourceHandle&&(clearTimeout(this._ucSourceHandle),this._ucSourceHandle=null),this._readyStateTimer&&(clearInterval(this._readyStateTimer),this._readyStateTimer=null),this._vodRetryCountHandle&&(clearTimeout(this._vodRetryCountHandle),this._vodRetryCountHandle=null),this._waitingDelayLoadingShowHandle&&(clearTimeout(this._waitingDelayLoadingShowHandle),this._waitingDelayLoadingShowHandle=null),this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this._flvDumpTimer&&(clearTimeout(this._flvDumpTimer),this._flvDumpTimer=null),this.stopPlayTimeMonitor(),this._disposeService(),this._clearLiveErrorHandle(),this._el.innerHTML="",this.destroy(),this._releaseMediaElement(),this._options.recreatePlayer=null,this._options=null,this.isMutiLevel=!1,this._seis={},this._initPTS=0,this._clickPauseEnabled=!1,this._currentTimeForDisableSeek=0,this._posOffset=0,this._onceLogged=!1)},U.prototype._releaseMediaElement=function(){this.tag.removeAttribute("src"),this.tag.load(),this.tag=null},U.prototype.mute=function(e){return this._muteInner(),this._originalVolumn=this.tag.volume,e||(e=_.get("Volume_Mute"),this._player.trigger(k.Private.Info_Show,{text:e,duration:1e3,align:"lb"})),this._setInnerVolume(0),this},U.prototype._muteInner=function(){this.tag.muted=!0,this.trigger(k.Private.VolumnChanged,-1)},U.prototype.unMute=function(e){return this._unMuteInner(),e||(e=_.get("Volume_UnMute"),this._player.trigger(k.Private.Info_Show,{text:e,duration:1e3,align:"lb"})),this._setInnerVolume(this._originalVolumn||.5),this},U.prototype._unMuteInner=function(){this.tag.muted=!1,this.getOptions().mute&&(this.getOptions().mute=!1),this.trigger(k.Private.VolumnChanged,-2)},U.prototype.muted=function(){return this.tag&&this.tag.muted},U.prototype.getVolume=function(){return this.tag&&this.tag.volume},U.prototype.getOptions=function(){return this._options},U.prototype.setVolume=function(e,t){0!=(e=Math.min(1,Math.max(0,e)))?this._unMuteInner():0==e&&this._muteInner(),this._setInnerVolume(e),e=_.get("Curent_Volume")+"<span>"+(100*e).toFixed()+"%</span>",this._player.trigger(k.Private.Info_Show,{text:e,duration:1e3,align:"lb"})},U.prototype._setInnerVolume=function(e){this.tag.volume=e,this.trigger(k.Private.VolumnChanged,e)},U.prototype.hideProgress=function(){this.trigger(k.Private.HideProgress)},U.prototype.cancelHideProgress=function(){this.trigger(k.Private.CancelHideProgress)},U.prototype.setPlayerSize=function(e,t){this._el&&(this._el.style.width=e,this._el.style.height=t)},U.prototype.getBuffered=function(){return this.tag.buffered},U.prototype.setRotate=function(e){this.tag&&(this._rotate=e,this._setTransform(),this.log("ROTATE",{rotation:e}))},U.prototype.getRotate=function(e){return void 0===this._rotate?0:this._rotate},U.prototype.setImage=function(e){this.tag&&(this._image=e,this._setTransform(),this.log("IMAGE",{mirror:"horizon"==e?2:1,text:e}))},U.prototype.getImage=function(){return this._image},U.prototype.cancelImage=function(){this.tag&&(this._image="",this._setTransform(),this.log("IMAGE",{mirror:0}))},U.prototype.setCover=function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&e&&(t.style.backgroundImage="url("+e+")",this._options.cover=e,this._options.autoplay||this.trigger(k.Private.Cover_Show))},U.prototype.setTextTracks=function(e){this._options.textTracks=e,e=p.unqiueTextTracks(e||[]),this.trigger(k.Private.VttClearTracks),e&&e.length&&this.trigger(k.Private.TextTrackFounded,{from:"user",textTracks:e}),this.trigger(k.Private.CCReset)},U.prototype._setTransform=function(){this._transformProp||(this._transformProp=a.getTransformName(this.tag));var e=" translate(-50%, -50%)";this._rotate&&(e+=" rotate("+this._rotate+"deg)"),this._image&&("vertical"==this._image?e+=" scaleY(-1)":"horizon"==this._image&&(e+=" scaleX(-1)")),this.tag.style[this._transformProp]=e},U.prototype._startPlay=function(){this.tag.paused&&this.tag.play()},U.prototype._initPlayBehavior=function(e,t){var r=this;return!this._checkSupportVideoType()&&(p.validateSource(t)?(void 0===e&&(e=!1),this._created||(this._created=!0,this.trigger(k.Private.Created)),this.loaded||this.trigger(k.Player.Init),this._options.mute&&this.mute(!0),this.one(k.Video.CanPlay,(function(){var e=r._getPlayStartTime();r.getCurrentTime()<e&&r.seek(e),r._loadByUrlStartTime=0,1!==r.tag.playbackRate&&r.setSpeed(r.tag.playbackRate)})),this._options.autoplay||this._options._autoplay||this._options.preload||e?(this._options._preload=!0,this._initLoad(t),!this._options.autoplay&&!this._options._autoplay||this._isError||this._dash||this._startPlay()):this.trigger(k.Private.Play_Btn_Show),!0):((e={mediaId:this._options.vid||"",error_code:d.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=_.get("Error_Invalidate_Source"),this.trigger(k.Player.Error,e),!1))},U.prototype._isPreload=function(){return this._options.autoplay||this._options.preload||this._options._preload},U.prototype._initLoad=function(e){e&&(this._isPreload()&&!u.IS_MOBILE?this.trigger(k.Private.H5_Loading_Show):(this.trigger(k.Private.H5_Loading_Hide),this.trigger(k.Private.Play_Btn_Show)),this.tag.setAttribute("src",e),this.oncePlayed=!1,this.loaded=!0)},U.prototype._clearLiveErrorHandle=function(){this._liveErrorHandle&&(clearTimeout(this._liveErrorHandle),this._liveErrorHandle=null)},U.prototype._reloadAndPlayForM3u8=function(){0==this._liveRetryCount&&this.trigger(k.Player.OnM3u8Retry);var e=this._options,t=e.liveRetryInterval+e.liveRetryStep*this._liveRetryCount,r=this;this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this.traceLog(H,"reloadAndPlayForM3u8::#"+r._options.source+"#"+1e3*t),this._liveRetryTimer=setTimeout((function(){r._liveRetryCount++,r._loadByUrlInner(r._options.source,void 0,e.autoplay)}),1e3*t)},U.prototype._checkSupportVideoType=function(){var e,t=this,r=this._options.source,i="";if(p.isRTMP(r)&&!this._options.useFlashPrism)i=_.get("Error_Not_Support_RTMP");else if(p.isDash(r)&&!p.isSupportMSE())i=_.get("Error_Not_Support_Mse_Dash");else if(!this.tag.canPlayType||!this._options.source||!u.IS_MOBILE)return"";return 0<r.indexOf("m3u8")?""!=this.tag.canPlayType("application/x-mpegURL")||p.isSupportHls()||(i=_.get("Error_Not_Support_M3U8_Text")):0<r.indexOf("mp4")?""==this.tag.canPlayType("video/mp4")&&(i=_.get("Error_Not_Support_MP4_Text")):(p.isRTMP(r)||p.isFlv(r))&&u.IS_MOBILE&&(this._options.useFlvPlugOnMobile?p.isSupportFlv()||(i=_.get("Error_Not_Support_Mse_Flv")):i=_.get("Error_Not_Support_Format_On_Mobile")),i&&(r=p.getFormat(r),e={mediaId:this._options.vid||"",error_code:d.ErrorCode.FormatNotSupport,error_msg:i+(r?"(format:"+r+")":"")},this.logError(e),e.display_msg=i,setTimeout((function(){t.trigger(k.Player.Error,e)}))),i},U.prototype._handleLongPress=function(e,t){var r,i,n=this;function o(){i?(clearTimeout(i),i=null):s.trigger(t,"longPressEnd")}e.longPressFastForward&&(t=t||this.tag,s.on(t,"longPress",(function(){n.trigger(k.Private.FastForwardShow),r=n.tag.playbackRate,n.tag.playbackRate=2})),s.on(t,"longPressEnd",(function(){n.trigger(k.Private.FastForwardHide),n.tag.playbackRate=r})),i=null,s.on(t,"touchstart",(function(){i&&clearTimeout(i),i=setTimeout((function(){i=null,s.trigger(t,"longPress")}),500)})),s.on(t,"touchend",o),s.on(t,"touchcancel",o))},U.prototype._handleClickPause_dbClickFullscreen=function(e,t){var r,i,n,o=this,a=null;!e.isLive&&e.clickPause&&(this._clickPauseEnabled=!0,r=u.IS_IOS?"touchstart":"click",t=t||this.tag,s.on(t,r,(function(){o._clickPauseEnabled&&(e.dbClickFullscreen?(a&&clearTimeout(a),a=setTimeout((function(){o.paused()?o.play(!0):o.pause(!0),a=null}),e.clickPauseDelay)):o.paused()?o.play(!0):o.pause(!0))}))),e.dbClickFullscreen&&(i=function(){a&&(clearTimeout(a),a=null);var e=this.fullscreenService;e.getIsFullScreen()?e.cancelFullScreen():e.requestFullScreen(),this.trigger(k.Private.MarkerTextHide),s.trigger(this.tag,"touchend")},u.IS_IOS?(n=null,s.on(this.tag,"touchstart",(function(){n=n?(i.call(o),clearTimeout(n),null):setTimeout((function(){n=null}),e.dbClickFullscreenDelay)}))):s.on(this.tag,"dblclick",(function(){i.call(o)})))},U.prototype.getComponent=function(e){return this._lifeCycleManager.getComponent(e)},U.prototype.logError=function(e,t){(this._options.autoplay||this._options._autoplay)&&this._monitor&&this._monitor.reportStartPlay(),(e=e||{}).vt=this.getCurrentTime(),this.log(t?"ERRORRETRY":"ERROR",e)},U.prototype.log=function(e,t){var r=0,i=0;if(this._monitor)return this._options&&(r=this._options.vid||"0",i=this._options.from||"0"),this._monitor.updateVideoInfo({video_id:r,album_id:0,source:this._options.source,from:i}),this._monitor._log(e,t)},U.prototype.setSanpshotProperties=function(e,t,r){if(this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric.width=e,this._snapshotMatric.height=t,1<r)throw new Error("rate doesn't allow more than 1");this._snapshotMatric.rate=r},U.prototype.setSnapshotProperties=function(e,t,r){this.setSanpshotProperties(e,t,r)},U.prototype.takeSnapshot=function(){var e=document.createElement("canvas"),t=this.tag,r=t.videoWidth,i=t.videoHeight,n=this._getSanpshotMatric(),o=(e.width=n.width||r,e.height=n.height||i,this.getCurrentTime()),a=e.getContext("2d"),s=(a.save(),this.getImage());"vertical"==s?(a.translate(0,e.height),a.scale(1,-1)):"horizon"==s&&(a.translate(e.width,0),a.scale(-1,1)),s=t,this._splayer&&(s=2===this._splayer.renderType?this._el.querySelector("canvas"):this._el.querySelector("video")),a.drawImage(s,0,0,r,i),a.restore(),p.drawSnapshotText(a,this.getOptions()),t="",s="";try{t=e.toDataURL("image/jpeg",n.rate||1)}catch(e){(s=e)&&s.message&&-1<s.message.indexOf("Tainted canvases")&&(s=new Error('截图功能需要设置播放器参数 extraInfo: { crossOrigin:"anonymous" }'))}return r="",i="",t&&(a=(r=t).substr(r.indexOf(",")+1),i=h.toBinary(a)),{time:o,base64:r,binary:i,error:s}},U.prototype.getStatus=function(){return this._status||"init"},U.prototype.enterProgressMarker=function(){this._enteredProgressMarker=!0},U.prototype.isInProgressMarker=function(){return this._enteredProgressMarker},U.prototype.exitProgressMarker=function(){this._enteredProgressMarker=!1},U.prototype.setProgressMarkers=function(e){this.trigger(k.Private.ProgressMarkerChanged,e=e||[])},U.prototype.getProgressMarkers=function(){return this._progressMarkerService?this._progressMarkerService.progressMarkers:[]},U.prototype.setPreviewTime=function(e){this._options.playConfig||(this._options.playConfig={}),this._options.playConfig.PreviewTime=e},U.prototype.getPreviewTime=function(){var e=0;return this._options.playConfig?this._options.playConfig.PreviewTime:e},U.prototype.exceedPreviewTime=function(e){return this.isPreview()&&e>=this._options.playConfig.PreviewTime},U.prototype.isPreview=function(){var e=this._options.playConfig.PreviewTime,t=this._vodDuration||this.tag.duration;return 0<e&&e<t},U.prototype.getStats=function(){return new i((function(e){e()}))},U.prototype.setTraceId=function(e){this._monitor&&this._monitor.updateTraceId(e)},U.prototype._canSeek=function(e){var t=this._getSubVideoConfig(),r=t.start;t=t.end;return r||t?!(e<r||t<e):!(!(r=this._getWatchTimeConfig()).watchStartTime||r.watchEndTime)||!(e<r.watchStartTime||e>r.watchEndTime)},U.prototype.setWatchTime=function(e,t){this._options.watchStartTime=e,this._options.watchEndTime=t,this.trigger(k.Private.UpdateWatchTime),e=this.getCurrentTime(),t=this._getWatchTimeConfig(),e<t.watchStartTime?this.seek(t.watchStartTime):e>t.watchEndTime&&this.seek(t.watchEndTime)},U.prototype.setNextWatchTime=function(e,t){this._options.watchStartTime=e,this._options.watchEndTime=t},U.prototype.setStartEnd=function(e,t){this._options.start=e,this._options.end=t,e=this._getSubVideoConfig(),this._posOffset=e.start||0,this.trigger(k.Player.DurationChange),t=this.getCurrentTime()+this._posOffset,t<e.start?this.seek(0):t>e.end&&this.seek(e.end-this._posOffset)},U.prototype.setNextStartEnd=function(e,t){this._options.start=e,this._options.end=t},U.prototype.getPlayTime=function(){return Math.round(this._playingTime/1e3)},U.prototype._getSanpshotMatric=function(){return this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric},U.prototype._autoplayFailedHandler=function(){var e,t=this;null!=(e=this.getOptions().autoplayPolicy)&&e.fallbackToMute&&!this.muted()?(this.mute(!0),(e=this.tag.play())?e.then((function(){t.trigger(k.Private.MutedAutoplay)})).catch((function(e){t.tag.paused?(console.warn("Muted autoplay failed",e),t.unMute(!0)):t.one("canplay",(function(){t.trigger(k.Private.MutedAutoplay)}))})):this.paused()?this.unMute(!0):this.trigger(k.Private.MutedAutoplay)):(this.oncePlayed=!1,this.trigger(k.Private.Play_Btn_Show),this.trigger(k.Private.H5_Loading_Hide),this.trigger(k.Player.AutoPlayPrevented),this.trigger(k.Player.AutoPlay,!1),this._options.cover&&this.trigger(k.Private.Cover_Show))},U.prototype._overrideNativePlay=function(){var e=this.tag.play,t=this;this.tag.play=function(){if(t._monitor&&t._monitor.reportStartPlay(),!t._options.source)return r={mediaId:t._options.vid||"",error_code:d.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"},t._options.vid||t._options.mediaAuth?void 0:(r.display_msg=_.get("Error_Empty_Source"),void t.trigger(k.Player.Error,r));t.readyTime=(new Date).getTime();var r=e.apply(t.tag),i=(t.oncePlayed=!0,void 0!==r&&r.then((function(){t.trigger(k.Player.AutoPlay,!0)})).catch((function(e){!t.tag||!t.tag.paused||t._isError||t._options._autoplay||t._switchedLevel||t._autoplayFailedHandler()})),t._originalPlaybackRate||t.tag.playbackRate);return setTimeout((function(){t.tag&&(t.tag.playbackRate=i)})),r}},U.prototype._extraMultiSources=function(){var e=this._options.source;if(e&&-1<e.indexOf("{")&&-1<e.indexOf("}")){var t="";try{t=JSON.parse(e)}catch(e){console.error(e),console.error("地址json串格式不对")}var r,i=[];for(r in t){var n=d.QualityLevels[r];i.push({definition:r,Url:t[r],desc:n||r})}this._setupSourceList(i)}return i},U.prototype._setupSourceList=function(e){var t;(e=void 0===e?[]:e).length&&(this._currentPlayIndex=p.findSelectedStreamLevel(e,this._options.defaultDefinition),t=e[this._currentPlayIndex],this._urls=e,this._options.source=t.Url,this.trigger(k.Private.SourceLoaded,t))},U.prototype._createService=function(){if(C)for(var e=C.length,t=0;t<e;t++){var r=C[t],i=r.condition;void 0===i?i=!0:"function"==typeof i&&(i=i.call(this)),i&&(this[r.name]=new r.service(this))}},U.prototype._disposeService=function(){if(C)for(var e=C.length,t=0;t<e;t++){var r=this[C[t].name];void 0!==r&&r.dispose&&r.dispose()}},U.prototype._executeReadyCallback=function(){if(!this._options._readyCallbackCalled){this._options._readyCallbackCalled=!0;try{this._options.autoplay||this._options.preload||(this.trigger(k.Private.H5_Loading_Hide),this.trigger(k.Private.Play_Btn_Show)),this._options.readyCallback(this)}catch(O){console.log(O)}}},U.prototype._clearTimeout=function(){this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._decodeErrorNudgeTimer&&(clearTimeout(this._decodeErrorNudgeTimer),this._decodeErrorNudgeTimer=null),this._clearLiveErrorHandle()},U.prototype._reloadForVod=function(){var e,t,r;return this._originalSource||(this._originalSource=this._options.source),!!(this._vodRetryCount<this._options.vodRetry&&navigator.onLine)&&(e=this.getCurrentTime(),(t=this._originalSource).indexOf("auth_key=")<0&&(t=t&&0<t.indexOf("?")?t+"&_t="+(new Date).valueOf():t+"?_t="+(new Date).valueOf()),this._vodRetryCountHandle&&clearTimeout(this._vodRetryCountHandle),(r=this).traceLog(H,"reloadForVod::#"+t+"#"+100*this._vodRetryCount),this._vodRetryCountHandle=setTimeout((function(){r._loadByUrlInner(t,e,r.getOptions().autoplay)}),100*this._vodRetryCount),this._vodRetryCount=this._vodRetryCount+1,!0)},U.prototype._getUserTextTracks=function(){var e=this._options.textTracks||[];(e=p.unqiueTextTracks(e)).length&&this.trigger(k.Private.TextTrackFounded,{from:"user",textTracks:e})},U.prototype._logOnce=function(e,t){this._onceLogged||(console[t||"log"](e),this._onceLogged=!0)},t.exports=U}).call(this)}).call(this,"prod")},{"../../commonui/autostreamselector":12,"../../feature/AntiRecord":17,"../../feature/autoplaydelay":18,"../../feature/keyboardControl":19,"../../feature/license":20,"../../feature/logoManager":21,"../../feature/ratioAdapter":22,"../../lang/index":24,"../../lib/codec-probe":27,"../../lib/constants":29,"../../lib/cookie":30,"../../lib/dom":33,"../../lib/event":34,"../../lib/object":43,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../../lib/vttnext/index":55,"../../monitor/monitor":63,"../../ui/component":132,"../../ui/component/cover":136,"../../ui/component/double-click-skip":137,"../../ui/component/press-fast-forward":144,"../../ui/component/progressmarker":146,"../../ui/component/text-track-display":157,"../../ui/component/util":162,"../../ui/exports":165,"../service/export":121,"../splayer/splayerinjector":128,"./event/eventmanager":67,"./event/eventtype":68,"./plugin/lifecyclemanager":94,"./x5play":96,"es6-promise":9}],92:[function(e,t,r){e=e("../../../lib/oo").extend({}),t.exports=e},{"../../../lib/oo":44}],93:[function(e,t,r){t.exports={createEl:"createEl",created:"created",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",timeUpdate:"timeupdate",error:"error",ended:"ended",dispose:"dispose",markerDotOver:"markerDotOver",markerDotOut:"markerDotOut"}},{}],94:[function(e,t,r){function i(e){(this._player=e)._status="init",this.components=[];var t=e.getOptions().components;if(t&&n.isArray(t)&&0<t.length)for(var r=0;r<t.length;r++){var i=t[r];if(!i)return void console.log("The "+r+" custome component is "+i);var s=void 0===i.type?i:i.type,c=void 0===i.args?[]:i.args;i=void 0===i.name?"":i.name;if(!s)return void console.log(i+" compenent is "+s);c=c&&0<c.length?[].concat.call([s],c):[],s=new(Function.prototype.bind.apply(s,c)),c=s[a.createEl],c&&"function"==typeof c&&c.call(s,e.el(),e),this.components.push({name:i,obj:s})}var u=this;e.on(o.Private.LifeCycleChanged,(function(t){var r=t.paramData,i=r.type;i===o.Video.CanPlayThrough&&u._player.trigger(o.Player.TimeUpdate,r.data.target.currentTime),i===o.Video.Ended&&u._player.trigger(o.Player.TimeUpdate,u._player.getDuration()),0!=u.components.length&&l.call(u,e,t)}))}var n=e("../../../lib/object"),o=e("../event/eventtype"),a=e("./lifecycle"),s=e("./status"),l=(i.prototype.getComponent=function(e){var t=null,r=this.components.length;if(e)for(var i=0;i<r;i++)if(this.components[i].name==e){t=this.components[i].obj;break}return t},function(e,t){if(t){t=t.paramData;for(var r=t.type,i=t.data,n=((t=r)!=o.Video.LoadStart&&t!=o.Video.LoadedData&&t!=o.Video.LoadedMetadata||(r=a.loading),c(e,r),this.components.length),s=0;s<n;s++){var l=this.components[s].obj,u=l[r];u&&"function"==typeof u&&u.call(l,e,i)}r==o.Private.Dispose&&(this.components=[])}}),c=function(e,t){void 0===s[t]||t==s.pause&&(e._status==s.error||e._status==s.ended)||t==s.ready&&e._status==s.playing||(e._status=t)};t.exports=i},{"../../../lib/object":43,"../event/eventtype":68,"./lifecycle":93,"./status":95}],95:[function(e,t,r){t.exports={init:"init",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",error:"error",ended:"ended"}},{}],96:[function(e,t,r){function i(e,t){var r=e.el().style.height,i=e.el().style.width,n=(e.originalLayout={container:{height:r,width:i},video:{width:e.tag.style.width,height:e.tag.style.height}},document.body.clientHeight*(window.devicePixelRatio||1)+"px"),o=document.body.clientWidth+"px";width=t?(height=n,o):(height=r.indexOf("%")?r:r+"px",i.indexOf("%")?i:i+"px"),e.tag.style.width=o,e.tag.style.height=n,e.el().style.height=t?n:height}var n=e("../../lib/ua"),o=e("../../lib/dom");t.exports.isAndroidX5=function(){return n.os.android&&n.is_X5||n.dingTalk()},t.exports.adaptX5Play=function(e){n.os.android&&n.is_X5&&("h5"==e._options.x5_type&&(e.tag.setAttribute("x5-video-player-type",e._options.x5_type),window.onresize=function(){var t,r;i(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),"landscape"==(t=e)._x5VideoOrientation&&(t._originalTagWidth=t.tag.style.width,t._originalTagHeight=t.tag.style.height,(r=document.querySelector("#"+t.id()+" .prism-controlbar"))&&parseFloat(r.offsetHeight),t.tag.style.height="100%",t.tag.style.width=window.screen.width+"px")},e.tag.addEventListener("x5videoenterfullscreen",(function(){i(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),e.trigger("x5requestFullScreen")})),e.tag.addEventListener("x5videoexitfullscreen",(function(){var t,r;(t=e).originalLayout&&(r=t.originalLayout,t.el().style.height=r.container.height,t.el().style.width=r.container.width,t.tag.style.width=r.video.width,t.tag.style.height=r.video.height),e.trigger("x5cancelFullScreen"),e.fullscreenService.getIsFullScreen()&&e.fullscreenService.cancelFullScreen()})),e.on("requestFullScreen",(function(){"top"==e._options.x5_video_position&&o.removeClass(e.tag,"x5-top-left"),n.os.android&&n.is_X5&&e._options.x5LandscapeAsFullScreen&&(e.tag.setAttribute("x5-video-orientation","landscape"),e._x5VideoOrientation="landscape")})),e.on("cancelFullScreen",(function(){"top"==e._options.x5_video_position&&o.addClass(e.tag,"x5-top-left"),n.os.android&&n.is_X5&&e._options.x5LandscapeAsFullScreen&&(e.tag.setAttribute("x5-video-orientation","portrait"),i(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),e._x5VideoOrientation="portrait")}))),void 0!==e._options.x5_fullscreen&&e._options.x5_fullscreen&&(e.tag.setAttribute("x5-video-player-fullscreen",e._options.x5_fullscreen),o.addClass(e.tag,"x5-full-screen")),"top"==e._options.x5_video_position&&o.addClass(e.tag,"x5-top-left"),void 0!==e._options.x5_orientation)&&e.tag.setAttribute("x5-video-orientation",e._options.x5_orientation)}},{"../../lib/dom":33,"../../lib/ua":49}],97:[function(e,t,r){var i=e("../../lib/object"),n=e("../../lib/io"),o=e("../../config"),a=e("../../lang/index"),s=e("../../lib/constants"),l=e("../../lib/playerutil"),c=e("../base/event/eventtype"),u="dashinjector.js";t.exports.inject=function(e,t,r,d){var p=d.source;if(!function(e){return!this._dash&&l.isDash(e)&&l.isSupportMSE()}.call(e,p))return console.warn("Should not inject dash player");function h(){this._disposed||(this._disposed=!0,this._destroyDash(),this._superPt&&(this._superPt.dispose.call(this),t.prototype.play=this._superPt.play,t.prototype.pause=this._superPt.pause,t.prototype.initPlay=this._superPt.initPlay,t.prototype.seek=this._superPt.seek,t.prototype.canSeekable=this._superPt.canSeekable))}e._Type=t,e._superType=r,e._superPt=r.prototype,e._disposed=!1,e._dash=null,t.prototype.initPlay=function(){var e=this,t=(this.trigger(c.Private.H5_Loading_Show),performance.now());(function(e,t){var r="aliplayer-dash-min.js",i=this.getOptions();r=i.dashjsUrl||"https://"+o.domain+o.path+o.h5Version+"/dash/"+r;i.assetPrefix&&(i.assetPrefix,function(e){throw new TypeError('"url" is read-only')}()),n.loadJS(r,e,t)}).call(this,(function(){e.traceLog(u,"got js#"+parseInt(performance.now()-t)+"ms"),function(){var e,t,r,n=!this._dash;this._disposed||(this._destroyDash(),(e=this.getOptions()).vid||(e.isVBR=!0),t={streaming:{retryAttempts:{MPD:e.isLive?e.liveRetry:e.vodRetry}}},t=i.deepMerge(t,e.dashOption),r=dashjs.MediaPlayer().create(),this._dash=r,function(){var e=this,t=this._dash,r=this.getOptions(),i=!1;t.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,(function(r){var n,o;i||(i=!0,o=null==(o=t.getBitrateInfoListFor("video"))?void 0:o.map((function(e){return{url:""+s.DASH_QUALITY_PROTOCOL+e.qualityIndex,width:e.width,height:e.height,bitrate:e.bitrate,attrs:{BANDWIDTH:e.bitrate,RESOLUTION:e.width+"x"+e.height}}})),e.trigger(c.Player.LevelsLoaded,{levels:o}),n=t.getCurrentTrackFor("audio"),o=t.getTracksFor("audio").map((function(e){return{id:e.index,language:e.lang,enabled:(null==n?void 0:n.index)===e.index}})),e.trigger(c.Player.AudioTrackUpdated,{audioTracks:o}))})),t.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,(function(t){var r,i;"video"===t.mediaType&&(r=e._qualityService.levels||[],i=""+s.DASH_QUALITY_PROTOCOL+t.newQuality,t=r.find((function(e){return e.Url===i})),e.trigger(c.Private.QualityChange,{levelSwitch:!0,url:i,desc:null==t?void 0:t.desc}))})),t.on("bytesAppendedEndFragment",(function(r){try{var i,n;"video"===r.mediaType&&(i=r.bufferedRanges.length)&&(n=r.bufferedRanges.end(i-1),r.startTime>n)&&(t.refreshManifest(),e.traceLog(u,"PTS rollback, refresh manifest, expectedStart: "+r.startTime+", resultBufferEnd: "+n),console.warn("PTS rollback, refresh manifest"))}catch(r){console.log("exception",r)}})),t.on(dashjs.MediaPlayer.events.ERROR,(function(i){var n=i.error,o=dashjs.MediaPlayer.errors,l=function(e){var t,r,i={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],i[r]=t);return i}(o)[n.code],d=[o.TIME_SYNC_FAILED_ERROR_CODE,o.TIMED_TEXT_ERROR_ID_PARSE_CODE];if(console.log("dash error",i,"code:",l),e.traceLog(u,"dashjs-error::"+l+"#"+n.message+"#"+(null==(i=n.data)||null==(i=i.response)?void 0:i.status)),!d.includes(n.code)){e._clearTimeout();var p,h,f,g=n.code;switch(g){case o.DOWNLOAD_ERROR_ID_CONTENT_CODE:case o.DOWNLOAD_ERROR_ID_MANIFEST_CODE:case o.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:case o.DOWNLOAD_ERROR_ID_SIDX_CODE:case o.DOWNLOAD_ERROR_ID_XLINK_CODE:case o.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:case o.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:var _=null==(_=n.data)||null==(_=_.response)?void 0:_.status;if(404===_){if(t.isDynamic()&&g===o.DOWNLOAD_ERROR_ID_CONTENT_CODE)return e.traceLog(u,"dashjs::reload mpd because seg 404"),void t.attachSource(r.source);p=s.ErrorCode.NotFoundSourceURL,h=a.get("Error_Not_Found"),f=a.get("Tip_Err_Not_found")}else h=403===_?(p=s.ErrorCode.AuthKeyExpired,a.get("Error_AuthKey_Text")):0===_?(p=s.ErrorCode.RequestDataError,a.get("Error_Play_Text")+","+a.get("Maybe_Cors_Error")):(p=s.ErrorCode.RequestDataError,a.get("Error_Network_Text")+"("+l+"|"+_+")");break;case o.MANIFEST_ERROR_ID_NOSTREAMS_CODE:case o.MANIFEST_ERROR_ID_MULTIPLEXED_CODE:case o.MANIFEST_ERROR_ID_PARSE_CODE:case o.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:case o.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:p=s.ErrorCode.LoadedMetadata,h=a.get("Error_Manifest_Decode_Text")+"("+l+")";break;default:p=s.ErrorCode.OtherError,h=a.get("Error_Play_Text")+"("+l+")"}h+="<br>"+n.message,i={mediaId:r.vid||"",mediaAuth:r.mediaAuth||"",error_code:p,error_msg:h,diagnosis_info:f},e.logError(i),e.trigger(c.Player.Error,i),e._dash.reset()}}))}.call(this),r.initialize(),r.updateSettings(t),r.setAutoPlay(e.autoplay),r.attachView(this.tag),r.attachSource(e.source),this._initPlayBehavior(),n&&this._executeReadyCallback())}.call(e)}),(function(){var t={mediaId:d.vid||"",mediaAuth:d.mediaAuth||"",error_code:s.ErrorCode.ModuleLoadError,error_msg:"dash module load error."};e.trigger(c.Player.Error,t)}))},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return h},set:function(){return h}}),t.prototype._switchLevel=function(e){this.traceLog(u,"switchLevel::"+e);var t=this._dash;e?(e=Number(e.replace(s.DASH_QUALITY_PROTOCOL,"")),t.updateSettings({streaming:{abr:{autoSwitchBitrate:{audio:!1,video:!1}}}}),t.setQualityFor("video",e)):t.updateSettings({streaming:{abr:{autoSwitchBitrate:{audio:!0,video:!0}}}})},t.prototype._switchAudioTrack=function(e){var t=this._dash,r=t.getTracksFor("audio").find((function(t){return t.index===e}));r&&t.setCurrentTrack(r)},t.prototype._destroyDash=function(){this._dash&&(this._dash.destroy(),this._dash=null)}}},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../../lib/object":43,"../../lib/playerutil":46,"../base/event/eventtype":68}],98:[function(e,t,r){var i=e("../base/player"),n=e("./dashinjector"),o=i.extend({init:function(e,t){t._native=!1,n.inject(this,o,i,t),i.call(this,e,t)}});t.exports=o},{"../base/player":91,"./dashinjector":97}],99:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}var n=e("../../lib/io"),o=e("../../config"),a=e("../../lib/constants"),s=e("../../lib/util"),l=e("../../lib/playerutil"),c=(e("../../lib/dom"),e("../../lang/index")),u=e("../base/event/eventtype"),d=e("../saas/drm"),p=e("../../lib/ua"),h="drminjector.js",f=function(){function e(){}var t=e.prototype;return t.destroy=function(){},t.append=function(e){},t.remove=function(e,t){},t.isTextVisible=function(){},t.setTextVisibility=function(e){},e}();t.exports.inject=function(e,t,r,g,_,m,y){var v,b=g.source;function w(e){var t=shaka.util.Error.Code,r="",i=e.data||[];switch(e.code){case t.BAD_HTTP_STATUS:case t.HTTP_ERROR:case t.TIMEOUT:case t.LICENSE_REQUEST_FAILED:r=c.get("Tip_Drm_Request_Err")+S(i);break;case t.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:case t.SESSION_TIMEOUT:window.isSecureContext?(r=c.get("Tip_Drm_Key_System_Unavailable"),i.length&&(r+="<br />"+c.get("Tip_Err_Common_Short")+i)):r=c.get("Tip_Drm_Secure_Context");break;case t.FAILED_TO_CREATE_CDM:"file:"===window.location.protocol&&(r=c.get("Tip_Drm_File_Not_Allowed"));break;case t.HLS_INVALID_PLAYLIST_HIERARCHY:r=c.get("Tip_Drm_Playlist_Hierarchy")}return e=S(i),r||e}function S(e){return c.get("Tip_Err_Common")+e}function x(e){var t=this;this._drm.load(this._options.source,e.startTime).then((function(){if(t.trigger(u.Private.H5_Loading_Hide),e.continuePlay&&(t.play(),e.prevVariant)&&0!==e.prevVariant){for(var r,i=t._drm.getVariantTracks(),n=0;n<i.length;n++)if(i[n].id===e.prevVariant){r=i[n];break}r&&t._drm.selectVariantTrack(r,!0)}})).catch((function(e){k.call(t,e)}))}function T(){E();var e=a.ErrorCode.DrmNotSupported,t=c.get("Error_Drm_Not_Supported");e={mediaId:this._options.vid||"",error_code:e,error_msg:t,diagnosis_info:c.get("Tip_Drm_Unsupported")};this.logError(e),this.trigger(u.Player.Error,e)}function k(e){E();var t=a.ErrorCode.DrmLoadError,r=c.get("Error_Drm_Load");t={mediaId:this._options.vid||"",error_code:t,error_msg:r+" | "+this._shakaCodeMap[e.code],drm_info:JSON.stringify({cdmData:this._cdmData,licenseData:this._licenseData})};this.logError(t),t.diagnosis_info=w.call(this,e),this.trigger(u.Player.Error,t)}function E(){this._sessionTimer&&(clearTimeout(this._sessionTimer),this._sessionTimer=null)}function C(e,t){t=t.getVariantTracks().find((function(e){return e.active})),console.log("activeTrack",t),e.trigger(u.Private.QualityChange,{levelSwitch:!0,bitrate:t.bandwidth,desc:t.height})}!m&&(g=b,e._drm||!l.isDash(g)&&!l.isHls(g))||(e._isDrm=!0,e._drm=null,e._isLoadedDrm=!1,e._sessionTimer=null,e._isFairPlay=p.IS_MAC_SAFARI||p.IS_IOS,e._fairPlayHandlers={},e._shakaCodeMap={},e._cdmData="",e._licenseData="",console.log("use FairPlay",e._isFairPlay),t.prototype._checkDrmReady=function(){return!(null==this._drm&&!this._isFairPlay&&(console.warn("please invoke this method after ready event"),1))},t.prototype.play=function(e){if(this.traceLog(h,"play::"+e),this._checkDrmReady())return this._isManualPlay=e||!1,this.trigger(u.Private.Cover_Hide),this.tag.ended?this.replay():(this.getCurrentTime(),this.tag.paused&&this.tag.play()),this},t.prototype.initPlay=function(e){var t,r,g;function m(e,t){var r,n,o,a;e._antiRecord&&(console.log("Manual check before load source"),e._antiRecord.check())||(!shaka.Player.isBrowserSupported()||function(){return!(!p.IS_ANDROID||!p.IS_UC&&!p.IS_FIREFOX)}()?T.call(e):(r=null,shaka.Player.probeSupport().then((function(t){r&&(clearTimeout(r),r=null),t&&t.drm&&t.drm["com.widevine.alpha"]?e.destroy(a):T.call(e)})),r=setTimeout((function(){T.call(e)}),5e3),n=!e._drm,o=function(){var r,o,a;e._drm=new shaka.Player(e.tag),v(e,e._drm),shaka.util.Error.Code.SESSION_TIMEOUT="SESSION_TIMEOUT",e._shakaCodeMap=(r=shaka.util.Error.Code,o={},Object.keys(r).forEach((function(e){o[r[e]]=e})),o),a=e._options.isLive?"https://"+l.getLiveHostByRegion(e._options.region):"https://vod."+e._options.region+".aliyuncs.com",e._drm.configure(i({drm:{servers:{"com.widevine.alpha":a,"com.microsoft.playready":a},retryParameters:{maxAttempts:1}}},e._options.drmOption||{},{textDisplayFactory:function(){return new f}})),e._drm.getNetworkingEngine().registerRequestFilter((function(t,r){shaka.util.StringUtils;var i=shaka.util.Uint8ArrayUtils;t==shaka.net.NetworkingEngine.RequestType.LICENSE&&(t=i.toBase64(new Uint8Array(r.body)),i=e._options.isLive?d.getRequestUrl(t,e):d.postData(t,e),e._cdmData=t,r.uris[0]=i.url,r.headers["content-type"]="application/x-www-form-urlencoded",r.body=i.data)})),e._drm.getNetworkingEngine().registerResponseFilter((function(t,r){var i=shaka.util.StringUtils,n=shaka.util.Uint8ArrayUtils;t==shaka.net.NetworkingEngine.RequestType.LICENSE&&(t=i.fromUTF8(r.data),i=JSON.parse(t),t=e._options.isLive?i.Response.B64License:JSON.parse(i.License).b64License,e._licenseData=t,r.data=n.fromBase64(t))})),e._drm.addEventListener("error",(function(e){console.log("errorMessage"),console.log(e.detail.code),console.log(e.detail)})),e._drm.load(e._options.source).then((function(){e._initPlayBehavior(t)})).catch((function(t){k.call(e,t)})),E.call(e),e.one(u.Video.CanPlay,(function(){E.call(e)})),e._sessionTimer=setTimeout((function(){e._isError||(k.call(e,{code:"SESSION_TIMEOUT"}),e._drm&&e._drm.destroy())}),e._player.getOptions().drmSessionTimeout||5e3),_&&_(e._drm),n&&(e._executeReadyCallback(),e._urls)&&0<e._urls.length&&(e._currentPlayIndex=l.findSelectedStreamLevel(e._urls,e._options.defaultDefinition),a=e._urls[e._currentPlayIndex],e.trigger(u.Private.SourceLoaded,a))},a=function(e){try{o()}catch(e){console.log(e)}}))}s.contentProtocolMixed(b)?(E(),(t={mediaId:this._options.vid||"",error_code:a.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=c.get("Request_Block_Text"),this.trigger(u.Player.Error,t)):this._options.accessKeyId&&this._options.accessKeySecret?((r=this)._waitingTimeoutCount=1,this._isFairPlay?(this.trigger(u.Private.H5_Loading_Show),function(e,t){var r;this._isFairPlay&&(function(){var e;return p.IS_IOS?(e=parseInt(p.os.version),console.log("osVersion",e),12<=e):p.IS_MAC_SAFARI?(e=parseInt(p.browser.version),console.log("browserVersion",e),12<=e):void 0}()?((r=this).destroy(),d.loadCertificate(this,(function(){e&&e(),r._initPlayBehavior(t,r._options.source),r._executeReadyCallback()}))):T.call(this))}.call(this,_,e)):this._isLoadedDrm&&"undefined"!=typeof shaka?m(this,e):(this.trigger(u.Private.H5_Loading_Show),g=performance.now(),function(e,t){var r="aliplayer-drm-min.js",i="",a=(i=o.domain?"https://"+o.domain+o.path+o.h5Version+"/drm/"+r:"/build/drm/"+r,this._options.shakaUrl&&(i=this._options.shakaUrl),this);n.loadJS(i,(function(){shaka.polyfill.installAll(),e.apply(a)}),(function(e){t&&t(e)}))}.call(r,(function(){this.traceLog(h,"got js#"+parseInt(performance.now()-g)),this._isLoadedDrm=!0,m(this,e)}),(function(e){e={mediaId:r._options.vid||"",mediaAuth:r._options.mediaAuth||"",error_code:a.ErrorCode.ModuleLoadError,error_msg:"drm player module load error."+(e?e.message:"")},r.trigger(u.Player.Error,e)})))):(E(),(t={mediaId:this._options.vid||"",error_code:a.ErrorCode.InvalidParameter,error_msg:"No sts params."}).display_msg=c.get("Error_Drm_No_Sts"),this.trigger(u.Player.Error,t))},t.prototype.destroy=function(e){var t;this._drm?(E.call(t=this),this._drm.destroy().then((function(){t._drm=null,"function"==typeof e&&e(t)}))):(this._isFairPlay&&this._destroyFairPlay(),"function"==typeof e&&e(this))},t.prototype._destroyFairPlay=function(){d.destroyFairPlay.call(this)},t.prototype.dispose=function(){r.dispose.call(this),this.destroy()},t.prototype._switchLevel=function(e,t){if(t=t||{isAuto:!0},this.trigger(u.Player.LevelSwitch),this._switchedLevel=!0,this._isFairPlay){this._manuallySwitchDrmLevel=!t.isAuto;var r=this.autoplay||"pause"!=this._status;this._loadByUrlInner(e,this.getCurrentTime(),r)}else if(t.isAuto)this._drm.configure({abr:{enabled:!0}}),C(this._player,this._drm);else{for(var i,n=this._drm.getVariantTracks(),o=0;o<n.length;o++){var a=n[o];if(Number(a.bandwidth)===Number(t.bitrate)&&Number(a.height)===Number(t.resolution.split("x")[1])){i=a;break}}i||console.warn("cannot find target track",t),this._drm.configure({abr:{enabled:!1}}),this._drm.selectVariantTrack(i,!this._options.seamlessHandover)}var s=this;setTimeout((function(){s.trigger(u.Player.LevelSwitched),this._switchedLevel=!1}),1e3)},t.prototype._getDRMEncryptItem=function(){var e=this._urls;if(e&&0<e.length)for(var t=e.length,r=0;r<t;r++){var i=e[r];if(i.Url==this._options.source&&+i.encryption)return i}return""},t.prototype._getItemBySource=function(){var e=this._urls;if(e&&0<e.length)for(var t=e.length,r=0;r<t;r++){var i=e[r];if(i.Url==this._options.source)return i}return""},v=function(e,t){t.addEventListener("error",(function(t){var r,i=e,n=(t=t.detail,"Error code:"+t.code+"message:"+t.message),o=(i.traceLog(h,n),console.log(n),a.ErrorCode.OtherError);n=c.get("Error_Play_Text");t.code==shaka.util.Error.Code.EXPIRED?function(){var e=this,t=(this.trigger(u.Private.H5_Loading_Show),null);this._options.isLive||(t=this.getCurrentTime());var r,i=!this.paused(),n=this._drm.getConfiguration().abr.enabled;if(!n)for(var o=this._drm.getVariantTracks(),a=0;a<o.length;a++)if(o[a].active){r=o[a].id;break}var s={startTime:t,continuePlay:i,prevVariant:r,isAdaptive:n};"function"==typeof this._options.refreshAccessInfo?this._options.refreshAccessInfo().then((function(t){(t=t||{}).accessKeyId&&(e._options.accessKeyId=t.accessKeyId),t.securityToken&&(e._options.securityToken=t.securityToken),t.accessKeySecret&&(e._options.accessKeySecret=t.accessKeySecret),x.call(e,s)})):x.call(e,s)}.call(i):(t.code==shaka.util.Error.Code.HTTP_ERROR?(o=a.ErrorCode.NetworkError,n=c.get("Http_Error")):t.code==shaka.util.Error.Code.TIMEOUT?(o=a.ErrorCode.LoadingTimeout,n=c.get("Error_Waiting_Timeout_Text")):t.code==shaka.util.Error.Code.LICENSE_REQUEST_FAILED?(o=a.ErrorCode.DrmLicenseRequestFailed,n=c.get("Error_Drm_License_Request_Failed")):t.Category==shaka.util.Error.NETWORK&&(o=a.ErrorCode.NetworkError,n=c.get("Error_Network_Text")),E.call(i),setTimeout((function(){i.trigger(u.Private.Play_Btn_Hide)})),i.checkOnline()&&(r=i._drm.drmInfo()||{},r={keyIds:Array.from(r.keyIds||[]),initData:String((null==(r=(r.initData||[])[0])?void 0:r.initData)||[]),cdmData:i._cdmData,licenseData:i._licenseData},r={mediaId:i._options.vid||"",error_code:o,error_msg:t.message,shaka_error:JSON.stringify(t.data||[]),drm_info:JSON.stringify(r)},i.logError(r),r.display_msg=n+" | "+i._shakaCodeMap[t.code],r.diagnosis_info=w.call(i,t),i.trigger(u.Player.Error,r)))})),t.addEventListener("variantchanged",(function(e){console.log("DRM Event: variantchanged",e)})),t.addEventListener("abrstatuschanged",(function(e){console.log("DRM Event: abrstatuschanged",e)})),t.addEventListener("drmsessionupdate",(function(t){console.log("DRM Event: drmsessionupdate",t),E.call(e)})),t.addEventListener("expirationupdated",(function(e){console.log("DRM Event: expirationupdated",e),console.log("Exp:",this.getExpiration())})),t.addEventListener("adaptation",(function(r){console.log("adaptation",r),C(e,t)})),t.addEventListener("trackschanged",(function(r){console.log("DRM EVENT: trackschanged",t.getTextLanguages(),t.getTextTracks());var i=t.getTextLanguages();i&&i.length&&(i=function(e){var t={subtitle:"subtitles",caption:"captions"},r=(console.log("Building track config"),e.getManifest().textStreams||[]),i=(console.log("textStreams",r),e.getTextLanguages()),n=(console.log("languageList",i),[]);try{r.forEach((function(e){i.includes(e.language)&&n.push({kind:t[e.kind]||e.kind,label:e.label,srclang:e.language,src:Array.from(e.segmentIndex)[0].getUris()[0]})}))}catch(e){console.log("error in retrieving text track url: ",e)}return n}(t),e.trigger(u.Private.TextTrackFounded,{from:"drm",textTracks:i}),e.trigger(u.Private.CCReset))}))})}},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/dom":33,"../../lib/io":41,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../base/event/eventtype":68,"../saas/drm":109}],100:[function(e,t,r){function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(t,r,i,n){var a,s,l,c;r=r&&r.prototype instanceof y?r:y,r=Object.create(r.prototype),n=new C(n||[]);return o(r,"_invoke",{value:(a=t,s=i,l=n,c=h,function(t,r){if(c===g)throw Error("Generator is already running");if(c===_){if("throw"===t)throw r;return{value:e,done:!0}}for(l.method=t,l.arg=r;;){var i=l.delegate;if(i&&(i=function t(r,i){var n=i.method,o=r.iterator[n];return o===e?(i.delegate=null,"throw"===n&&r.iterator.return&&(i.method="return",i.arg=e,t(r,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m):(n=p(o,r.iterator,i.arg),"throw"===n.type?(i.method="throw",i.arg=n.arg,i.delegate=null,m):(o=n.arg,o?o.done?(i[r.resultName]=o.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)))}(i,l),i)){if(i===m)continue;return i}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===h)throw c=_,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);if(c=g,i=p(a,s,l),"normal"===i.type){if(c=l.done?_:f,i.arg===m)continue;return{value:i.arg,done:l.done}}"throw"===i.type&&(c=_,l.method="throw",l.arg=i.arg)}})}),r}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="suspendedYield",g="executing",_="completed",m={};function y(){}function v(){}function b(){}a={};var w=(u(a,s,(function(){return this})),Object.getPrototypeOf),S=(w=w&&w(w(P([]))),w&&w!==r&&n.call(w,s)&&(a=w),b.prototype=y.prototype=Object.create(a));function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){var r;o(this,"_invoke",{value:function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var l;i=p(e[i],e,o);if("throw"!==i.type)return(o=(l=i.arg).value)&&"object"==_typeof(o)&&n.call(o,"__await")?t.resolve(o.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(o).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(t){if(t||""===t){var r,i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(i=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i}).next=i}throw new TypeError(_typeof(t)+" is not iterable")}return o(S,"constructor",{value:v.prototype=b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){return e="function"==typeof e&&e.constructor,!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(T.prototype),u(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,i,n,o){void 0===o&&(o=Promise);var a=new T(d(e,r,i,n),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(S),u(S,c,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t,r=Object(e),i=[];for(t in r)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,i,n=this.tryEntries[t];if(n.tryLoc===e)return"throw"===(r=n.completion).type&&(i=r.arg,E(n)),i}throw Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:P(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function n(e,t,r,i,n,o,a){try{var s=e[o](a),l=s.value}catch(e){return r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}}var a="undefined"==typeof Promise?e("es6-promise").Promise:Promise,s=e("../../lib/io"),l=e("../../config"),c=e("../../lang/index"),u=e("../base/event/eventtype"),d=e("../../lib/constants"),p="drminjectorNg.js",h={LoadJs:1,LoadSource:2,PlayerError:3,SupportError:4,ParamsError:5},f={Widevine:"com.widevine.alpha",FairPlay:"com.apple.fps"},g={},_={};function m(e){return y.apply(this,arguments)}function y(){return(y=o(i().mark((function e(t){var r,n,o,u,d=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._drm)return e.next=3,this._drm.destroy();e.next=4;break;case 3:this._drm=null;case 4:e.prev=4,I.call(this,"mod_shaka_s"),e.next=8;var i=t;return new a((function(e,t){var r="https://"+l.domain+l.path+l.h5Version+"/drm/aliplayer-drm2-min.js";null!=i&&i.shakaUrl&&(r=null==i?void 0:i.shakaUrl),s.loadJS(r,e,t)}));case 8:I.call(this,"mod_shaka_f"),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),console.log("[load shaka-player error]",e.t0),e.abrupt("return",E.call(this,h.LoadJs,e.t0));case 15:if(shaka.polyfill.installAll(),g=C(shaka.util.Error.Code),_=C(shaka.net.NetworkingEngine.RequestType),shaka.Player.isBrowserSupported()){e.next=20;break}return e.abrupt("return",E.call(this,h.SupportError));case 20:if(window.isSecureContext){e.next=22;break}return e.abrupt("return",E.call(this,h.SupportError,{_code:"no-secure-context"}));case 22:if(o=function(e){var t=null;return(e=e||{}).widevine||e.fairplay||(t={message:c.get("Error_Drm_Params_Missing")}),[e,t]}(t.drm),n=o[0],o=o[1])return e.abrupt("return",E.call(this,h.ParamsError,o));e.next=25;break;case 25:return t.vid||(this._options.isVBR=!0),o=new shaka.Player,k.call(this,o),this._drm=o,u={drm:{servers:((u={})[f.Widevine]=null==(r=n.widevine)?void 0:r.licenseUrl,u[f.FairPlay]=null==(r=n.fairplay)?void 0:r.licenseUrl,u),advanced:((r={})[f.Widevine]={serverCertificateUri:null==(u=n.widevine)?void 0:u.certificateUrl},r[f.FairPlay]={serverCertificateUri:null==(u=n.fairplay)?void 0:u.certificateUrl,serverCertificate:null==(u=n.fairplay)?void 0:u.certificate},r)},autoShowText:1},shaka.util.PlayerConfiguration.mergeConfigObjects(u,t.drmOption||{}),o.configure(u),o.attach(this.tag),o.getNetworkingEngine().registerRequestFilter((function(e,t,r){if(null!=(n=t.drmInfo)&&n.keySystem&&(d._keySystem=t.drmInfo.keySystem),e===shaka.net.NetworkingEngine.RequestType.LICENSE){I.call(d,"drm_li_s");var i=L.call(d);if(i.licenseHeaders&&Object.keys(i.licenseHeaders).forEach((function(e){t.headers[e]=i.licenseHeaders[e]})),"function"==typeof i.licenseRequestFilter)return i.licenseRequestFilter(t,shaka.util)}else if(e===shaka.net.NetworkingEngine.RequestType.SERVER_CERTIFICATE){I.call(d,"drm_cer_s");var n=L.call(d);if("function"==typeof n.certificateRequestFilter)return n.certificateRequestFilter(t,shaka.util)}})),o.getNetworkingEngine().registerResponseFilter((function(e,t,r){if(e===shaka.net.NetworkingEngine.RequestType.LICENSE){I.call(d,"drm_li_f"),D.call(d,e,t);var i=L.call(d);if("function"==typeof i.licenseResponseFilter)return i.licenseResponseFilter(t,shaka.util)}else if(e===shaka.net.NetworkingEngine.RequestType.SERVER_CERTIFICATE&&(I.call(d,"drm_cer_f"),D.call(d,e,t),i=L.call(d),"function"==typeof i.certificateResponseFilter))return i.certificateResponseFilter(t,shaka.util)})),e.prev=37,e.next=40,o.load(t.source);case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(37),console.log("error when load source",e.t1),E.call(this,h.LoadSource,e.t1);case 46:this._initPlayBehavior(),this._executeReadyCallback();case 48:case"end":return e.stop()}}),e,this,[[4,11],[37,42]])})))).apply(this,arguments)}function v(e){this.traceLog(p,"play::"+e),e&&this.trigger(u.Private.ManualPlay),this._isManualPlay=Boolean(e),this.tag.ended||this._ended?this.replay():this.tag.paused&&this.tag.play()}function b(){this._switchingDesc=null,this._keySystem=null,this._baseType.dispose.call(this),this._drm&&(this._drm.destroy(),this._drm=null)}function w(e,t){var r,i,n,o=this._drm;e?(r=Number(e.split(d.DASH_QUALITY_PROTOCOL)[1]),(e=o.getVariantTracks().find((function(e){return e.id===r})))&&(o.configure({abr:{enabled:!1}}),i=!1,n=this.getOptions().seamlessHandover,o.selectVariantTrack(e,i="boolean"==typeof n?!n:i),i||(this._switchingDesc=t.desc))):(o.configure({abr:{enabled:!0}}),this._switchingDesc=null)}function S(){var e=this._drm;if(e)return e.getTextTracks().map((function(e){return{language:e.language,label:e.label,kind:"subtitle"===e.kind?"subtitles":"captions",default:e.active}}));console.warn("shaka has not been initialized but _getTextTracks is called")}function x(e){var t=this._drm;t&&(e?(t.setTextTrackVisibility(!0),t.selectTextLanguage(e)):t.setTextTrackVisibility(!1))}function T(e){e&&this._drm.selectAudioLanguage(e),R.call(this)}function k(e){var t=this;e.addEventListener("error",(function(e){E.call(t,h.PlayerError,e.detail)})),e.addEventListener("trackschanged",(function(){(function(){var e,t,r,i=this._drm,n=i.getAudioLanguages(),o=null==(e=i.getVariantTracks())?void 0:e.find((function(e){return e.active}));o&&(t=[],1===n.length&&"und"===n[0]?t.push({id:"und",language:c.get("Default"),enabled:!0}):n.length&&(r=i.getAudioLanguagesAndRoles()||[],n.forEach((function(e){var i;t.push({id:e,language:(null==(i=r.find((function(t){return t.language===e})))?void 0:i.label)||e,enabled:e===o.language})}))),this.trigger(u.Player.AudioTrackUpdated,{audioTracks:t}))}).call(t),e.keySystem()===f.FairPlay?t.trigger(u.Player.LevelsLoaded,{levels:[{}]}):(R.call(t),A.call(t,e))})),e.addEventListener("adaptation",(function(){e.keySystem()!==f.FairPlay&&A.call(t,e)})),this.tag.addEventListener("resize",(function(){t._switchingDesc&&t.trigger(u.Private.Info_Show,{text:c.get("Quality_Change_Result")+"<span>"+t._switchingDesc+"</span>",duration:3e3,align:"lb"})}))}function E(e,t){var r=this;if(console.log("to handle error of:",e,t,"this._isError",this._isError),this._isError)this.traceLog(p,"drm extra error ["+e+"]"+t+"}");else{t=t||{};var i={mediaId:this.getOptions().vid||"",error_code:"",error_msg:""};switch(e){case h.LoadJs:i.error_code=d.ErrorCode.ModuleLoadError,i.error_msg="drm player module load error."+((null==t?void 0:t.message)||"");break;case h.LoadSource:case h.PlayerError:i.error_code=d.ErrorCode.DrmLoadError,i.error_msg=c.get("Error_Drm_Load")+" | "+(g[t.code]||"")+" "+function(e){var t="";return e.code===shaka.util.Error.Code.BAD_HTTP_STATUS?(null==e||null==(e=e.data)?void 0:e[1])||"":t}(t),i.diagnosis_info=function(e){var t=shaka.util.Error.Code,r="",i=e.data||[];switch(e.code){case t.BAD_HTTP_STATUS:case t.HTTP_ERROR:case t.TIMEOUT:case t.LICENSE_REQUEST_FAILED:r=c.get("Tip_Drm_Request_Err")+P(i);break;case t.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:case t.SESSION_TIMEOUT:window.isSecureContext?(r=c.get("Tip_Drm_Key_System_Unavailable"),i.length&&(r+="<br />"+c.get("Tip_Err_Common_Short")+i)):r=c.get("Tip_Drm_Secure_Context");break;case t.FAILED_TO_CREATE_CDM:"file:"===window.location.protocol&&(r=c.get("Tip_Drm_File_Not_Allowed"));break;case t.HLS_INVALID_PLAYLIST_HIERARCHY:r=c.get("Tip_Drm_Playlist_Hierarchy");break;case t.ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:r=c.get("Tip_Drm_Info_Missing")}return e=P(i),r||e}(t),i.shaka_error=t||{},t.code===shaka.util.Error.Code.LICENSE_REQUEST_FAILED&&console.log("LICENSE_REQUEST_FAILED => ",t.data[0]);break;case h.SupportError:i.error_code=d.ErrorCode.DrmNotSupported,"no-secure-context"===t._code?i.error_msg=c.get("Tip_Drm_Secure_Context"):(i.error_msg=c.get("Error_Drm_Not_Supported"),i.diagnosis_info=c.get("Tip_Drm_Unsupported"));break;case h.ParamsError:i.error_code=d.ErrorCode.InvalidParameter,i.error_msg=t.message||""}this.logError(i),this.trigger(u.Player.Error,i),shaka.Player.probeSupport().then((function(e){r.traceLog(p,"probeSupport::"+JSON.stringify(e))})).catch((function(e){r.traceLog(p,"probeSupport::"+e)}))}}function C(e){var t={};return Object.keys(e).forEach((function(r){t[e[r]]=r})),t}function P(e){return c.get("Tip_Err_Common")+e}function A(){var e=null==(t=this._drm.getVariantTracks())?void 0:t.find((function(e){return e.active})),t=(this._qualityService.levels||[]).find((function(t){return t.Url===""+d.DASH_QUALITY_PROTOCOL+e.id}));e&&t?this.trigger(u.Private.QualityChange,{levelSwitch:!0,desc:t.desc}):console.warn("no activeTrack or activeDisplayItem found",e,t)}function R(){var e=this._drm,t=e.getVariantTracks(),r=null==(i=e.getVariantTracks())?void 0:i.find((function(e){return e.active})),i=(t=t.filter((function(e){return e.audioId===r.audioId}))).map((function(e){return{url:""+d.DASH_QUALITY_PROTOCOL+e.id,width:e.width,height:e.height,bitrate:e.bandwidth,attrs:{BANDWIDTH:e.bandwidth,RESOLUTION:e.width+"x"+e.height}}}));this.trigger(u.Player.LevelsLoaded,{levels:i}),this.trigger(u.Private.SelectorGenerateList,{type:"quality"}),e.getConfiguration().abr.enabled||(t=(this._qualityService.levels||[]).find((function(e){return e.Url===""+d.DASH_QUALITY_PROTOCOL+r.id})))&&this.trigger(u.Private.SelectorValueChange,{type:"quality",text:t.desc})}function I(e){this.trigger(u.Private.Timeline,{name:e,ts:performance.now()})}function L(){var e={},t=this.getOptions().drm||{},r=this._keySystem||(null==(r=this._drm)?void 0:r.keySystem())||"";return r===f.Widevine?e=t.widevine||{}:r===f.FairPlay&&(e=t.fairplay||{}),e}function D(e,t){if(null==(r=this.getOptions())||null==(r=r.drm)||!r.disableReportLicense){var r=t.data;t="";if("string"==typeof r)t=r;else if(r instanceof ArrayBuffer)try{t=(new TextDecoder).decode(r)}catch(e){console.log("error in decode license provider response",e),t="[ArrayBuffer] decode error: "+e}this.traceLog(p,"DRM-"+_[e]+"-response: "+t)}}t.exports.inject=function(){var e=o(i().mark((function e(t,r,n,o){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t)._baseType=n,a._keySystem=null,a.initPlay=m.bind(a,o),a.play=v.bind(a),a.dispose=b.bind(a),a._getDrmTextTracks=S.bind(a),a._switchDrmTextTrack=x.bind(a),a._switchLevel=w.bind(a),a._switchAudioTrack=T.bind(a);case 10:case"end":return e.stop()}}),e)})));return function(t,r,i,n){return e.apply(this,arguments)}}(),t.exports.play=v,t.exports._switchLevel=w,t.exports._getTextTracks=S,t.exports._switchTextTrack=x,t.exports._switchAudioTrack=T,t.exports.updateLevelList=R,t.exports.logProviderResponse=D},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../base/event/eventtype":68,"es6-promise":9}],101:[function(e,t,r){var i=e("../base/player"),n=e("./drminjector"),o=e("./drminjectorNg"),a=i.extend({init:function(e,t){t.useDrm2?o.inject(this,a,i.prototype,t):n.inject(this,a,i.prototype,t,(function(e){})),t._native=!1,i.call(this,e,t)}});t.exports=a},{"../base/player":91,"./drminjector":99,"./drminjectorNg":100}],102:[function(e,t,r){(function(r){(function(){var i=e("../../lib/io"),n=e("../../config"),o=e("../../lib/constants"),a=e("../../lib/util"),s=e("../../lib/playerutil"),l=e("../../lib/ua"),c=e("../../lib/data"),u=e("../../lang/index"),d=e("../base/event/eventtype"),p="flvinjector.js";t.exports.inject=function(e,t,h,f,g,_){var m,y=f.source,v=f.optionFormat;function b(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyFlv(),this._superPt&&(t.prototype.play=this._superPt.play,t.prototype.pause=this._superPt.pause,t.prototype.initPlay=this._superPt.initPlay,t.prototype.seek=this._superPt.seek,t.prototype.canSeekable=this._superPt.canSeekable))}function w(e){try{for(var t=e.buffered.length,r="Len:"+t+";",i=0;i<t;i++)r+="["+(i+1)+"]"+e.buffered.start(i)+"~"+e.buffered.end(i);return r}catch(e){}}(_||(f=y,_=v,!e._flv&&s.isFlv(f,_)&&s.isSupportFlv()))&&(e._Type=t,e._superType=h,e._superPt=h.prototype,e._disposed=!1,t.prototype._checkFlvReady=function(){return null!=this._flv||(console.warn("please invoke this method after ready event"),!1)},e._isFlv=!0,e._flv=null,e._isLoadedFlv=!1,e._dumpBuffer=null,t.prototype.play=function(e){if(this.traceLog(p,"play::"+e),e&&this.trigger(d.Private.ManualPlay),this._checkFlvReady())return this._isManualPlay=e||!1,this.trigger(d.Private.Cover_Hide),this._options.isLive&&e?this._loadByUrlInner(this._options.source,0,e):this.tag.ended||this._ended?this.replay():(0==this._seeking&&(e=0,this.tag.ended||this._ended||0==(e=this.getCurrentTime())&&(e=-1),-1!=e)&&this.seek(e),this.tag.paused&&(this._hasLoaded||(this._hasLoaded=!0,this._flv.load()),this._flv.play())),this},t.prototype.seek=function(e){if(this._checkFlvReady()){this._seeking=!0;var t=this.getDuration();t<=(e=Math.floor(e))&&(e=t);try{this._flv.currentTime=e}catch(e){console.log(e)}return this}},t.prototype.pause=function(e){if(this._checkFlvReady())return this._isManualPause=e||!1,this._flv.pause(),this},t.prototype.getProgramDateTime=function(){var e;if(this._checkFlvReady())return this._metadata?(e=(e=this._flv.getFirstSample())&&e.pts?e.pts:0,console.log("推流时间："+this._metadata.NtpTime),console.log("首帧PTS："+e),this._metadata.NtpTime+e):""},t.prototype.initPlay=function(e){var t,c,h;function f(e,t){if(!e._disposed){var r=!e._flv,i=(e._destroyFlv(),e._options.isLive);if(i&&!flvjs.getFeatureList().networkStreamIO)return(f={error_code:o.ErrorCode.FormatNotSupport,error_msg:u.get("Error_Not_Support_Mse_Flv")+"|streamIO(format:flv)"}).display_msg=f.error_msg,void e.trigger(d.Player.Error,f);var n,c={isLive:i,enableWorker:e._options.enableWorker,accurateSeek:!0},h=(l.IS_IE11&&(c.enableWorker=!1),{type:"flv",isLive:i,url:e._options.source});for(n in i?(c.enableStashBuffer=e._options.enableStashBufferForFlv,c.stashInitialSize=e._options.stashInitialSizeForFlv,c.autoCleanupSourceBuffer=!1):c.lazyLoadMaxDuration=600,c.statisticsInfoReportInterval=1e3,e._options.isLive&&(e._options.flvFrameChasing&&(c.flvFrameChasing=e._options.flvFrameChasing),e._options.chasingFirstParagraph&&(c.chasingFirstParagraph=e._options.chasingFirstParagraph),e._options.chasingSecondParagraph&&(c.chasingSecondParagraph=e._options.chasingSecondParagraph),e._options.chasingFirstSpeed&&(c.chasingFirstSpeed=e._options.chasingFirstSpeed),e._options.chasingSecondSpeed)&&(c.chasingSecondSpeed=e._options.chasingSecondSpeed),e._options.flvOption)"cors"==n||"hasAudio"==n||"withCredentials"==n||"hasVideo"==n||"type"==n?h[n]=e._options.flvOption[n]:c[n]=e._options.flvOption[n];flvjs.LoggingControl.enableAll=e._options.debug,e._flv=flvjs.createPlayer(h,c),m(e,e._flv),e._flv.on(flvjs.Events.DUMP_BUFFER,(function(t){var r,i,n;e._options.disableDumpBuffer||0===e._liveRetryCount&&0===e._vodRetryCount&&0===e._nudgeCount&&"string"!=typeof e._dumpBuffer&&(e._flvDumpTimer||(e._flvDumpTimer=setTimeout((function(){e._reportDumpBuffer&&e._reportDumpBuffer()}),5e3)),t=new Uint8Array(t),e._dumpBuffer?e._dumpBuffer=(r=e._dumpBuffer,i=t,(n=new Uint8Array(r.length+i.length)).set(r),n.set(i,r.length),n):e._dumpBuffer=t)}));var f,_=a.throttle((function(t){e.traceLog(p,"dts_adjustment::"+t.from+"->"+t.to)}),1e3);e._flv.on(flvjs.Events.DTS_ADJUSTMENT,(function(e){_(e)})),e._flv.on(flvjs.Events.MEDIA_INFO,(function(t){e._metadata=t.metadata})),e._flv.on(flvjs.Events.METADATA_ARRIVED,(function(t){t&&t.dataContent&&t.dataContent.length&&e.trigger(d.Private.SeiFrame,{dataContent:t.dataContent,pts:t.pts})})),e._flv.on(flvjs.Events.STATISTICS_INFO,(function(t){e.trigger(d.Private.StatisticsInfo,t)})),e._flv.attachMediaElement(e.tag),e._initPlayBehavior(t)&&((e._options.preload||e._options.autoplay)&&(e._hasLoaded=!0,e._flv.load()),e._options.autoplay&&!e.tag.paused&&e._flv.play(),g&&g(e._flv),r)&&(e._executeReadyCallback(),e._urls)&&0<e._urls.length&&(e._currentPlayIndex=s.findSelectedStreamLevel(e._urls,e._options.defaultDefinition),f=e._urls[e._currentPlayIndex],e._options.source=f.Url,e.trigger(d.Private.SourceLoaded,f))}}l.browser.safari&&this.trigger(d.Private.Snapshot_Hide),a.contentProtocolMixed(y,"",v)?((t={mediaId:this._options.vid||"",error_code:o.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=u.get("Request_Block_Text"),this.trigger(d.Player.Error,t)):(c=this)._isLoadedFlv&&"undefined"!=typeof Hls?setTimeout((function(){f(c,e)}),1e3):(this.trigger(d.Private.H5_Loading_Show),h=performance.now(),function(e,t,o){var a="aliplayer-flv-min.js",s="",l=(s=n.domain?"https://"+n.domain+n.path+n.h5Version+"/flv/"+a:"/build/flv/"+a,this._options.assetPrefix&&(s=this._options.assetPrefix+"/flv/"+a),JSON.parse(r)&&(s="http://localhost:8000/dist/aliplayer-flv.js"),this);i.loadJS(s,(function(){e.apply(l)}),(function(){o&&o()}))}.call(c,(function(){this.traceLog(p,"got js#"+parseInt(performance.now()-h)),this._isLoadedFlv=!0,f(this,e)}),this._options.debug,(function(){var e={mediaId:c._options.vid||"",mediaAuth:c._options.mediaAuth||"",error_code:o.ErrorCode.ModuleLoadError,error_msg:"flv module load error."};c.trigger(d.Player.Error,e)})))},t.prototype._reportDumpBuffer=function(){var e,t;this.__flvDumpTimer&&clearTimeout(this.__flvDumpTimer),this.__flvDumpTimer=null,this._dumpBuffer&&"string"!=typeof this._dumpBuffer&&(1048576<this._dumpBuffer.byteLength&&(this._dumpBuffer=this._dumpBuffer.slice(0,1048576)),e=this._dumpBuffer,this._dumpBuffer="REPORTED",performance.now(),e=a.arrayBufferToB64(e),t=c.guid(),this.traceLog(p,"dump::"+t),this.trigger(d.Private.DumpBuffer,{id:t,data:e}))},t.prototype._destroyFlv=function(){try{this._flv&&(this._flv.pause(),this._flv.destroy())}catch(e){console.log(e)}this.loaded=!1,this._hasLoaded=!1,this._flv=null,this._flvDumpTimer&&(clearTimeout(this._flvDumpTimer),this._flvDumpTimer=null),this._dumpBuffer=null},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return b},set:function(){return b}}),t.prototype.canSeekable=function(e){var t;if(this._flv)return t=this._flv.mediaInfo,!(!this._flv._isTimepointBuffered(e)&&t&&!t.hasKeyframesIndex)},t.prototype._getbwEstimator=function(){var e;return 1024*(null==(e=this._flv)||null==(e=e.statisticsInfo)?void 0:e.speed)*8},m=function(e,t){var r=!1;t.on(flvjs.Events.ERROR,(function(i,a,s){var l,c,h,f,g="flvjs-error::"+i+"#"+a+"#"+s.code+"#"+s.msg,_="BodyStreamBuffer was aborted"===s.msg&&t._config.lazyLoad;if(_){g+="#Maximum buffering duration exceeded, suspend transmuxing task";try{var m=t._msectl._sourceBuffers.video,y=t._msectl._sourceBuffers.audio;g+="#Video buffer:"+w(m)+"#Audio buffer:"+w(y)}catch(i){}}e.traceLog(p,g),e._reportDumpBuffer&&e._reportDumpBuffer(),i===flvjs.ErrorTypes.BUFFER_FULL||(e._flv.unload(),_)||e._isError||(l=o.ErrorCode.OtherError,c=u.get("Error_Play_Text"),h=null,a==flvjs.ErrorDetails.NETWORK_EXCEPTION?!(m=e.getOptions().source)||0!=m.toLowerCase().indexOf("http://")&&0!=m.toLowerCase().indexOf("https://")?(l=o.ErrorCode.InvalidSourceURL,c=u.get("Error_Invalidate_Source_Widthout_Protocal"),r=!0):c=navigator.onLine?(l=o.ErrorCode.RequestDataError,u.get("Maybe_Cors_Error")):(l=o.ErrorCode.NetworkError,u.get("Error_Network_Text")):a==flvjs.ErrorDetails.NETWORK_STATUS_CODE_INVALID?"404"==s.code?(l=o.ErrorCode.NotFoundSourceURL,c=u.get("Error_Not_Found"),h=u.get("Tip_Err_Not_found")):"403"==s.code?(l=o.ErrorCode.AuthKeyExpired,c=u.get("Error_AuthKey_Text"),r=!0):(l=o.ErrorCode.NetworkError,c=u.get("Error_Network_Text")):a==flvjs.ErrorDetails.NETWORK_TIMEOUT?(l=o.ErrorCode.LoadingTimeout,c=u.get("Error_Waiting_Timeout_Text")):a==flvjs.ErrorDetails.MEDIA_FORMAT_UNSUPPORTED||a==flvjs.ErrorDetails.MEDIA_CODEC_UNSUPPORTED?(l=o.ErrorCode.FormatNotSupport,c=u.get("Error_H5_Not_Support_Text")+"|codec(format:flv)",r=!0):a===flvjs.ErrorDetails.MEDIA_MSE_ERROR&&(y=e.tag.error)&&(l=o.VideoErrorCode[y.code],c=y.code+" || "+y.message),g=function(){var t;setTimeout((function(){e.trigger(d.Private.Play_Btn_Hide)})),e.checkOnline()&&(t={mediaId:e._options&&e._options.vid?e._options.vid:"",error_code:l,error_msg:c,diagnosis_info:h},e.logError(t),t.display_msg=c,n.cityBrain&&(e.flv=null),e.trigger(d.Player.Error,t))},e._options&&e._options.isLive&&!r?(f=e._options).liveRetry>e._liveRetryCount?(0==e._liveRetryCount&&e.trigger(d.Player.OnM3u8Retry),i=f.liveRetryInterval+f.liveRetryStep*e._liveRetryCount,e._liveRetryCount++,setTimeout((function(){e._isError||e._liveRetryTimer||e._loadByUrlInner(f.source)}),1e3*i)):(e.trigger(d.Player.LiveStreamStop),g()):a===flvjs.ErrorDetails.MEDIA_MSE_ERROR&&11===s.code&&e.getCurrentTime()<e.getDuration()?(e._flv.unload(),e._flv.load(),e._flv.detachMediaElement(),e._flv.attachMediaElement(e.tag)):r?(e._flv.unload(),g()):e._reloadForVod()||g())}))})}}).call(this)}).call(this,"false")},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/data":31,"../../lib/io":41,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../base/event/eventtype":68}],103:[function(e,t,r){var i=e("../base/player"),n=e("./flvinjector"),o=i.extend({init:function(e,t){n.inject(this,o,i,t,(function(e){})),t._native=!1,i.call(this,e,t)}});t.exports=o},{"../base/player":91,"./flvinjector":102}],104:[function(e,t,r){(function(r){(function(){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}var n,o=e("../../lib/object"),a=e("../../lib/io"),s=e("../../config"),l=e("../../lib/constants"),c=e("../../lib/util"),u=e("../../lib/playerutil"),d=e("../../lib/ua"),p=e("../../lang/index"),h=e("../base/event/eventtype"),f="hlsinjector.js";function g(){this&&this._hls&&(this._hls.stopLoad(),this._hls.destroy(),this._hls=null)}function _(e){this.trigger(h.Private.Timeline,{name:e,ts:performance.now()})}function m(e,t){return t<e.maxNumRetry}var y={};function v(e,t){t.frag.level===this.currentLevel&&(this.off(n.Events.FRAG_BUFFERED,v),this.media.currentTime=this.media.currentTime+.01)}t.exports.inject=function(e,t,b,w,S,x){e._hls2=!1;var T,k,E,C=w.source,P=w.optionFormat;((S||"").length||x||(x=C,T=w.useHlsPluginForSafari,w=w.useHlsPlugOnMobile,k=P,!e._hls&&u.isHls(x,k)&&(!u.canPlayHls()||u.isSafariUsedHlsPlugin(T)||w&&u.isUsedHlsPluginOnMobile())))&&(e._Type=t,e._superType=b,e._superPt=b.prototype,e._disposed=!1,e._isHls=!0,e._hls=null,e._isLoadedHls=!1,e._stopLoadAsPaused=!0,e._yekced_saved=S,y.seek||(y.seek=b.prototype.seek),y.dispose||(y.dispose=b.prototype.dispose),e.initPlay=function(e){var t,y;function v(e,t){if(!e._disposed){if(e._antiRecord&&(console.log("Manual check before load source"),e._antiRecord.check()))return;var r,a=!e._hls,s=(e._destroyHls(),{xhrSetup:function(t,r){t.withCredentials=e._options.withCredentials||!1}}),l=(e._hls2||(l=e._options.loadingTimeOut||e._options.hlsLoadingTimeOut)&&(s.manifestLoadingTimeOut=l,s.levelLoadingTimeOut=l,s.fragLoadingTimeOut=l),e._hls2&&(s.manifestLoadPolicy=i({},n.DefaultConfig.manifestLoadPolicy),s.playlistLoadPolicy=i({},n.DefaultConfig.playlistLoadPolicy),s.fragLoadPolicy=i({},n.DefaultConfig.fragLoadPolicy),l=e._options.isLive?e._options.liveRetry:e._options.vodRetry,s.manifestLoadPolicy.default.errorRetry.maxNumRetry=l,e._options.isLive&&(s.manifestLoadPolicy.default.errorRetry.shouldRetry=m),s.manifestLoadPolicy.default.timeoutRetry.maxNumRetry=l,s.playlistLoadPolicy.default.errorRetry.maxNumRetry=l,e._options.isLive&&(s.playlistLoadPolicy.default.errorRetry.shouldRetry=m),s.playlistLoadPolicy.default.timeoutRetry.maxNumRetry=l,s.fragLoadPolicy.default.maxLoadTimeMs=2e4,s.fragLoadPolicy.default.errorRetry.shouldRetry=m,(l=e._options.hlsOption||{}).manifestLoadPolicy&&(s.manifestLoadPolicy=o.deepMerge(s.manifestLoadPolicy,l.manifestLoadPolicy),delete l.manifestLoadPolicy),l.playlistLoadPolicy&&(s.playlistLoadPolicy=o.deepMerge(s.playlistLoadPolicy,l.playlistLoadPolicy),delete l.playlistLoadPolicy),l.fragLoadPolicy&&(s.fragLoadPolicy=o.deepMerge(s.fragLoadPolicy,l.fragLoadPolicy),delete l.fragLoadPolicy),e._options.isLive)&&!d.IS_IE11&&(s.backBufferLength=12,s.liveDurationInfinity=!0),e._options.isLive&&(e._options.hlsFrameChasing&&(s.hlsFrameChasing=e._options.hlsFrameChasing),e._options.chasingFirstParagraph&&(s.chasingFirstParagraph=e._options.chasingFirstParagraph),e._options.chasingSecondParagraph&&(s.chasingSecondParagraph=e._options.chasingSecondParagraph),e._options.chasingFirstSpeed&&(s.chasingFirstSpeed=e._options.chasingFirstSpeed),e._options.chasingSecondSpeed)&&(s.chasingSecondSpeed=e._options.chasingSecondSpeed),e._options.defaultBandwidth&&(s.defaultBandwidth=e._options.defaultBandwidth),e._options.hlsBandWidthUpCacheTime&&(s.abrBandWidthUpCacheTime=e._options.hlsBandWidthUpCacheTime),e._options.seamlessHandover&&(s.seamlessHandover=e._options.seamlessHandover),e._options.liveSyncDurationCount&&(s.liveSyncDurationCount=e._options.liveSyncDurationCount),e._options.nudgeMaxRetry&&(s.nudgeMaxRetry=e._options.nudgeMaxRetry),e._options.maxMaxBufferLength&&(s.maxMaxBufferLength=e._options.maxMaxBufferLength),e._options.maxBufferSize&&(s.maxBufferSize=e._options.maxBufferSize),e._options.fragLoadingRetryDelay&&(s.fragLoadingRetryDelay=e._options.fragLoadingRetryDelay),e._options.maxBufferLength&&(s.maxBufferLength=e._options.maxBufferLength),e._options.accessKeyId&&(s.accessKeyId=e._options.accessKeyId),e._options.accessKeySecret&&(s.accessKeySecret=e._options.accessKeySecret),e._options.securityToken&&(s.securityToken=e._options.securityToken),e._options.app&&(s.app=e._options.app),e._options.stream&&(s.stream=e._options.stream),e._options.domain&&(s.domain=e._options.domain),e._options.regionId&&(s.regionId=e._options.regionId),e._yekced_saved&&(s._yekcedxx=e._yekced_saved,s._vpk=e._yekced_saved),s.enableWorker=e._options.enableWorker,s.debug=e._options.debug,e._stopLoadAsPaused=e._options.hlsOption.stopLoadAsPaused,e._getPlayStartTime()+e._posOffset);for(r in l&&(s.startPosition=l,console.log("hls.js startPosition => ",l)),e._options.hlsOption)s[r]=e._options.hlsOption[r];d.IS_IE11&&(s.enableWorker=!1),e._hls=new n(s),E(e,e._hls),e._loadSourced=!1,e._hls.attachMedia(e.tag),e._hls.on(n.Events.INIT_PTS_FOUND,(function(t,r){e._initPTS=r.initPTS})),e._hls.on(n.Events.FRAG_LOADING,(function(){_.call(e,"frag_s")})),e._hls.on(n.Events.FRAG_LOADED,(function(){_.call(e,"frag_f")})),e._hls.on(n.Events.FRAG_PARSED,(function(){_.call(e,"frag_parsed")})),e._hls.on(n.Events.FRAG_PARSED,(function(t,r){r=(null==r?void 0:r.frag)||{};var i=r.elementaryStreams||{},n="Frag(sn"+r.sn+"): "+(null==(n=r.startPTS)?void 0:n.toFixed(3))+" -> "+(null==(n=r.endPTS)?void 0:n.toFixed(3))+"(v:"+(null==(n=i.video)||null==(n=n.startPTS)?void 0:n.toFixed(3))+"/"+(null==(n=i.video)||null==(n=n.endPTS)?void 0:n.toFixed(3))+";a:"+(null==(n=i.audio)||null==(n=n.startPTS)?void 0:n.toFixed(3))+"/"+(null==(n=i.audio)||null==(n=n.endPTS)?void 0:n.toFixed(3))+"); Duration: "+(null==(i=r.duration)?void 0:i.toFixed(3));e.trackLogFragBuffer&&(e.trackLogFragBuffer.push(n),10<e.trackLogFragBuffer.length)&&e.trackLogFragBuffer.shift()})),e._hls.on(n.Events.FRAG_PARSING_USERDATA,(function(t,r){r&&r.dataContent&&r.dataContent.length?e.trigger(h.Private.SeiFrame,{dataContent:r.dataContent,pts:r.pts}):r.samples.forEach((function(t){e.trigger(h.Private.SeiFrame,{dataContent:t.userDataBytes,dataContentString:t.userData,pts:t.pts,uuid:t.uuid})}))})),e._hls.on(n.Events.MEDIA_ATTACHED,(function(){var r;e._hls.on(n.Events.MANIFEST_PARSED,(function(){e._initPlayBehavior(t||e._loadSourced)})),e._hls.on(n.Events.AUDIO_TRACKS_UPDATED,(function(t,r){e.trigger(h.Player.AudioTrackUpdated,r)})),e._hls.on(n.Events.MANIFEST_LOADED,(function(t,r){e.trigger(h.Player.LevelsLoaded,r)})),e._hls.on(n.Events.LEVEL_SWITCHED,(function(t,r){if(e._qualityService){for(var i=e._hls.levels[r.level].url,n=e._qualityService.levels,o="",a="",s=0;s<n.length;s++)if(n[s].Url==i){a=n[s].desc,o=n[s].bitrate;break}(a||o)&&e.trigger(h.Private.QualityChange,{levelSwitch:!0,url:i,bitrate:o,desc:a})}})),e._hls.on(n.Events.AUDIO_TRACK_SWITCH,(function(t,r){e.trigger(h.Player.AudioTrackSwitch,r),setTimeout((function(){e.trigger(h.Player.AudioTrackSwitched,r)}),1e3)})),(e._options.autoplay||e._options.preload||t)&&(e._loadSourced=!0,e._levels&&1<e._levels.length?(e._hls.trigger(n.Events.MANIFEST_LOADING,{}),e._hls.trigger(n.Events.MANIFEST_LOADED,{levels:e._levels})):e._hls.loadSource(e._options.source||"__INVALID__")),a?(e._executeReadyCallback(),e._urls&&0<e._urls.length&&(e._currentPlayIndex=u.findSelectedStreamLevel(e._urls,e._options.defaultDefinition),r=e._urls[e._currentPlayIndex],e._options.source=r.Url,e.trigger(h.Private.SourceLoaded,r))):e.trigger(h.Private.H5_Loading_Show)}))}}this.trigger(h.Private.H5_Loading_Show),c.contentProtocolMixed(C,"",P)?(t=this.getOptions()||{},(t={mediaId:t.vid||"",mediaAuth:t.mediaAuth||"",error_code:l.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=p.get("Request_Block_Text"),this.trigger(h.Player.Error,t)):(y=this)._isLoadedHls&&void 0!==n?v(this,e):(this.trigger(h.Private.H5_Loading_Show),this._getHlsVersion((function(t){var i=performance.now();(function(e,t,i){var o="aliplayer-hls-min.js",l=((t=t||{}).hls2&&(o="aliplayer-hls2-min.js"),t.enableHlsH265&&(o="aliplayer-hls2-hevc-min.js"),""),c=(l=s.domain?"https://"+s.domain+s.path+s.h5Version+"/hls/"+o:"/build/hls/"+o,t.assetPrefix&&(l=t.assetPrefix+"/hls/"+o),JSON.parse(r)&&(l="http://localhost:8080/dist/aliplayer-hls2.js"),_.call(this,"mod_hls_s"),this);a.loadJS(l,(function(){_.call(c,"mod_hls_f"),n=window.AliHls||window.Hls,e.apply(c)}),(function(){i&&i()}))}).call(y,(function(){y.traceLog(f,"got js#"+parseInt(performance.now()-i)),y._isLoadedHls=!0,v(y,e)}),{debug:y._options.debug,hls2:y._hls2,assetPrefix:y._options.assetPrefix,enableHlsH265:y._options.enableHlsH265},(function(){var e={mediaId:y._options.vid||"",mediaAuth:y._options.mediaAuth||"",error_code:l.ErrorCode.ModuleLoadError,error_msg:"hls module load error."};y.trigger(h.Player.Error,e)}))})),this.on("error",g))}.bind(e),e.seek=function(e){if(this._checkHlsReady()){try{y.seek.call(this,e),this.tag.paused&&this._stopLoadAsPaused&&this._hls.startLoad(e)}catch(e){console.log(e)}return this}}.bind(e),e.pause=function(e){if(this.tag){if(!this._checkHlsReady())return;this.tag.pause(),this._stopLoadAsPaused&&this._hls.stopLoad()}return this._isManualPause=e||!1,this}.bind(e),e.play=function(e){if(this.traceLog(f,"play::"+e),e&&this.trigger(h.Private.ManualPlay),this._checkHlsReady())return this._isManualPlay=e||!1,this.trigger(h.Private.Cover_Hide),this._options.autoplay||this._options.preload||this._loadSourced||(this._loadSourced=!0,this._options._autoplay=!0,this._hls.loadSource(this._options.source)),this.tag.ended||this._ended?this.replay():this.tag.paused&&(this.tag.play(),this._stopLoadAsPaused)&&(e=this.getCurrentTime(),this._hls.startLoad(e)),this}.bind(e),e.stop=function(){if(this._checkHlsReady())return this.tag.setAttribute("src",null),this._hls.stopLoad(),this}.bind(e),e.dispose=function(){this._disposed||(this._disposed=!0,y.dispose.call(this),this._destroyHls())}.bind(e),e.getCurrentPDT=function(){var e,t,r;if(this._checkHlsReady())return-1==this._hls.currentLevel?"":this._hls.playingDate?this._hls.playingDate.getTime():(t=this._hls.streamController.fragPlaying||{},(e=t.pdt)?(t=1e3*t.startPTS,r=1e3*this.getCurrentTime(),e+(r-t)):0)}.bind(e),e.getProgramDateTime=function(){if(this._checkHlsReady()){if(-1==this._hls.currentLevel)return"";var e=this._hls.currentLevel;e=this._hls.levels[e].details;return e&&(e=e.programDateTime,e)?new Date(e).valueOf():0}}.bind(e),e._checkHlsReady=function(){return null!=this._hls||(console.warn("please invoke this method after ready event"),!1)}.bind(e),e._getHlsVersion=function(e){!0===this._options.useHls2?(this._hls2=!0,e()):!1===this._options.useHls2&&e()}.bind(e),e._getbwEstimator=function(){var e,t=NaN;return this._hls&&(e=this._hls.abrController._bwEstimator,t=e?e.getEstimate():this._hls.bandwidthEstimate),t}.bind(e),e._destroyHls=function(){this._hls&&this._hls.destroy(),this._hls=null,this.trackLogFragBuffer=[]}.bind(e),e._switchLevel=function(e){for(var t=this,r=(this.traceLog(f,"switchLevel::"+e),this.trigger(h.Player.LevelSwitch),this._hls.levels),i=!0,o=0;o<r.length;o++)if(r[o].url==e||r[o].url[0]==e){i=!1,this._hls2&&this._options.seamlessHandover?(this._hls.loadLevel=o,console.log("Seamlessly set nextLevel to",o)):(this._hls.on(n.Events.FRAG_BUFFERED,v),this._hls.currentLevel=o,console.log("Immediately set currentLevel to",o));break}i&&(this._hls.on(n.Events.FRAG_BUFFERED,v),this._hls.currentLevel=-1),this._switchedLevel=!0,setTimeout((function(){t.trigger(h.Player.LevelSwitched),t._switchedLevel=!1}),1e3)}.bind(e),E=function(e,t){t.on(n.Events.MANIFEST_LOADING,(function(){_.call(e,"mani_s")})),t.on(n.Events.MANIFEST_LOADED,(function(){_.call(e,"mani_f")})),t.on(n.Events.DEFAULT_BANDWIDTH,(function(t,r){e.trigger(h.Player.DefaultBandWidth,{width:r.width,height:r.height,bitrate:r.bitrate})})),t.on(n.Events.ERROR,(function(r,i){var o="hlsjs-error::"+i.type+"#"+i.details+"#"+(null==(o=i.networkDetails)?void 0:o.status)+"#"+i.reason+"#bw:"+(e._getbwEstimator()/8/1024).toFixed(2)+"KB";if("manifestParsingError"===i.details)try{o+="#"+i.networkDetails.getResponseHeader("Content-Type")+"#"+i.networkDetails.getResponseHeader("Content-Length")}catch(r){}else if("fragLoadError"===i.details||"fragLoadTimeOut"===i.details)o+="#"+i.frag.url+"#retry:"+(null==(y=i.errorAction)?void 0:y.retryCount);else if("internalException"===i.details)try{o+="#"+i.event+"#"+(null==(c=i.error)?void 0:c.message)+"#"+(null==(s=i.error)?void 0:s.stack)}catch(r){}"internalException"!==i.details&&(o+="#"+i.error);try{o+="#"+(null==e||null==(b=e.trackLogFragBuffer)?void 0:b.toString())}catch(r){}if(e.traceLog(f,o),e._options&&i.details!=n.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&1!=e._seeking&&0!=i.fatal){e._clearTimeout();var a,s,c,d=l.ErrorCode.LoadedMetadata,g=p.get("Error_Play_Text"),_=!1,m=null,y=!1,v=(i.details==n.ErrorDetails.MANIFEST_LOAD_ERROR||i.details==n.ErrorDetails.LEVEL_LOAD_ERROR?(_=!0,c=i.networkDetails,a=Number(c.status),e.liveShiftSerivce&&e.liveShiftSerivce.isLiveShiftPlaying()&&404===a?(d=l.ErrorCode.NotFoundSourceURL,g=p.get("Error_Liveshift_M3U8_Not_Found_Text"),y=!0):404===a?(d=l.ErrorCode.NotFoundSourceURL,g=p.get("Error_Not_Found"),m=p.get("Tip_Err_Not_found")):403===a?(s=u.parseHttpHeaders(c)["x-tengine-error"])&&-1<l.RegionBlockMessages.indexOf(s)?(d=l.ErrorCode.RegionBlock,g=p.get("Error_Region_Block_Text"),m=p.get("Tip_Err_Blocked")):(d=l.ErrorCode.AuthKeyExpired,g=p.get("Error_AuthKey_Text")):g=0===a&&navigator.onLine?(d=l.ErrorCode.RequestDataError,g+"，"+p.get("Maybe_Cors_Error")):p.get("Error_Load_M3U8_Failed_Text")):i.details==n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||i.details==n.ErrorDetails.LEVEL_LOAD_TIMEOUT?(_=!0,g=p.get("Error_Load_M3U8_Timeout_Text")):i.details==n.ErrorDetails.MANIFEST_PARSING_ERROR||i.details==n.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR?(_=!0,g=p.get("Error_M3U8_Decode_Text")):i.type==n.ErrorTypes.NETWORK_ERROR?(d=l.ErrorCode.NetworkError,g=p.get("Error_Network_Text")):i.type!=n.ErrorTypes.MUX_ERROR&&i.type!=n.ErrorTypes.MEDIA_ERROR||(d=l.ErrorCode.PlayDataDecode,g=p.get("Error_TX_Decode_Text")),g=g+"("+i.details+")",function(){var t;setTimeout((function(){e.trigger(h.Private.Play_Btn_Hide)})),e.checkOnline()&&(t={mediaId:(t=e.getOptions()||{}).vid||"",mediaAuth:t.mediaAuth||"",error_code:d,error_msg:i.details,diagnosis_info:m},e.logError(t),t.display_msg=g,e.trigger(h.Player.Error,t))}),b=function(){e._liveErrorHandle&&clearTimeout(e._liveErrorHandle),t.stopLoad(),e.trigger(h.Player.LiveStreamStop),e._liveErrorHandle=setTimeout(v,500)},w=e._options;if(w.isLive&&y)b();else if(e._hls2){if(_&&w.isLive)if(w.hlsOption.progressive){if(w.liveRetry>e._liveRetryCount)return 0==e._liveRetryCount&&e.trigger(h.Player.OnM3u8Retry),e.trigger(h.Private.H5_Loading_Show),e._hls.stopLoad(),e._liveRetryCount++,void setTimeout((function(){e.traceLog(f,"retry when live error in progressive mode#"+e._liveRetryCount),e._hls.loadSource(w.source)}),1e3*e._liveRetryCount)}else 0===(null==(o=i.errorAction)?void 0:o.retryCount)&&e.trigger(h.Player.OnM3u8Retry);i.fatal&&b()}else w.isLive?w.liveRetry>e._liveRetryCount?(0==e._liveRetryCount&&e.trigger(h.Player.OnM3u8Retry),c=w.liveRetryInterval+w.liveRetryStep*e._liveRetryCount,e._liveRetryCount++,e.trigger(h.Private.H5_Loading_Show),setTimeout((function(){_&&e._loadByUrlInner(e._options.source,0,!0)}),1e3*c)):b():(_&&-1<[403,404].indexOf(a)||!e._reloadForVod())&&v()}}))})}}).call(this)}).call(this,"false")},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../../lib/object":43,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../base/event/eventtype":68}],105:[function(e,t,r){var i=e("../base/player"),n=e("./hlsinjector"),o=i.extend({init:function(e,t){t._native=!1,n.inject(this,o,i,t),i.call(this,e,t)}});t.exports=o},{"../base/player":91,"./hlsinjector":104}],106:[function(e,t,r){var i=["extraInfo"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}var o="undefined"==typeof Promise?e("es6-promise").Promise:Promise,a=e("../../lib/io"),s=e("../../config"),l=e("../../lib/constants"),c=e("../../lang/index"),u=e("../base/event/eventtype"),d=e("../../lib/ua"),p=e("../base/event/eventtype"),h=e("../../lib/playerutil"),f="rtsinjector.js";function g(e){var t,r,i,n,o=this._options;o.rtsFallback&&window.Aliplayer?((t=o.rtsFallbackSource)||((r=String(o.rtsFallbackType||"").toUpperCase())&&!["HLS","FLV"].includes(r)&&(console.warn("invalid rtsFallbackType:",o.rtsFallbackType,", will use flv -> hls as fallback"),r=""),r=r||(h.isSupportFlv()?"FLV":"HLS"),i=o.source,n=!i.includes("@subvideo=no"),i=!i.includes("@subaudio=no"),i=(n={enableVideo:n,enableAudio:i}).enableVideo,n=n.enableAudio,"FLV"===r?(o.flvOption=o.flvOption||{},n||(o.flvOption.hasAudio=!1),i||(o.flvOption.hasVideo=!1)):"HLS"!==r||n||(o.mute=!0),t=function(e,t){t="FLV"===t?"flv":"m3u8";var r=window.location.protocol;r=(-1<["http:","https:"].indexOf(r)?r:"https:")+"//";return(e=e.replace("artc://",r).replace("?","."+t+"?").replace("@subvideo=no","").replace("@subaudio=no","")).includes("?")||(e+="."+t),e.includes("auth_key")&&(e+="&rts_degrade=on"),e}(o.source,r)),this.trigger(u.Player.RtsFallback,{reason:e,fallbackUrl:t}),this.loadByUrl(t)):(this.trigger(u.Player.Error,e),this.logError(e))}function _(e){var t=this,r=(this.trigger(u.Private.H5_Loading_Show),this.trigger(u.Private.Play_Btn_Hide),this._options),i=new m(t,e);return t._rts.subscribe(r.source,n({retryTimes:r.rtsFallback?1:void 0,mediaTimeout:r.rtsLoadDataTimeout},r.rtsOption||{})).then((function(e){return i.preProcess(),t.tag.srcObject=null,e.play(t.tag),d.IS_IOS&&Number(d.IOS_VERSION)<=14&&t.one(p.Player.TimeUpdate,(function(){setTimeout((function(){t.tag.pause(),t.tag.play()}),200)})),!0})).catch((function(e){return t.traceLog(f,"subError::"+JSON.stringify(e)),!1}))}t.exports.inject=function(e,t,r,n,d,h){function m(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyRts())}e._Type=t,e._superType=r,e._superPt=r.prototype,e._disposed=!1,t.prototype._checkRtsReady=function(){return null!=this._rts||(console.warn("please invoke this method after ready event"),!1)},e._isRts=!0,e._rts=null,e._isLoadedRts=!1,e.bind_rtsErrorEventHandler=null,e.bind_rtsReconnectEventHandler=null,t.prototype.play=function(e){if(this.traceLog(f,"play::"+e),e&&this.trigger(u.Private.ManualPlay),this._checkRtsReady()&&(this._isManualPlay=e||!1,this.paused()))return this.trigger(u.Private.Cover_Hide),this.trigger(u.Private.Play_Btn_Hide),_.call(this),this},t.prototype.seek=function(e){},t.prototype.setSpeed=function(e){},t.prototype.stop=function(){return this._rts&&this._rts.unsubscribe(),this},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return m},set:function(){return m}}),t.prototype._destroyRts=function(){this._rts&&(this.stop(),this._rts.off("onError",this.bind_rtsErrorEventHandler),this._rts.off("reconnect",this.bind_rtsReconnectEventHandler)),this._rts=null},t.prototype.initPlay=function(e){var t,r=this;function i(e,t){var r;e._disposed||(r=!e._rts,e._destroyRts(),e._rts=new AliRTS.createClient({customReporter:function(t){if(126===Number(t.msgid)){var r={};try{r=JSON.parse(t.args)}catch(t){r={}}r.tcid&&e._rts&&(e._rts.traceid=r.tcid,e.traceLog(f,"tcid::"+r.tcid),e.trigger(u.Player.RtsTraceId,{traceId:r.tcid,source:e._options.source}))}}}),e._checkRtsSupport((function(i){(function(e){var t=this._rtsErrorEventHandler.bind(this);this.bind_rtsErrorEventHandler=t,e.on("onError",t),t=this._rtsReconnectEventHandler.bind(this);this.bind_rtsReconnectEventHandler=t,e.on("reconnect",t)}).call(e,e._rts),e._options.autoplay?_.call(e).then((function(r){r&&e._initPlayBehavior(t)})):e._initPlayBehavior(t),r&&e._executeReadyCallback()}),(function(t){console.log("[RTS isSupport error]",t);var r=null,i=null;switch(Number(t.errorCode)){case 10110:r=l.ErrorCode.RtsNotSupportWebRtc,i=c.get("Rts_Err_Not_Support_Webrtc");break;case 10111:r=l.ErrorCode.RtsBrowserNotSupport,i=c.get("Rts_Err_Browser_Not_Support");break;case 10112:r=l.ErrorCode.RtsBrowserVersionTooLow,i=c.get("Rts_Err_Browser_Version_Too_Low");break;case 10113:r=l.ErrorCode.RtsNotSupportH264,i=c.get("Rts_Err_Not_Support_H264");break;case 10114:r=l.ErrorCode.RtsCreateOfferError,i=c.get("Rts_Err_Create_Offer_Error")}return g.call(e,{error_code:r,error_msg:i}),!1})))}this._isLoadedRts?i(this,e):(this.trigger(u.Private.H5_Loading_Show),t=performance.now(),function(e,t,r){var i="",n=this._options,o=(i="https://g.alicdn.com/apsara-media-box/imp-web-rts-sdk/"+(n.rtsVersion||s.rtsVersion)+"/aliyun-rts-sdk.js",n.assetPrefix&&(i=n.assetPrefix+"/rts/aliyun-rts-sdk.js"),n.rtsSdkUrl&&(i=n.rtsSdkUrl),this);a.loadJS(i,(function(){e.apply(o)}),(function(){r&&r()}))}.call(r,(function(){this.traceLog(f,"got js#"+parseInt(performance.now()-t)),this._isLoadedRts=!0,i(this,e)}),this._options.debug,(function(){var e={error_code:l.ErrorCode.ModuleLoadError,error_msg:"rts module load error."};r.trigger(u.Player.Error,e)})))},t.prototype.getStats=function(){return this._rts&&this._rts.getTransportStats?o.all([this._rts.getTransportStats(),this._rts.getRemoteVideoStats(),this._rts.getRemoteAudioStats()]).then((function(e){var t=e[0],r=e[1];e=e[2];return{rtt:t.rtt,bytesReceived:t.bytesReceived,framesDecoded:r.framesDecoded,packetsLost:(r.packetsLost||0)+(e.packetsLost||0),packetsReceived:(r.packetsReceived||0)+(e.packetsReceived||0),timestamp:t.timestamp||Date.now()}})).catch((function(e){return console.log("ERR in RTS getstats: ",e),{}})):o.resolve()},t.prototype._checkRtsSupport=function(e,t){this._options.skipRtsSupportCheck?e():this._rts.isSupport({isReceiveVideo:!0}).then(e).catch(t)},t.prototype._rtsErrorEventHandler=function(e){console.log("RTS Error:",e),e.extraInfo;var t=function(e,t){if(null==e)return{};var r,i={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;i[r]=e[r]}return i}(e,i),r=(this.traceLog(f,"rtsError::"+JSON.stringify(t)),null),n=null,o=null;switch(Number(e.errorCode)){case 10201:return;case 10101:r=l.ErrorCode.RtsSignalError,n=c.get("Rts_Err_Http_Signal_Error");break;case 10114:r=l.ErrorCode.RtsCreateOfferError,n=c.get("Rts_Err_Create_Offer_Error");break;case 10202:r=l.ErrorCode.RtsPlayUrlError,n=c.get("Rts_Err_Play_Url_Error");break;case 10203:r=l.ErrorCode.RtsSubscribeNonthing,n=c.get("Rts_Err_Subscribe_Nonthing");break;case 10205:var a=null==(a=e.extraInfo)?void 0:a.response;if(403===(null==a?void 0:a.status)){var s=a.headers["x-tengine-error"];if(s&&-1<l.RegionBlockMessages.indexOf(s)){r=l.ErrorCode.RegionBlock,n=c.get("Error_Region_Block_Text"),o=c.get("Tip_Err_Blocked");break}r=l.ErrorCode.AuthKeyExpired,n=c.get("Error_AuthKey_Text")}else o=404===(null==a?void 0:a.status)?(r=l.ErrorCode.NotFoundSourceURL,n=c.get("Error_Not_Found"),c.get("Tip_Err_Not_found")):(r=l.ErrorCode.RtsHttpRequestFaild,n=c.get("Rts_Err_Http_Request_Failed"),c.get("Tip_Err_Rts_Http_Failed"));break;case 10206:r=l.ErrorCode.RtsHttpAnswerFaild,n=c.get("Rts_Err_Http_Answer_Failed");break;case 10207:r=l.ErrorCode.RtsPlayFailedError;try{var d,p=null==(d=e.message.match(/after (\d+) ms/))?void 0:d[1]}catch(e){}n=c.get("Rts_Err_Play_Failed")+", "+(p?p*e.extraInfo.retryTimes/1e3+c.get("Rts_Err_No_Data_For"):e.message);break;case 12e3:r=l.ErrorCode.RtsPeerConnectionUnknown,n=c.get("Rts_Err_PeerConnection_Unknown")}t={error_code:r,error_msg:n,diagnosis_info:o,tcid:this._rts.traceid},function(e){var t=this;t.pause(),setTimeout((function(){t.trigger(u.Private.Play_Btn_Hide)})),t.checkOnline()&&g.call(this,e)}.call(this,t)},t.prototype._rtsReconnectEventHandler=function(e){var t=this;this.traceLog(f,"rts auto reconnect::"+e.retryTimes+"#"+JSON.stringify(e.reason)),this.waiting=!0,this._TimeUpdateStamp=0,this.trigger(u.Private.H5_Loading_Show),this.trigger(u.Private.Play_Btn_Hide),this._options.autoplay&&this.one(p.Player.AutoPlayPrevented,(function(){t.trigger(u.Private.Play_Btn_Hide),t.trigger(u.Private.H5_Loading_Show)})),1===e.retryTimes&&this.trigger(u.Player.OnM3u8Retry),this.trigger(u.Private.Retry,{type:"rts",source:this._options.source})}};var m=function(){function e(e,t){(this.isRetry=t)&&(this.isApple=d.IS_IOS||d.IS_SAFARI,this.player=e)}return e.prototype.preProcess=function(){var e,t,r;this.isRetry&&this.isApple&&(e=this.player.getVolume(),t=this.player.muted(),e)&&!t&&((r=this.player.tag).volume=0,this.player.one("canplay",(function(){r.volume=e})))},e}()},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../../lib/playerutil":46,"../../lib/ua":49,"../base/event/eventtype":68,"es6-promise":9}],107:[function(e,t,r){var i=e("../base/player"),n=e("./rtsinjector"),o=i.extend({init:function(e,t){t.isLive&&(t._native=!1,n.inject(this,o,i,t),i.call(this,e,t))}});t.exports=o},{"../base/player":91,"./rtsinjector":106}],108:[function(e,t,r){var i=e("../../lib/constants");e=e("../../lib/oo").extend({init:function(e){this.player=e,this.tickhandle=null}});e.prototype.tick=function(e,t){var r=this;this.tickhandle=setTimeout((function(){r.player&&r.player.trigger(i.AuthKeyExpiredEvent),t&&t()}),1e3*e)},e.prototype.clearTick=function(e){this.tickhandle&&clearTimeout(this.tickhandle)},t.exports=e},{"../../lib/constants":29,"../../lib/oo":44}],109:[function(e,t,r){function i(e,t,r){var i=s.randomUUID(),o="https://mts."+e.domainRegion+".aliyuncs.com/?";i={AccessKeyId:e.accessId,Action:"GetLicense",MediaId:e.vid,LicenseUrl:o,data:e.data,SecurityToken:e.stsToken,Format:"JSON",Type:e.encryptionType,Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:i};e.header&&(i.Header=e.header),o+="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(i,e.accessSecret,"POST")),e=s.makeUTF8sort(i,"=","&"),n.post(o,e,(function(e){e?(e=JSON.parse(e),t&&(e=e.License,t(e))):r&&r(l.createError("MPS获取License失败"))}),(function(e){if(r){var t={Code:"",Message:d.get("Error_MTS_Fetch_Urls_Text")};try{t=JSON.parse(e)}catch(e){}r({Code:a.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId||""})}}))}var n=e("../../lib/io"),o=(e("../../lib/ua"),e("../../lib/bufferbase64")),a=e("../../lib/constants"),s=e("./signature"),l=e("./util"),c=e("../../lib/url"),u=e("../../lib/playerutil"),d=e("../../lang/index"),p=e("../base/event/eventtype");function h(e){window.console.error("The license request failed.")}function f(e){window.console.error("A decryption key error was encountered"),window.console.error("A decryption key error was encountered",e)}function g(e){window.console.log("Decryption key was added to session.")}function _(e,t,r){r.addEventListener(e,(function(){t(arguments[0])}),!1)}t.exports.requestLicenseKey=function(e){var t=e;return t._options.vid&&(t.__vid=t._options.vid),function(e,r){var n,s,l=t._options,c=t._getDRMEncryptItem();c&&(n={vid:t.__vid,accessId:l.accId,accessSecret:l.accSecret,stsToken:l.stsToken,domainRegion:l.domainRegion,authInfo:l.authInfo,encryptionType:c.encryptionType},c.encryptionType==a.EncryptionType.Widevine?n.data=o.encode(e.message):c.encryptionType==a.EncryptionType.PlayReady&&(l=o.unpackPlayReady(e.message),n.data=l.changange,l.header)&&(n.header=JSON.stringify(l.header)),console.log(n.data),e=t.__licenseKeys,s=t.__vid+c.Url,e&&e[s],i(n,(function(e){t.__licenseKeys||(t.__licenseKeys={}),10<n.data.length&&(t.__licenseKeys[s]=e),e=o.decode(e),r(e)}),(function(e){e={mediaId:t.__vid,error_code:e.Code,error_msg:e.Message},t.logError(e),t.trigger("error",e)})))}},t.exports.loadCertificate=function(e,t){var r,i,n,o=new XMLHttpRequest,l=(o.addEventListener("load",function(e,t){var r;t=t.target;if(200!==t.status){var i=a.ErrorCode.DrmLicenseRequestFailed,n=d.get("Error_Drm_License_Request_Failed");i={mediaId:this._options.vid||"",error_code:i,error_msg:t.response};player.logError(i),i.display_msg=n,player.trigger(p.Player.Error,i)}else{try{r=this._options.isLive?JSON.parse(t.response).Response.B64ServCert:JSON.parse(JSON.parse(t.response).DRMCertInfo).b64ServCert}catch(e){console.log(e)}n=s.base64DecodeUint8Array(r),i=function(e,t){var r=t.target,i=(t=t.initData,s.arrayToString(t).split("skd://")[1].split("?")[0]),n=s.stringToArray(i);if(t=function(e,t,r){"string"==typeof t&&(t=stringToArray(t));var i=0,n=new ArrayBuffer(e.byteLength+4+t.byteLength+4+r.byteLength),o=new DataView(n);return new Uint8Array(n,0,e.byteLength).set(e),i+=e.byteLength,o.setUint32(i,t.byteLength,!0),i+=4,(e=new Uint16Array(n,i,t.length)).set(t),i+=e.byteLength,o.setUint32(i,r.byteLength,!0),i+=4,new Uint8Array(n,i,r.byteLength).set(r),new Uint8Array(n,0,n.byteLength)}(t,n,e),r.webkitKeys||(function(){if(!WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))throw"Key System not supported";keySystem="com.apple.fps.1_0"}(),r.webkitSetMediaKeys(new WebKitMediaKeys(keySystem))),!r.webkitKeys)throw"Could not create MediaKeys";if(n=r.webkitKeys.createSession("video/mp4",t),!n)throw"Could not create key session";n.contentId=i,_("webkitkeymessage",function(e){var t=this,r=e.target,i=e.message,n=new XMLHttpRequest,o=(e=(e.sessionId,n.responseType="text",n.session=r,n.addEventListener("load",function(e){e=e.target,t=this._options.isLive?JSON.parse(e.response).Response.B64License:JSON.parse(JSON.parse(e.response).License).b64License;var t=s.base64DecodeUint8Array(t);t=s.Uint8ArrayToString(t);"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6)),t=s.base64DecodeUint8Array(t),e.session.update(t)}.bind(this),!1),n.addEventListener("error",h,!1),btoa("spc="+s.base64EncodeUint8Array(i)+"&assetId="+encodeURIComponent(r.contentId))),{Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:t._options.accessKeyId,SecurityToken:t._options.securityToken,CertId:t._options.certId});t._options.isLive?(o.RegionId=t._options.region,o.Action="DescribeDRMLicense",o.Version="2016-11-01",o.CdmData=e,o.Type="fairplay",o.Domain=c.parseUrl(t._options.source).hostname):(o.region=t._options.region,o.Action="GetDRMLicense",o.Version="2017-03-21",o.VideoId=t._options.vid,o.CDMData=e,o.DRMType="FairPlay");var a,l;i="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(o,t._options.accessKeySecret,"POST"));for(l in r=t._options.isLive?"https://"+u.getLiveHostByRegion(t._options.region)+"/?"+i:"https://vod."+t._options.region+".aliyuncs.com/?"+i,n.open("POST",r,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o){var d;o.hasOwnProperty(l)&&(d=o[l],a=a?a+"&"+s.AliyunEncodeURI(l)+"="+s.AliyunEncodeURI(d):s.AliyunEncodeURI(l)+"="+s.AliyunEncodeURI(d))}n.send(a)}.bind(this),n),_("webkitkeyadded",g,n),_("webkitkeyerror",f,n)}.bind(this,n),this._fairPlayHandlers.onNeedKey=i,t=function(e){window.console.error("A video playback error occurred")}.bind(this),this._fairPlayHandlers.onError=t,this.tag.addEventListener("webkitneedkey",i,!1),this.tag.addEventListener("error",t,!1),this.tag.src=this._options.source}e&&e()}.bind(e,t),!1),o.addEventListener("error",function(e){window.console.error("Failed to retrieve the server certificate.")}.bind(e),!1),{Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:e._options.accessKeyId,SecurityToken:e._options.securityToken,CertId:e._options.certId});e._options.isLive?(l.RegionId=e._options.region,l.Action="DescribeDRMCertificate",l.Version="2016-11-01"):(l.region=e._options.region,l.Action="GetDRMCertInfo",l.Version="2017-03-21",l.VideoId=e._options.vid),t="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(l,e._options.accessKeySecret,"POST")),e=e._options.isLive?"https://"+u.getLiveHostByRegion(e._options.region)+"/?"+t:"https://vod."+e._options.region+".aliyuncs.com/?"+t;for(r in o.open("POST",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l)l.hasOwnProperty(r)&&(i=l[r],n=n?n+"&"+s.AliyunEncodeURI(r)+"="+s.AliyunEncodeURI(i):s.AliyunEncodeURI(r)+"="+s.AliyunEncodeURI(i),console.log(i));o.send(n)},t.exports.getRequestUrl=function(e,t){e={AccessKeyId:t._options.accessKeyId,Format:"JSON",Version:"2016-11-01",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),SecurityToken:t._options.securityToken,RegionId:t._options.region,Action:"DescribeDRMLicense",Type:"widevine",CdmData:e,Domain:c.parseUrl(t._options.source).hostname};var r=(t._options.widevineCertId&&(e.CertId=t._options.widevineCertId),"Signature="+s.AliyunEncodeURI(s.makeChangeSiga(e,t._options.accessKeySecret,"POST")));return{url:"https://"+u.getLiveHostByRegion(t._options.region)+"/?"+r,data:s.makeUTF8sort(e,"=","&"),jsonData:s.makeUTF8sort(e,"=","&","json")}},t.exports.postData=function(e,t){var r=s.randomUUID();r={AccessKeyId:t._options.accessKeyId,VideoId:t._options.vid,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:r,SecurityToken:t._options.securityToken,region:t._options.region,Action:"GetDRMLicense",DRMType:"Widevine",CDMData:e},t._options.widevineCertId&&(r.CertId=t._options.widevineCertId),e="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(r,t._options.accessKeySecret,"POST"));return{url:"https://vod."+t._options.region+".aliyuncs.com/?"+e,data:s.makeUTF8sort(r,"=","&"),jsonData:s.makeUTF8sort(r,"=","&","json")}},t.exports.destroyFairPlay=function(){this._fairPlayHandlers.onNeedKey&&this.tag.removeEventListener("webkitneedkey",this._fairPlayHandlers.onNeedKey),this._fairPlayHandlers.onError&&this.tag.removeEventListener("error",this._fairPlayHandlers.onError),this._fairPlayHandlers={}}},{"../../lang/index":24,"../../lib/bufferbase64":26,"../../lib/constants":29,"../../lib/io":41,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/url":50,"../base/event/eventtype":68,"./signature":115,"./util":116}],110:[function(e,t,r){var i=e("../../lib/io"),n=e("../../lib/constants"),o=e("../../lib/data"),a=e("./util");t.exports.getDataByAuthInfo=function(e,t,r,s){e={playAuth:e.playAuth,requestId:e.requestId},i.get("https://api.h5video.shop/api/page/getMediaPlayInfo"+function(e){return e.requestId=o.guid(),Object.keys(e).reduce((function(t,r){return t+(t?"&":"?")+r+"="+encodeURIComponent(e[r])}),"")}(e),(function(e){if(e)if(e=JSON.parse(e),200!==e.httpStatusCode)s&&s({Code:n.ErrorCode.ServerAPIError,Message:e.httpStatusCode+"|"+e.code,sri:e.requestId});else{for(var i=e.data.PlayInfoList,o=[],l=i.length-1;0<=l;--l)"AUTO"===i[l].Definition&&(o=[i.splice(l,1)[0]]);var c,u=null;(u=(u=0===o.length?a.objectPlayerMessageSort(i,t):a.objectPlayerMessageSort(o)).map((function(e){return"m3u8"===e.format&&(e.Url=e.Url+"&_ext=.m3u8"),e})))&&r&&(c=e.data.VideoBase||{},r({videoId:c.VideoId,userId:c.UserId,requestId:e.requestId,urls:u,encryptUrlArr:[],thumbnailUrl:"",coverUrl:c.CoverURL,playInfoAry:i,textTracks:e.data.SubtitlesList}))}else s&&s(a.createError("轻SaaS服务获取数据失败"))}),(function(e){e&&"string"==typeof e&&-1<e.indexOf("Invalid CORS request")?s&&s({Code:n.ErrorCode.ServerAPIError,Message:e}):s&&s(a.createError("轻SaaS服务获取数据失败"))}))}},{"../../lib/constants":29,"../../lib/data":31,"../../lib/io":41,"./util":116}],111:[function(e,t,r){var i=e("./saasplayer"),n=e("./light"),o=e("../base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.service=n,this.loadByLightSaas()}});e.prototype.loadByLightSaas=function(e){var t=this._options,r={playAuth:t.mediaAuth,defaultDefinition:t.defaultDefinition};this.log("STARTFETCHDATA",{it:"lightSaasPlayAuth",pa:{playAuth:t.mediaAuth}}),this.loadData(r,e)},e.prototype.replayByMediaAuth=function(e){this.trigger(o.Private.Error_Hide),this.tag&&(this.tag.pause(),this.tag.removeAttribute("src"),this.tag.load()),this.setTextTracks([]),this.trigger(o.Private.UserTrackReset),this._options.source="",this._options.mediaAuth=e,this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.loadByLightSaas(!0)},t.exports=e},{"../base/event/eventtype":68,"./light":110,"./saasplayer":114}],112:[function(e,t,r){var i=e("../../lib/io"),n=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../lang/index"),l=e("../../lib/ua"),c=function(e,t){for(var r="",i=(e.sort((function(e,r){return e=parseInt(e.width),r=parseInt(r.width),"desc"==t?r<e?-1:e<r?1:void 0:e<r?-1:r<e?1:void 0})),e.length),o=0;o<i;o++){var a=e[o],s=n.QualityLevels[a.definition],l=void 0===s?"":r==s?s+a.height:s;a.desc=l,r=s}};t.exports.getDataByAuthInfo=function(e,t,r,u){o.returnUTCDate(),o.randomUUID();var d=o.randomUUID();d={AccessKeyId:e.accessId,Action:"PlayInfo",MediaId:e.vid,Formats:e.format,AuthInfo:e.authInfo,AuthTimeout:e.authTimeout||n.AuthKeyExpired,IncludeSnapshotList:e.includeSnapshotList,Rand:e.rand,SecurityToken:e.stsToken,Format:"JSON",Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Terminal:l.IS_CHROME?"Chrome":l.IS_EDGE?"Edge":l.IS_IE11?"IE":l.IS_SAFARI?"Safari":l.IS_FIREFOX?"Firefox":"",SignatureNonce:d},e.hlsUriToken&&(e.MtsHlsUriToken=e.hlsUriToken),e.playConfig&&(d.PlayConfig=JSON.stringify(e.playConfig)),d=o.makeUTF8sort(d,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(d,e.accessSecret)),e="https://mts."+e.domainRegion+".aliyuncs.com/?"+d;i.get(e,(function(e){var i,o,s;e?(i=(e=JSON.parse(e)).PlayInfoList.PlayInfo,o="",(s=e.SnapshotList?e.SnapshotList.Snapshot:[])&&0<s.length&&(o=s[0].Url),s=function(e,t){for(var r=[],i=[],o=[],a=[],s=e.length-1;0<=s;s--){var l=e[s];("mp4"==l.format?i:"mp3"==l.format?o:"m3u8"==l.format?r:a).push(l)}return 0<o.length?(function(e,t){for(var r="",i=(e.sort((function(e,r){return e=parseInt(e.bitrate),r=parseInt(r.bitrate),"desc"==t?r<e?-1:e<r?1:void 0:e<r?-1:r<e?1:void 0})),e.length),o=0;o<i;o++){var a=e[o],s=n.QualityLevels[a.definition],l=void 0===s?a.bitrate:r==s?s+a.bitrate:s;a.desc=l,r=s}}(o,t),o):0<i.length?(c(i,t),i):0<r.length?(c(r,t),r):(c(a,t),a)}(i,t),r&&r({requestId:e.RequestId,urls:s,thumbnailUrl:o})):u&&u(a.createError("MPS获取取数失败"))}),(function(e){if(u){var t={Code:"",Message:s.get("Error_MTS_Fetch_Urls_Text")};try{t=JSON.parse(e)}catch(e){}u({Code:n.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId||""})}}))}},{"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../../lib/ua":49,"./signature":115,"./util":116}],113:[function(e,t,r){var i=e("./saasplayer"),n=(e("../../lib/constants"),e("./mts"));e=i.extend({init:function(e,t){i.call(this,e,t),this.service=n,this.loadByMts()}});e.prototype.loadByMts=function(e){var t={vid:this._options.vid,accessId:this._options.accId,accessSecret:this._options.accSecret,stsToken:this._options.stsToken,domainRegion:this._options.domainRegion,authInfo:this._options.authInfo,format:this._options.format,includeSnapshotList:this._options.includeSnapshotList||!1,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,hlsUriToken:this._options.hlsUriToken,playConfig:this._options.playConfig};this.loadData(t,e)},e.prototype.replayByVidAndAuthInfo=function(e,t,r,i,n,o){this.trigger("error_hide"),this._options.source="",this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.reloadNewVideoInfo(e,t,r,i,n,o)},e.prototype.reloadNewVideoInfo=function(e,t,r,i,n,o){if(this.trigger("error_hide"),this._options.source="",e&&(this._options.vid=e,this._options.accId=t,this._options.accessSecret=r,this._options.stsToken=i,this._options.domainRegion=o,this._options.authInfo=n),!(this._options.vid&&this._options.accId&&this._options.accessSecret&&this._options.stsToken&&this._options.domainRegion&&this._options.authInfo))throw new Error("需要提供vid、accId、accessSecret、stsToken、domainRegion和authInfo参数");this.log("STARTFETCHDATA",{it:"mps",pa:{vid:e}}),this.loadByMts(!0)},t.exports=e},{"../../lib/constants":29,"./mts":112,"./saasplayer":114}],114:[function(e,t,r){var i=e("../base/player"),n=e("../audio/audioplayer"),o=e("../../lib/io"),a=e("../../lib/constants"),s=e("./signature"),l=e("./authkeyexpiredhandle"),c=e("../hls/hlsinjector"),u=e("../flv/flvinjector"),d=e("../drm/drminjector"),p=e("../sw/swinjector"),h=e("../../lang/index"),f=e("../../lib/ua"),g=e("../../config"),_=e("../../lib/playerutil"),m=e("../base/event/eventtype"),y=e("../../protected/anti-injector-protected"),v=i.extend({init:function(e,t){f.IS_PC&&y(t,this),this._authKeyExpiredHandle=new l(this),i.prototype._videoCreateEl||(i.prototype._videoCreateEl=i.prototype.createEl),"mp3"==t.format?(t.height="auto",t.mediaType="audio",i.prototype.createEl=n.prototype.createEl,n.call(this,e,t),v.prototype.play=i.prototype.play,v.prototype.pause=i.prototype.pause,v.prototype.initPlay=i.prototype.initPlay,v.prototype.replay=i.prototype.replay,v.prototype.stop=i.prototype.stop,v.prototype.seek=i.prototype.seek):(i.prototype.createEl=i.prototype._videoCreateEl,t._native=!1,i.call(this,e,t))}});function b(){var e;return 1!==Number(this._options.encryptType)&&(e={error_code:a.ErrorCode.InvalidParameter,error_msg:h.get("Error_Not_Support_encrypt_Text")},this.logError(e),this.trigger("error",e),!0)}function w(){var e=_.checkSecuritSupport();if(e)return this._mtsError_message(this,{Code:a.ErrorCode.EncrptyVideoNotSupport,Message:e,display_msg:e},""),!0}v.prototype.loadData=function(e,t){var r,i,n;1!=this._options.encryptType?this._loadData(e,t):(r="aliplayer-vod-min.js","",i=g.domain?"https://"+g.domain+g.path+g.h5Version+"/hls/"+r:"/build/hls/"+r,this.trigger(m.Private.Timeline,{name:"mod_rand_s",ts:performance.now()}),n=this,o.loadJS(i,(function(){n.trigger(m.Private.Timeline,{name:"mod_rand_f",ts:performance.now()}),n._loadData(e,t)})))},v.prototype._loadData=function(e,t){var r,n=(new Date).getTime(),o=this;this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._authKeyExpiredHandle.clearTick(),""!=e.format&&"m3u8"!=e.format||1!=this._options.encryptType?e.rand=s.randomUUID():(r=_rtsneg(3===o._vdnct6f?e.vid:void 0),e.rand=_dnaRekam(r,o._vdnct6f)),this._options.thumbnailUrl&&(e.thumbnailUrl=this._options.thumbnailUrl),this.trigger(m.Private.H5_Loading_Show),this.service.getDataByAuthInfo.call(this,e,this._options.qualitySort,(function(s){if(o.trigger(m.Private.PlayInfoLoaded,s),s.userId&&(o._options.from=s.userId),s.videoId&&o._monitor&&o._monitor.updateLightSaasVideoId(s.videoId),s.textTracks&&s.textTracks.length&&(l=_.unqiueTextTracks(s.textTracks),o.trigger(m.Private.TextTrackFounded,{from:"saas",textTracks:l})),s.urls&&0==s.urls.length)o._mtsError_message(o,{Code:a.ErrorCode.URLsIsEmpty,Message:h.get("Error_Vod_URL_Is_Empty_Text")+(e.format?"(format:"+e.format+")":"")},"");else{o.log("COMPLETEFETCHDATA",{cost:(new Date).getTime()-n,mi:JSON.stringify(function(e){for(var t=[],r=0;r<e.length;r++)t.push({width:e[r].width,height:e[r].height,definition:e[r].definition,format:e[r].format,encryptionType:e[r].encryptionType,duration:e[r].duration});return t}(s.urls))}),o._urls=s.urls,o._currentPlayIndex=_.findSelectedStreamLevel(o._urls,e.defaultDefinition);var l=(g=s.urls[o._currentPlayIndex]).Url;if(o._vodDuration=g.duration||0,o._options.source=l,o.encType="",o.trigger(m.Private.PREPARE,g.definition),o.UI.cover&&s.coverUrl&&!o._options.cover&&o.setCover(s.coverUrl),_.isHls(l))if(s&&s.playInfoAry&&0<s.playInfoAry.length&&"Widevine-FairPlay"==s.playInfoAry[0].EncryptType)d.inject(o,v,i.prototype,o._options);else{if(s.encryptUrlArr&&0<s.encryptUrlArr.length){for(var g,y=[],S=!1,x=0;x<s.encryptUrlArr.length;++x)if((g=s.encryptUrlArr[x]).encryptionType===a.EncryptionType.Private){if(b.call(o))return;if(S||w.call(o))return void(S=!0);var T=_yekced(r,g.rand,g.plaintext);y.push({url:g.Url,secData:T})}}else if(y="",g.encryptionType==a.EncryptionType.Private){if(b.call(o))return;if(w.call(o))return;o.encType=g.encryptionType,y=_yekced(r,g.rand,g.plaintext)}var k=f.IS_IOS&&parseFloat(f.IOS_FULL_VERSION)<17.1;(y&&(o._options.useSW||k)?p:(o._hls&&(o._hls.destroy(),o._hls=null),c)).inject(o,v,i,o._options,y)}else _.isFlv(l)?u.inject(o,v,i,o._options):_.isDash(l)?(console.log("isDash"),d.inject(o,v,i,o._options)):o._player._executeReadyCallback();o._authKeyExpiredHandle.tick(a.AuthKeyRefreshExpired),o.trigger(m.Private.SourceLoaded,g),o.initPlay(t),o.trigger(m.Private.ChangeURL,{from:"saas"}),s.thumbnailUrl&&o._thumbnailService.get(s.thumbnailUrl),k=o._player._isFlv,l=-1<o._player.getOptions().source.indexOf("mp4"),1==o._player.encType||k||l||(f.IS_IOS||f.IS_MAC_SAFARI||f.IS_X5||f.IS_EDGE)&&(o._player._executeReadyCallback(),o._urls.length)&&o.trigger(m.Private.SourceLoaded,g)}}),(function(e){var t;-1<(null==(t=e.Message)?void 0:t.indexOf('The specified parameter "Rand" is not valid'))&&b.call(o)||o._mtsError_message(o,e,"")}))},v.prototype._changeStream=function(e,t){this._urls.length>e&&(this._loadByUrlInner(this._urls[e].Url,this.getCurrentTime(),!0),this._currentPlayIndex=e,this.trigger(m.Private.QualityChange,t||h.get("Quality_Change_Fail_Switch_Text")))},v.prototype._getLowerQualityLevel=function(){if(0!=this._urls.length&&-1!=this._currentPlayIndex)if("asc"==this.options().qualitySort){if(0<this._currentPlayIndex)return{item:this._urls[this._currentPlayIndex-1],index:this._currentPlayIndex-1}}else if(this._currentPlayIndex<this._urls.length-1)return{item:this._urls[this._currentPlayIndex+1],index:this._currentPlayIndex+1};return""},v.prototype._mtsError_message=function(e,t,r){e._serverRequestId=t.sri,e.trigger(m.Private.H5_Loading_Hide),t.Code=t.Code||t.code,t.Message=t.Message||t.message;var i=t.Code||"OTHER_ERR_CODE",n=t.Message||"OTHER_ERR_MSG",o=(a.ErrorCode.ServerAPIError,t.display_msg||""),s=(-1<n.indexOf("InvalidParameter.Rand")||-1<n.indexOf('"Rand" is not valid.')?(a.ErrorCode.EncrptyVideoNotSupport,o=h.get("Error_Encrypt_Fetch_Failed_Text")):-1<n.indexOf("SecurityToken.Expired")?(a.ErrorCode.AuthKeyExpired,o=h.get("Error_Playauth_Expired_Text")):-1<n.indexOf("InvalidVideo.NoneStream")?(a.ErrorCode.URLsIsEmpty,o=h.get("Error_Fetch_NotStream")+"("+e._options.format+"|"+e._options.definition+")"):-1<n.indexOf("DataNotFound")&&(a.ErrorCode.MediaNotFound,o=h.get("Error_Fetch_Media_Not_Found")),e._options.vid||"");e._options.from,s={mediaId:s,mediaAuth:e._options.mediaAuth||"",error_code:i,error_msg:n};t.sri&&(s.sri=t.sri),e.logError(s),s.display_msg=o&&o===n?o:(o||h.get("Error_Vod_Fetch_Urls_Text"))+"</br>"+n,e.trigger("error",s),console.log("PrismPlayer Error: "+r+"! error_msg :"+n+";")},t.exports=v},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../../lib/playerutil":46,"../../lib/ua":49,"../../protected/anti-injector-protected":131,"../audio/audioplayer":66,"../base/event/eventtype":68,"../base/player":91,"../drm/drminjector":99,"../flv/flvinjector":102,"../hls/hlsinjector":104,"../sw/swinjector":129,"./authkeyexpiredhandle":108,"./signature":115}],115:[function(e,t,r){var n=e("crypto-js/hmac-sha1"),o=e("crypto-js/enc-base64"),a=e("crypto-js/enc-utf8");t.exports.randomUUID=function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.exports.returnUTCDate=function(){var e=new Date,t=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDate(),n=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds();e=e.getUTCMilliseconds();return Date.UTC(t,r,i,n,o,a,e)},t.exports.AliyunEncodeURI=function(e){return e=encodeURIComponent(e),(e=(e=e.replace("+","%2B")).replace("*","%2A")).replace("%7E","~")},t.exports.makesort=function(e,t,r){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");var i=[];for(s in e)i.push(s);for(var n=i.sort(),o="",a=n.length,s=0;s<a;s++)""==o?o=n[s]+t+e[n[s]]:o+=r+n[s]+t+e[n[s]];return o},t.exports.makeUTF8sort=function(e,r,i){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");var n=[];for(l in e)n.push(l);for(var o=n.sort(),a="",s=o.length,l=0;l<s;l++){var c=t.exports.AliyunEncodeURI(o[l]),u=t.exports.AliyunEncodeURI(e[o[l]]);""==a?a=c+r+u:a+=i+c+r+u}return a},t.exports.makeChangeSiga=function(e,r,i){if(e)return o.stringify(n((i=i||"GET")+"&"+t.exports.AliyunEncodeURI("/")+"&"+t.exports.AliyunEncodeURI(t.exports.makeUTF8sort(e,"=","&")),r+"&"));throw new Error("PrismPlayer Error: vid should not be null!")},t.exports.ISODateString=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"},t.exports.encPlayAuth=function(e){if(e=a.stringify(o.parse(e)))return JSON.parse(e);throw new Error("playuth参数解析为空")},t.exports.encRsa=function(){},t.exports.stringToArray=function(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),i=0,n=e.length;i<n;i++)r[i]=e.charCodeAt(i);return r},t.exports.Uint8ArrayToString=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},t.exports.arrayToString=function(e){return e=new Uint16Array(e.buffer),String.fromCharCode.apply(null,e)},t.exports.base64DecodeUint8Array=function(e){var t=window.atob(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r));for(i=0;i<r;i++)n[i]=t.charCodeAt(i);return n},t.exports.base64EncodeUint8Array=function(e){for(var t,r,i,n,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;c<e.length;)i=(t=e[c++])>>2,n=(3&t)<<4|(t=c<e.length?e[c++]:Number.NaN)>>4,o=(15&t)<<2|(r=c<e.length?e[c++]:Number.NaN)>>6,a=63&r,isNaN(t)?o=a=64:isNaN(r)&&(a=64),l+=s.charAt(i)+s.charAt(n)+s.charAt(o)+s.charAt(a);return l}},{"crypto-js/enc-base64":4,"crypto-js/enc-utf8":5,"crypto-js/hmac-sha1":6}],116:[function(e,t,r){var i=e("../../lib/constants");t.exports.createError=function(e,t){return{requestId:"",code:t||"",message:e}},t.exports.getItem=function(e){var t={};return t.width=e.Width,t.height=e.Height,t.definition=e.Definition,t.Url=e.PlayURL,t.format=e.Format,t.desc=i.QualityLevels[t.definition],t.encryptionType=i.VodEncryptionType[e.EncryptType],t.plaintext=e.Plaintext,t.rand=e.Rand,t.encrypt=e.Encrypt,t.duration=e.Duration,t.bitrate=e.Bitrate,t},t.exports.objectPlayerMessageSort=function(e,r){for(var i=[],n=[],o=[],a=[],s=e.length-1;0<=s;s--){var l=e[s];l=t.exports.getItem(l);("mp4"==l.format?n:"mp3"==l.format?o:"m3u8"==l.format?i:a).push(l)}var c=[];c=0<o.length?o:0<n.length?n:0<i.length?i:a;return"asc"==r&&c.reverse(),c}},{"../../lib/constants":29}],117:[function(e,t,r){var i=e("../../lib/io"),n=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../config"),l=e("../../lang/index"),c=e("../base/event/eventtype"),u="saas/vod.js",d={MAIN:"main",BACKUP:"backup"},p=function(e){return(e||"").split("?")[0]},h={type:d.MAIN,time:0};function f(e,t){0!==h.time&&(this._useBackupVodDomain=!0,this.trigger(c.Private.VodRequestExceptionResume,{url:p(e),status:null==t?void 0:t.status,response:200!==(null==t?void 0:t.status)?null==t?void 0:t.responseText:"",retryType:h.type,retryTime:h.time}))}t.exports.getDataByAuthInfo=function e(t,r,g,_){var m=this,y=function(e){var t=o.randomUUID();t={AccessKeyId:e.accessId,Action:"GetPlayInfo",VideoId:e.vid,Formats:e.format,AuthTimeout:e.authTimeout||n.AuthKeyExpired,Rand:e.rand,SecurityToken:e.stsToken,StreamType:e.mediaType,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:t,PlayerVersion:s.h5Version,Channel:"HTML5"};return"AUTO"===e.definition?t.ResultType="Multiple":e.definition&&(t.Definition=e.definition),e.authInfo&&(t.AuthInfo=e.authInfo),e.outputType&&(t.OutputType=e.outputType),e.playConfig&&(t.PlayConfig=JSON.stringify(e.playConfig)),e.reAuthInfo&&(t.ReAuthInfo=JSON.stringify(e.reAuthInfo)),t=o.makeUTF8sort(t,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(t,e.accessSecret)),"https://vod"+(this._useBackupVodDomain?"-product":"")+"."+e.domainRegion+".aliyuncs.com/?"+t}.call(this,t),v=performance.now();0===h.time&&this.trigger(c.Private.Timeline,{name:"vod_s",ts:v}),i.get.call(this,y,(function(e){f.call(m,y,{status:200}),function(e,t,r,i,n){if(this.trigger(c.Private.Timeline,{name:"vod_f",ts:performance.now()}),this.traceLog(u,"Vod request ok."+e),h={type:d.MAIN,time:0},e){e=JSON.parse(e);for(var o,s="",l=e.VideoBase.ThumbnailList,p=(l&&l.Thumbnail&&0<l.Thumbnail.length?s=l.Thumbnail[0].URL:t.thumbnailUrl&&(s=String(t.thumbnailUrl)),e.PlayInfoList.PlayInfo),f=[],g=[],_=p.length-1;0<=_;--_)"AUTO"===p[_].Definition?(this.getOptions().isVBR=!0,o=p.splice(_,1)[0],f=[o]):1===p[_].Encrypt&&g.push(p[_]);l=null,g=0===f.length?(l=a.objectPlayerMessageSort(p,r),[]):(l=a.objectPlayerMessageSort(f),a.objectPlayerMessageSort(g)),l&&i&&i({requestId:e.RequestId,urls:l,encryptUrlArr:g,thumbnailUrl:s,coverUrl:e.VideoBase.CoverURL,playInfoAry:p})}else n&&n(a.createError("点播服务获取数据失败"))}.call(m,e,t,r,g,_)}),(function(i,o,a){if(0===(b=(s=a).status)||500<=b&&b<=599&&-1===(s.responseText||"").indexOf("RequestId")){if(m.trigger(c.Private.VodRequestException,{url:p(y),status:a.status,response:a.responseText,retryType:h.type,retryTime:h.time}),5e3<performance.now()-v&&(h.type===d.MAIN?h.time=1:h.type===d.BACKUP&&(h.time=2)),h.type===d.MAIN)return h.time<1?(h.time++,void setTimeout((function(){e.call(m,t,r,g,_)}),200)):(h.type=d.BACKUP,h.time=1,void setTimeout((function(){m._useBackupVodDomain=!0,e.call(m,t,r,g,_)}),200));if(h.type===d.BACKUP){if(h.time<2)return h.time++,void setTimeout((function(){e.call(m,t,r,g,_)}),200);m&&(m._useBackupVodDomain=!1)}}else f.call(m,y,a);var s,b;(function(e,t){if(this.traceLog(u,"Vod request error::"+e),h={type:d.MAIN,time:0},t){var r={Code:"",Message:l.get("Error_Vod_Fetch_Urls_Text")};try{r=JSON.parse(e)}catch(e){}t({Code:n.ErrorCode.ServerAPIError,Message:r.Code+"|"+r.Message,sri:r.RequestId||""})}}).call(m,i,_)}),void 0,void 0,5e3)}},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../base/event/eventtype":68,"./signature":115,"./util":116}],118:[function(e,t,r){var i=e("./saasplayer"),n=e("../../lib/constants"),o=e("./vod"),a=e("./signature"),s=e("../../lib/io"),l=e("../../config"),c=e("../base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.service=o,this.loadByVod()}});e.prototype.loadByVod=function(e){var t,r,i;"undefined"!=typeof _apesrap?this._loadByVod(e):("object"!=("undefined"===typeof globalThis?"undefined":_typeof(globalThis))&&(Object.prototype.__defineGetter__("__magic__",(function(){return this})),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),t="aliplayer-vod-p-min.js","",r=l.domain?"https://"+l.domain+l.path+l.h5Version+"/hls/"+t:"/build/hls/"+t,this.trigger(c.Private.Timeline,{name:"mod_pa_s",ts:performance.now()}),i=this,s.loadJS(r,(function(){i.trigger(c.Private.Timeline,{name:"mod_pa_f",ts:performance.now()}),i._loadByVod(e)})))},e.prototype._loadByVod=function(e){var t="",r="",i="",o="",s="";if(this._options.accessKeyId&&this._options.accessKeySecret)t=this._options.accessKeyId,r=this._options.accessKeySecret,i=this._options.securityToken,o=this._options.region,this.log("STARTFETCHDATA",{it:"sts",pa:{vid:this._options.vid}});else{try{var l=_apesrap(this._options.playauth,this._options.vid),c=(this._vdnct6f=l.v,l.value),u=a.encPlayAuth(c);t=u.AccessKeyId,r=u.AccessKeySecret,i=u.SecurityToken,o=u.Region,s=u.AuthInfo}catch(e){return console.log("e",e),l={Code:n.ErrorCode.PlayauthDecode,Message:"playauth decoded failed.",displayMessage:"playauth解析错误"},void this._mtsError_message(this,l,c)}this._options.from=u.CustomerId||"",this.log("STARTFETCHDATA",{it:"playAuth",pa:{vid:this._options.vid}})}this._loadByVodBySTS(t,r,i,o,s,e)},e.prototype.replayByVidAndPlayAuth=function(e,t){this.trigger("error_hide"),this.setTextTracks([]),this.trigger(c.Private.UserTrackReset),this._options.source="",this._options.vid=e,this._options.playauth=t,this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._posOffset=this._getSubVideoConfig().start||0,this._clearTimeout(),this.loadByVod(!0)},e.prototype.updateSourcesByVidAndPlayAuth=function(e,t){var r,i,n;"undefined"!=typeof _apesrap?this._updateSourcesByVidAndPlayAuth(e,t):(r="aliplayer-vod-p-min.js","",i=l.domain?"https://"+l.domain+l.path+l.h5Version+"/hls/"+r:"/build/hls/"+r,n=this,s.loadJS(i,(function(){n._updateSourcesByVidAndPlayAuth(e,t)})))},e.prototype._updateSourcesByVidAndPlayAuth=function(e,t){if(e!=this._options.vid)console.log("不能更新地址，vid和播放中的不一致");else{this._options.vid=e,this._options.playauth=t;try{var r=_apesrap(this._options.playauth,this._options.vid),i=(this._vdnct6f=r.v,r.value),o=a.encPlayAuth(i)}catch(e){return void console.log("playauth解析错误")}t={vid:e,accessId:o.AccessKeyId,accessSecret:o.AccessKeySecret,stsToken:o.SecurityToken,domainRegion:o.Region,authInfo:o.AuthInfo,playDomain:o.PlayDomain,format:this._options.format,mediaType:this._options.mediaType};var s=(this._authKeyExpiredHandle.clearTick(),this);this.service.loadData(t,this._options.qualitySort,(function(e){s._serverRequestId=e.requestId,0!=e.urls.length&&(s._urls=e.urls),s._authKeyExpiredHandle.tick(n.AuthKeyRefreshExpired)}),(function(e){console.log(e)}))}},e.prototype.reloaduserPlayInfoAndVidRequestMts=function(e,t){this.replayByVidAndPlayAuth(e,t,accessSecret)},e.prototype._loadByVodBySTS=function(e,t,r,i,n,o){e={vid:this._options.vid,accessId:e,accessSecret:t,stsToken:r,authInfo:n,domainRegion:i,format:this._options.format,mediaType:this._options.mediaType,definition:this._options.definition,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,outputType:this._options.outputType,playConfig:this._options.playConfig,reAuthInfo:this._options.reAuthInfo},this.loadData(e,o)},t.exports=e},{"../../config":15,"../../lib/constants":29,"../../lib/io":41,"../base/event/eventtype":68,"./saasplayer":114,"./signature":115,"./vod":117}],119:[function(e,t,r){function i(e){this._player=e,this._video=e.tag;var t=this;this._isCreated=!1,this._canPlayTriggered=!1,this._defaultTrack="",e.on(n.Private.ChangeURL,(function(){t._isCreated=!1,t._canPlayTriggered=!1,t._defaultTrack=""})),e.on(n.Player.CanPlay,(function(){var r;t._player._drm||t._canPlayTriggered||((r=t._getTracks())&&(t._isCreated=!0,t._player._options.isVBR||t._hls||(e.trigger(n.Player.AudioTrackReady,r),t._notifyDefaultValue(r))),t._canPlayTriggered=!0)})),e.on(n.Player.AudioTrackUpdated,(function(r){t._isCreated||(r=t._getTracks(r.paramData.audioTracks))&&(t._isCreated=!0,e.trigger(n.Player.AudioTrackReady,r),t._notifyDefaultValue(r))}))}var n=e("../base/event/eventtype");i.prototype._notifyDefaultValue=function(e){!this._defaultTrack&&0<e.length&&(this._defaultTrack=e[0]),this._defaultTrack&&this._player.trigger(n.Private.SelectorUpdateList,{type:"audio",text:this._defaultTrack.text})},i.prototype.support=function(){return!!this._video.audioTracks},i.prototype._getTracks=function(e){if(!this.support()&&!e)return null;for(var t=[],r=(e=!this._video||!this._video.audioTracks||e&&0!=e.length?e:this._video.audioTracks)?e.length:0,i=0;i<r;i++){var n=e[i],o={value:n.id,text:n.label||n.name||n.language};(n.default||n.enabled)&&(this._defaultTrack=o),t.push(o)}return t},i.prototype.switch=function(e){if(this._player._hls)this._player._hls.audioTrack=+e;else if(this._player._switchAudioTrack)this._player._switchAudioTrack(e);else for(var t=this._video.audioTracks?this._video.audioTracks.length:0,r=0;r<t;r++){var i=this._video.audioTracks[r];i.id==e?i.enabled=!0:i.enabled=!1}},i.prototype.dispose=function(){this._player=null},t.exports=i},{"../base/event/eventtype":68}],120:[function(e,t,r){function i(e){this._video=e.tag,this._player=e,this._isCreated=!1,this._backupCC="",this.tracks=[],this._defaultTrack="",this._currentValue="",this._switchTimer=null,this._storedTracks=[];var t=this,r=(e.on(n.Player.LevelsLoaded,(function(r){e.getOptions().useDrm2||(a.IS_MAC_SAFARI||a.IS_IOS)&&(r&&r.paramData&&r.paramData.subtitles&&r.paramData.subtitles.length?t._storedTracks=r.paramData.subtitles||[]:t._resotreTracks())})),e.on(n.Private.SafariDrmLevelSwitch,(function(){t._resotreTracks()})),e.on(n.Private.ChangeURL,(function(e){e&&e.paramData&&"saas"===e.paramData.from||(t._disabledTracks(),t._isCreated=!1,t._defaultTrack="",t._backupCC="")})),e.on(n.Private.VttClearTracks,(function(){t.switch("off"),t._disabledTracks(),t._isCreated=!1,t._defaultTrack={value:"off",text:"Off"},t.tracks=[t._defaultTrack],e.trigger(n.Private.SelectorGenerateList,{type:"cc"}),e.trigger(n.Private.CCStateChanged,{value:"off",lang:""})})),e.on(n.Player.CanPlay,(function(){t._isCreated||(t.tracks=t._getTracks(),e.trigger(n.Player.TextTrackReady,t.tracks),e.trigger(n.Private.CCReset)),t._isCreated&&!t._player._setDefaultCC||!t._defaultTrack||(e.trigger(n.Private.SelectorUpdateList,{type:"cc",text:t._defaultTrack.text}),t.switch(t._defaultTrack.value),t._player._setDefaultCC=!1,t._isCreated=!0)})),a.os.ios&&parseFloat(a.os.version)<=15.1&&o.addCssByStyle("video::-webkit-media-text-track-container{position: relative; top: -44px !important;}"),"always"===e.getOptions().controlBarVisibility&&o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}"),c.throttle((function(){e._vttBroker&&e._vttBroker.enabled||o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}")}),100));e.on(n.Private.ShowBar,r),r=c.throttle((function(){e._vttBroker&&e._vttBroker.enabled||o.addCssByStyle("video::-webkit-media-text-track-container{transform: none;}")}),100);e.on(n.Private.HideBar,r),e.on(n.Private.CCReset,(function(){t._updateSelectorList()}))}var n=e("../base/event/eventtype"),o=(e("../../lib/event"),e("../../lib/dom")),a=e("../../lib/ua"),s=e("../../lib/cookie"),l=e("../../lib/constants"),c=e("../../ui/component/util");i.prototype._adaptiveCueStype=function(){var e,t=-10;a.IS_SAFARI?(t=-65,(e=this._player.fullscreenService)&&e.getIsFullScreen()&&(t=-95)):a.IS_MOBILE&&(t=-30),o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY("+t+"px) !important;}")},i.prototype.close=function(){for(var e=this.getTextTracks(),t=e.length,r=0;r<t;r++){var i=e[r];"expired"!=i.mode&&("showing"==i.mode&&(this._backupCC=i),i.mode="disabled",this._player._switchDrmTextTrack)&&this._player._switchDrmTextTrack()}this._player.trigger(n.Private.VttHide)},i.prototype.open=function(){var e,t,r;return!this.tracks||this.tracks.length<2||(t=this._backupCC?this._backupCC.language:"",r=this._backupCC?this._backupCC.label:"",this.tracks.forEach((function(r){t===r.value&&(e=!0)})),(t=e?t:r="")||(t=this.tracks[1].value,r=this.tracks[1].text),this.switch(t)),{label:r,language:t}},i.prototype.getCurrentSubtitle=function(){return this._currentValue},i.prototype._getTracks=function(){for(var e=this.getTextTracks(),t=e.length,r=(this._defaultTrack={value:"off",text:"Off"},[this._defaultTrack]),i=s.get(l.SelectedCC),n="",o=!1,a=0;a<t;a++){var c,u=e[a];"expired"==u.mode||"subtitles"!=u.kind&&"captions"!=u.kind||(c={value:u.language,text:u.label},u.default&&(this._defaultTrack=c,o=!0),c.value==i&&(n=c),r.push(c))}return!o&&n&&(this._defaultTrack=n),r},i.prototype._disabledTracks=function(){for(var e=this.getTextTracks(),t=e.length,r=0;r<t;r++)e[r].mode="expired"},i.prototype.switch=function(e){var t=this._player;if(this.close(),"off"!=e)for(var r=this.getTextTracks(),i=r.length,o=0;o<i;o++){var a=r[o];a.language===e&&"expired"!=a.mode&&(t._switchDrmTextTrack&&t._switchDrmTextTrack(e),r[o].mode="showing",t.trigger(n.Private.VttSwitchTrack,a.language))}else this.close();this._currentValue=e,t.trigger(n.Private.CCChanged,e)},i.prototype.updateUI=function(e){var t,r=this._player,i="on";t=e?(this.tracks.find((function(t){return t.value===e}))||{}).text||"":(i="off","Off"),r.trigger(n.Private.CCChanged,i),r.trigger(n.Private.CCStateChanged,{value:i,lang:t})},i.prototype.dispose=function(){this._player=null,this._switchTimer&&(clearTimeout(this._switchTimer),this._switchTimer=null)},i.prototype._patchSafariTracks=function(){var e=this;if(a.IS_MAC_SAFARI||a.IS_IOS){if(!(this._video&&this._video.textTracks&&this._video.textTracks.length)){var t=!1;if(t=!(!this._video.textTracks||!this._video.textTracks.length)||t)return;for(var r=0;r<this._storedTracks.length;r++){var i=this._storedTracks[r],n=i.vttUrl,o=document.createElement("track");o.src=n,o.kind="subtitles",o.label=i.name,o.srclang=i.lang,this._video.appendChild(o)}}this._switchTimer&&clearTimeout(this._switchTimer),this._switchTimer=setTimeout((function(){var t=e.getCurrentSubtitle();t&&"off"!==t&&e.switch(t)}),1e3)}},i.prototype.getTextTracks=function(){var e=this._player,t=e.tag;return e._vttBroker&&e._vttBroker.enabled&&e.getTextTracks?e.getTextTracks()||[]:e._getDrmTextTracks?e._getDrmTextTracks()||[]:t&&t.textTracks||[]},i.prototype._updateSelectorList=function(){var e=this._player;this.tracks=this._getTracks(),e.trigger(n.Private.SelectorGenerateList,{type:"cc",value:"Off"})},i.prototype._resotreTracks=function(){this._patchSafariTracks(),this.tracks=this._getTracks(),this._player.trigger(n.Player.TextTrackReady,this.tracks)},t.exports=i},{"../../lib/constants":29,"../../lib/cookie":30,"../../lib/dom":33,"../../lib/event":34,"../../lib/ua":49,"../../ui/component/util":162,"../base/event/eventtype":68}],121:[function(e,t,r){var i=e("../../lib/playerutil");t.exports=[{service:e("./ccservice"),name:"_ccService",condition:!0},{service:e("./audiotrackservice"),name:"_audioTrackService"},{service:e("./qualityservice"),name:"_qualityService"},{service:e("./fullscreenservice"),name:"fullscreenService",condition:function(){return!0}},{service:e("./liveshiftservice"),name:"_liveshiftService",condition:function(){var e=this.options();return i.isLiveShift(e)}},{service:e("./thumbnailservice"),name:"_thumbnailService",condition:function(){return!0}},{service:e("./progressmarkerservice"),name:"_progressMarkerService",condition:function(){return!0}}]},{"../../lib/playerutil":46,"./audiotrackservice":119,"./ccservice":120,"./fullscreenservice":122,"./liveshiftservice":123,"./progressmarkerservice":124,"./qualityservice":125,"./thumbnailservice":126}],122:[function(e,t,r){function i(e){var t=this,r=(this.isFullWindow=!1,this.isFullScreen=!1,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer=null,this._player=e,this),i=l;this._fullscreenChanged=function(e){var t;null!=r._player&&(e.target||e.srcElement)===(e=r._player.el())&&(t=document[i.fullscreenElement],r.isFullScreen=t===e,(r.isFullScreenChanged=!0)===r.isFullScreen?r._player.trigger(s.Player.RequestFullScreen):r._player.trigger(s.Player.CancelFullScreen))},i&&a.on(document,i.eventName,this._fullscreenChanged),a.on(e.tag,"webkitendfullscreen",(function(r){r=r.target||r.srcElement,e&&e.tag===r&&(t.isFullScreenChanged=!0,t.isFullScreen=!1,t._player.trigger(s.Player.CancelFullScreen),t._player.trigger(s.Private.Play_Btn_Show))}))}var n=e("../../lib/ua"),o=e("../../lib/dom"),a=e("../../lib/event"),s=e("../base/event/eventtype"),l=(e("../base/x5play"),e("../../lang/index"),function(){o.createEl("div");var e={},t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullScreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitfullScreen"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitIsFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","mozFullScreen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","MSFullScreen"]],r=!1;if(!(r=!(!n.IS_IOS||(e.requestFn="webkitEnterFullscreen",e.cancelFn="webkitExitFullscreen",e.fullscreenElement="webkitFullscreenElement",e.eventName="webkitfullscreenchange",e.isFullScreen="webkitDisplayingFullscreen",!document[e.requestFn]))||r)){for(var i=0;i<5;i++)if(t[i][1]in document){e.requestFn=t[i][0],e.cancelFn=t[i][1],e.fullscreenElement=t[i][2],e.eventName=t[i][4],e.isFullScreen=t[i][6];break}"requestFullscreen"in document?e.requestFn="requestFullscreen":"webkitRequestFullscreen"in document?e.requestFn="webkitRequestFullscreen":"webkitRequestFullScreen"in document?e.requestFn="webkitRequestFullScreen":"webkitEnterFullscreen"in document?e.requestFn="webkitEnterFullscreen":"mozRequestFullScreen"in document?e.requestFn="mozRequestFullScreen":"msRequestFullscreen"in document&&(e.requestFn="msRequestFullscreen"),"fullscreenchange"in document?e.eventName="fullscreenchange":"webkitfullscreenchange"in document||"webkitfullscreenchange"in document||"webkitfullscreenchange"in document?e.eventName="webkitfullscreenchange":"mozfullscreenchange"in document?e.eventName="mozfullscreenchange":"MSFullscreenChange"in document&&(e.eventName="MSFullscreenChange"),"fullScreen"in document?e.isFullScreen="fullScreen":"webkitfullScreen"in document?e.isFullScreen="webkitfullScreen":"webkitIsFullScreen"in document?e.isFullScreen="webkitIsFullScreen":"webkitDisplayingFullscreen"in document?e.isFullScreen="webkitDisplayingFullscreen":"mozFullScreen"in document?e.isFullScreen="mozFullScreen":"mozfullScreen"in document?e.isFullScreen="mozfullScreen":"MSFullScreen"in document&&(e.isFullScreen="MSFullScreen"),"fullscreenElement"in document?e.fullscreenElement="fullscreenElement":"webkitFullscreenElement"in document?e.fullscreenElement="webkitFullscreenElement":"webkitFullScreenElement"in document?e.fullscreenElement="webkitFullScreenElement":"mozFullScreenElement"in document?e.fullscreenElement="mozFullScreenElement":"msFullscreenElement"in document?e.fullscreenElement="msFullscreenElement":"MSFullscreenElement"in document&&(e.fullscreenElement="MSFullscreenElement")}return e.requestFn?e:null}()),c=(i.prototype.requestFullScreen=function(){var e=l,t=this._player.el(),r=this;if(n.IS_IOS){var i=this._player._splayer;if(!i||2!==i.renderType){t=this._player.tag,i&&2!==i.renderType&&(t=this._player.el().querySelector("video"));try{var o=t[e.requestFn]();o&&"function"==typeof o.catch&&o.catch((function(e){console.log(e)})),r._player.trigger(s.Player.RequestFullScreen)}catch(e){console.log(e)}return this}this._player._options.enableMockFullscreen=!0}if(this.isFullScreen=!0,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer||clearTimeout(this._cancelFullScreenTimer),r=this,e&&!this._player._options.enableMockFullscreen)try{var a=t[e.requestFn]();a&&"function"==typeof a.catch&&a.catch((function(e){console.log(e)})),this._requestFullScreenTimer=setTimeout((function(){r.isFullScreenChanged||(c.apply(r),r._player.trigger(s.Player.RequestFullScreen)),r._requestFullScreenTimer=null}),1e3)}catch(e){console.log(e)}else c.apply(r),this._player.trigger(s.Player.RequestFullScreen);return this._player},i.prototype.cancelFullScreen=function(){var e=l,t=(this.isFullScreen=!1,this.isFullScreenChanged=!1,this._cancelFullScreenTimer=null,this._requestFullScreenTimer||clearTimeout(this._requestFullScreenTimer),this);if(e&&!this._player._options.enableMockFullscreen){try{var r=document[e.cancelFn]();r&&"function"==typeof r.catch&&r.catch((function(e){console.log(e)}))}catch(e){console.log(e)}t._cancelFullScreenTimer=setTimeout((function(){t.isFullScreenChanged||(u.apply(t),t._player.trigger(s.Player.CancelFullScreen)),t._cancelFullScreenTimer=null}),500)}else u.apply(t),this._player.trigger(s.Player.CancelFullScreen);return this._player.tag.paused||this._player.trigger(s.Player.Play),this._player},i.prototype.getIsFullScreen=function(){return this.isFullScreen},i.prototype.dispose=function(){this._player=null,l&&a.off(document,l.eventName,this._fullscreenChanged)},function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",o.addClass(document.getElementsByTagName("body")[0],"prism-full-window")}),u=function(){this.isFullWindow=!1,document.documentElement.style.overflow=this.docOrigOverflow,o.removeClass(document.getElementsByTagName("body")[0],"prism-full-window")};t.exports=i},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../lib/ua":49,"../base/event/eventtype":68,"../base/x5play":96}],123:[function(e,t,r){function i(e,t){var r;if(e)return e=new Date(e),r=(t=new Date(t)).valueOf()/1e3-e.valueOf()/1e3,{start:e,end:t,endDisplay:s.extractTime(t),totalTime:r}}function n(e,t){t&&(e.currentTimestamp=t,e.currentTime=s.convertToDate(t),e.currentTimeDisplay=s.extractTime(e.currentTime),e.liveShiftStart=e.liveTimeRange.start,e.liveShiftEnd=e.liveTimeRange.end,e.liveShiftStartDisplay=s.extractTime(e.liveShiftStart),e.liveShiftEndDisplay=s.extractTime(e.liveShiftEnd),e.availableLiveShiftTime=t-e.liveShiftStart.valueOf()/1e3,e.timestampStart=s.convertToTimestamp(e.liveShiftStart),e.timestampEnd,s.convertToTimestamp(e.liveShiftEnd))}function o(e){function t(){var t=e._options.source;this._originalPlayUrl=t,this._liveShiftUrl=e._options.liveTimeShiftUrl,this.liveTimeRange=i(e._options.liveStartTime,e._options.liveOverTime),this.availableLiveShiftTime=0,this.seekTime=-1}this._player=e,this._isLiveShiftPlaying=!1;var r=this;t.call(this),e.liveShiftSerivce={setLiveTimeRange:function(e,t){r.setLiveTimeRange(e,t)},queryLiveShift:function(e,t,i){r.queryLiveShift(e,t,i)},isLiveShiftPlaying:function(){return r._isLiveShiftPlaying}},e.on(h.Private.ChangeURL,(function(){t.call(r)}))}var a=e("../../lib/io"),s=e("../../lib/util"),l=e("../../lib/playerutil"),c=e("../../lang/index"),u=e("../flv/flvinjector"),d=e("../hls/hlsinjector"),p=e("../../lib/constants"),h=e("../base/event/eventtype");e("../../lib/url"),o.prototype.validate=function(){return!(this.liveTimeRange.start>=this.liveTimeRange.end)},o.prototype.switchToLive=function(){this.seekTime=-1;var e=this._originalPlayUrl,t=this._player._options.liveShiftSource,r=this._player._options.source;l.isHls(r)&&l.isFlv(e)&&t&&l.isHls(t)&&(this._player._hls&&this._player._destroyHls(),r=this._player._superType,t=this._player._Type,this._player._options._autoplay=!0,u.inject(this._player,t,r,this._player._options,"",!0)),this._player._loadByUrlInner(e,null,!0),this._isLiveShiftPlaying=!1,this._player.trigger(h.Private.LiveShiftSwitchToLive)},o.prototype.getBaseTime=function(){return this.liveShiftStartDisplay,-1==this.seekTime?s.parseTime(this.currentTimeDisplay):s.parseTime(this.liveShiftStartDisplay)+this.seekTime},o.prototype.getSourceUrl=function(e,t){var r=this._originalPlayUrl;return this.availableLiveShiftTime<e||(this._isLiveShiftPlaying=!0,e=parseInt(e),r=(r=this._switchLiveShiftPlayer(t))&&this._cleanUrl(r),t=parseInt(this.currentTimestamp)-e,-1===(r=-1==r.indexOf("?")?r+"?lhs_start_unix_s_0="+t:r+"&lhs_start_unix_s_0="+t).indexOf("aliyunols=on")&&(r+="&aliyunols=on"),-1===r.indexOf("continue=on")&&(r+="&continue=on")),r},o.prototype._cleanUrl=function(e){var t;return-1===e.indexOf("?")?e:(e=(e=(t=e.split("?"))[1])&&(0===(e=e.replace(/&?lhs_start_unix_s_0=[0-9]*/g,"")).indexOf("&")?e.replace("&",""):e))?t[0]+"?"+e:t[0]},o.prototype._switchLiveShiftPlayer=function(e){var t,r=this._originalPlayUrl,i=this._player._options.liveShiftSource,n=this._player._options.source;if(l.isHls(n))r=n;else if(l.isFlv(r)&&i&&l.isHls(i))return this._player._flv&&this._player._destroyFlv(),n=this._player._superType,t=this._player._Type,this._player._options._autoplay=!0,d.inject(this._player,t,n,this._player._options,"",!0),i;return r},o.prototype.getTimeline=function(e,t){var r;this._player.trigger(h.Private.LiveShiftQueryCompleted),this._liveShiftUrl?(r=this).queryLiveShift(this._liveShiftUrl,(function(i){i?0==(i=i).retCode?(n(r,i.content.current),e&&e()):t({Code:p.ErrorCode.ServerAPIError,Message:i.retCode+"|"+i.description+"|"+i.content}):console.log("获取直播时移数据失败")}),(function(e){if(t&&e){var r={};if(e){if("string"==typeof e&&-1<e.indexOf("403 Forbidden"))r.Code=p.ErrorCode.AuthKeyExpired,r.Message="Query liveshift failed:"+c.get("Error_AuthKey_Text");else{var i;r=e;try{i=JSON.parse(e)}catch(e){}i&&(r.Code=p.ErrorCode.ServerAPIError,r.Message=i.retCode+"|"+i.description+"|"+i.content)}t(r)}}})):(n(this,(new Date).valueOf()/1e3),e&&e())},o.prototype.start=function(e,t){var r=this;r.getTimeline((function(e){r._localLiveTimeHandler||r.tickLocalLiveTime()}),t),function i(){r._loopHandler&&clearTimeout(r._loopHandler),r._loopHandler=setTimeout((function(){r.getTimeline((function(){}),t),i()}),e)}()},o.prototype.tickLocalLiveTime=function(){var e=this;(function t(){e._localLiveTimeHandler=setTimeout((function(){e.currentTimestamp++,n(e,e.currentTimestamp),e._player.trigger(h.Private.LiveShiftQueryCompleted),t()}),1e3)})()},o.prototype.setLiveTimeRange=function(e,t){e=e||this._player._options.liveStartTime,t=t||this._player._options.liveOverTime,this.liveTimeRange=i(e,t),n(this,this.currentTimestamp),this._player.trigger(h.Private.LiveShiftQueryCompleted)},o.prototype.queryLiveShift=function(e,t,r){a.get(e,(function(e){var i;e?0==(i=JSON.parse(e)).retCode?t&&t(i):r&&r(i):r&&r(e)}),(function(e){r&&r(e)}))},o.prototype.stop=function(e){this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null)},o.prototype.dispose=function(){this.stop(),this._localLiveTimeHandler&&(clearTimeout(this._localLiveTimeHandler),this._localLiveTimeHandler=null),this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null),this._player=null},t.exports=o},{"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../../lib/playerutil":46,"../../lib/url":50,"../../lib/util":51,"../base/event/eventtype":68,"../flv/flvinjector":102,"../hls/hlsinjector":104}],124:[function(e,t,r){function i(e){function t(){var t=document.querySelector("#"+e.id()+" .prism-progress-marker");if(t){t.innerHTML="";var i=r._player.getDuration();if(0<i){for(var s=0;s<r.progressMarkers.length;s++){var l,c=r.progressMarkers[s];void 0!==c.offset&&""!==c.offset&&(c=document.createElement("div"),o.addClass(c,"prism-marker-dot"),l=r.progressMarkers[s].offset/i,c.style.left=100*l+"%",t.appendChild(c),l=function(e,t){return function(){r._player.trigger(n.Private.MarkerTextShow,{left:e,progressMarker:t})}}(l,r.progressMarkers[s]),a.on(c,"mouseover",l),a.on(c,"mouseout",(function(e){r._player.trigger(n.Private.MarkerTextHide)})),a.on(c,"touchstart",l),a.on(c,"mousemove",(function(e){e.preventDefault()})),a.on(c,"touchmove",(function(e){e.preventDefault()})))}var u=document.querySelector("#"+r._player.id()+" .prism-progress-cursor");r._player.on(u,"click",(function(e){for(var t=r._player.getCurrentTime(),o=0;o<r.progressMarkers.length;o++){var a,s=r.progressMarkers[o];s&&t-1<s.offset&&s.offset<t+1&&(a=s.offset/i*100+"%",r._player.trigger(n.Private.MarkerTextShow,{left:a,progressMarker:s}))}}))}}}this.progressMarkers=[],this._player=e;var r=this;e.on(n.Private.ProgressMarkerLoaded,(function(e){e=e.paramData,e&&0<e.length&&(r.progressMarkers=e)})),e.on(n.Private.ProgressMarkerChanged,(function(e){e=e.paramData,e&&0<e.length&&(r.progressMarkers=e,t())})),e.on(n.Video.LoadedMetadata,t)}var n=e("../base/event/eventtype"),o=(e("../../lang/index"),e("../../lib/hls/hlsparse"),e("../../lib/object"),e("../../lib/dom")),a=e("../../lib/event");e("../../lib/playerutil"),i.prototype.dispose=function(){this._player=null,this.progressMarkers=[]},t.exports=i},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../lib/hls/hlsparse":39,"../../lib/object":43,"../../lib/playerutil":46,"../base/event/eventtype":68}],125:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}function n(e){this.levels=[],this.drmUrl={},this._player=e;var t=this;e.on(o.Private.PlayInfoLoaded,(function(e){for(var r=e.paramData.encryptUrlArr||[],i=[],n=0;n<r.length;n++){var o=r[n];o.encryptionType===u.VodEncryptionType["Widevine-FairPlay"]&&i.push(o)}t.drmUrl=i})),e.on(o.Player.LevelsLoaded,(function(r){if(0<t.levels.length&&(t.levels=[]),(r=r.paramData)&&r.levels){for(var n,s=r.levels.length-1;-1<s;s--){var c,u=r.levels[s];u.url&&0<u.url.length&&u.attrs&&u.attrs.BANDWIDTH&&(c=u.url,l.isArray(c)&&(c=c[0]),c={Url:c=!e._hls&&e._options.isVBR&&e._options.isDrm&&e._options.vid?d.call(t,u):c,desc:Math.min(u.width,u.height),bitrate:u.bitrate,resolution:u.attrs.RESOLUTION,bandwidth:u.attrs.BANDWIDTH},t.levels.push(c))}"AUTO"===e._options.definition&&(e._urls=[],Object.assign(e._urls,this.levels)),t.levels.sort((function(e,t){return(e.bitrate||e.desc)-(t.bitrate||t.desc)})),t.levels=function(e,t){return"function"==typeof t?e.map((function(e){return i({},e,{desc:t({bandwidth:Number(e.bandwidth),bitrate:Number(e.bitrate),width:Number(e.resolution.split("x")[0]),height:Number(e.resolution.split("x")[1])})})})):e.map((function(e){return i({},e,{desc:e.desc+"p@"+parseInt(e.bitrate/1e3)+"k"})}))}(t.levels,e._options.bitrateDisplayHandler),(t.levels&&0<t.levels.length||e._drm&&e._options.useDrm2)&&this._player._options.isVBR&&(n=a.get("Auto"),t.levels.push({Url:r.url,desc:n}),e.trigger(o.Private.SelectorUpdateList,{type:"quality",text:n}))}})),e.on(o.Video.LoadStart,(function(){var r,i,n;e._options&&(r=e._options.source,i=e._options.isVBR,n=e._options.useDrm2,!e._hls)&&r&&c.isHls(r)&&(e._manuallySwitchDrmLevel?(e._manuallySwitchDrmLevel=!1,e.trigger(o.Private.SafariDrmLevelSwitch)):(i||e._drm&&!n)&&t.loadLevels(r))}))}var o=e("../base/event/eventtype"),a=e("../../lang/index"),s=e("../../lib/hls/hlsparse"),l=e("../../lib/object"),c=e("../../lib/playerutil"),u=e("../../lib/constants");function d(e){for(var t,r=this.drmUrl,i=0;i<this.drmUrl.length;i++)if(Number(e.height)===Number(r[i].height)){t=r[i].Url;break}return t}(n.prototype={loadLevels:function(e){var t=new s,r=this;t.load(e,(function(e){var i;null!=(i=e.subtitles)&&i.forEach((function(e){t.loadMediaPlaylist({url:e.url},(function(r){r=r.fragments[0],r&&(e.vttUrl=t.resolve(r.relurl,r.baseurl))}),(function(e){console.log("parse vtt url error: ",e)}))})),r._player._created?r._player.trigger(o.Player.LevelsLoaded,e):r._player.one(o.Private.Created,(function(){r._player.trigger(o.Player.LevelsLoaded,e)}))}))}}).dispose=function(){this._player=null},t.exports=n},{"../../lang/index":24,"../../lib/constants":29,"../../lib/hls/hlsparse":39,"../../lib/object":43,"../../lib/playerutil":46,"../base/event/eventtype":68}],126:[function(e,t,r){function i(e){this._player=e,this.cues=[],this.baseUrl="";var t=this;e.on(s.Private.ChangeURL,(function(){t.cues=[],t.baseUrl=""}))}var n=e("../../lib/io"),o=e("../../lib/url"),a=e("../../lib/vtt/thumbnailvtt"),s=e("../base/event/eventtype");(i.prototype={get:function(e){var t,r,i,l=this;this.baseUrl=(t=e,r="",(i=o.parseUrl(t))&&(i=i.segments)&&0<i.length&&(i=i[i.length-1],r=t.split("?")[0].replace(i,"")),r),n.get(e,(function(e){e&&a.parse(e,(function(e){l.cues=e,l._player.trigger(s.Private.ThumbnailLoaded,e)}))}),(function(e){console.log(e)}))},findAvailableCue:function(e){for(var t=this.cues.length,r=0;r<t;r++){var i=this.cues[r];if(i.startTime<=e&&e<i.endTime)return i}return null},makeUrl:function(e){return-1==e.indexOf("://")?this.baseUrl+e:e}}).dispose=function(){this._player=null},t.exports=i},{"../../lib/io":41,"../../lib/url":50,"../../lib/vtt/thumbnailvtt":52,"../base/event/eventtype":68}],127:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}var n=e("../base/player"),o=e("./splayerinjector"),a=e("../flv/flvinjector"),s=e("../hls/hlsinjector"),l=e("../../lib/playerutil"),c=e("../base/event/eventtype"),u=e("../../lib/constants"),d=e("../../lib/codec-probe"),p=e("../../lib/ua"),h=u.USER_EVENT_NAME,f=l.isH265Codec,g=l.isH266Codec,_=l.getVideoTrack,m={},y={codecCost:0,decoderCost:0},v=n.extend({init:function(e,t){var r,u=this,b=(this._options=t,l.isFlv(t.source,t.format)),w=l.isHls(t.source,t.format),S=this._extraMultiSources(),x={};function T(){b?(a.inject(this,v,n,t),t._native=!1):w&&!l.canPlayHls()&&(s.inject(this,v,n,t),t._native=!1),n.call(this,e,t),this._monitor&&this._monitor.updateH265ProbeInfo(i({},y,m)),E.call(this),m.codecTag&&o.reportH265PlayInfo.call(this,{renderType:"native",codecTag:m.codecTag})}function k(){t._native=!1,o.inject(this,v,n,t,m),n.call(this,e,t),this._monitor&&this._monitor.updateH265ProbeInfo(i({},y,m,{waitRenderType:!0})),E.call(this)}function E(){var e,t,r=this,i=x,o=this[h];o&&(i=Object.assign({},x,o),e=Object.keys(x),t=Object.keys(o),e.forEach((function(e){-1<t.indexOf(e)&&(i[e]=x[e].concat(o[e]))}))),Object.keys(i).forEach((function(e){i[e].forEach((function(t){t.binded||n.prototype.on.call(r,e,t)}))}))}x[c.Player.Ready]=[function(){u._setupSourceList(S),u.trigger(c.Private.SelectorGenerateList,{type:"quality"})}],"zhihu"===t.from||t.forceH265||t.forceH266?k.call(this):p.IS_ANDROID&&p.dingTalk()&&!b?T.call(this):(r=performance.now(),d(t.source,t,(function(e){y.codecCost+=performance.now()-r;e=_(e.tracks);var i,n=(e||{}).codecTag||(null==(n=(e||{}).codec)?void 0:n.split(".")[0]);m.codecTag=n,e&&f(n)?(i=performance.now(),b||w&&!l.canPlayHls()?(y.decoderCost+=performance.now()-i,k.call(u)):l.shouldUseBasePlayer({codecTag:n,url:t.source},(function(e){y.decoderCost+=performance.now()-i,(e?T:k).call(u)}))):(e&&g(n)?k:T).call(u)}),(function(e){console.log("error in demuxer, fallback to basePlayer",e),y.codecCost+=performance.now()-r,T.call(u),o.checkProtocol.call(u,t.source)})))}});t.exports=v},{"../../lib/codec-probe":27,"../../lib/constants":29,"../../lib/playerutil":46,"../../lib/ua":49,"../base/event/eventtype":68,"../base/player":91,"../flv/flvinjector":102,"../hls/hlsinjector":104,"./splayerinjector":128}],128:[function(e,t,r){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,i=arguments[t];for(r in i)!{}.hasOwnProperty.call(i,r)||(e[r]=i[r])}return e}).apply(null,arguments)}var n=e("../../lib/io"),o=e("../base/event/eventtype"),a=e("../base/event/eventmanager"),s=(e("../../lib/event"),e("../../lib/util")),l=e("../../lib/dom"),c=e("../../lib/playerutil"),u=e("../../lib/constants"),d=e("../../lang/index");function p(e){var t=this._options,r=(g.call(this),function(){c.isVideoTag(this.tag)&&(a.offVideoAll(this),this.tag.parentNode&&this.tag.parentNode.removeChild(this.tag),this.tag=null)}.call(this),Videox.Videox),n=t.splayerWasmDomain,s=(n=(!n&&t.assetPrefix&&(n=t.assetPrefix+"/splayer"),new r(i({container:this._el,wasmDomain:n,progressive:!0,skipFrame:r.DiscardType.NONE,loop:t.rePlay,controls:!1,muted:!1,threads:t.h265Threads,simd:t.h265Simd,autoplay:t.autoplay||t._autoplay,live:t.isLive,poster:t.cover||void 0,src:t.source,trackOptions:{disable:!0},preload:t.preload?"auto":"none",timeout:1e3*t.waitingTimeout},t.splayerOptions||{}))),t.debug&&(n.setLogLevel(r.LogLevel.LOG),n.setLogPrintLevel(r.LogLevel.LOG)),this._splayer=n,(this.tag=n).play),l=this;this.tag.play=function(){l._monitor&&l._monitor.reportStartPlay(),s.call(this)},function(){var e,t=this,r=document.createElement("video");for(e in r)(function(e){t.tag[e]||0===e.indexOf("on")||"function"!=typeof r[e]||(t.tag[e]=function(){console.warn("Function ["+e+"] is called on splayer, which should be a mistake."),r[e].apply(r,arguments)})})(e)}.call(this),function(e){var t=this,r=(a.onAll(this),this._splayer);r.addEventListener("error",function(e){var t,r,i,n=Videox.Videox,a=(e||{}).detail,s=Number((a||{}).code);n=n.ErrorCode;switch(this.traceLog("splayerinjector.js","splayer-error::"+s),s){case n.WASM_NOT_SUPPORTED:case n.CANVAS_NOT_SUPPORTED:case n.AUDIOCONTEXT_NOT_SUPPORTED:case n.WORKER_NOT_SUPPORTED:case n.WEBGL_NOT_SUPPORTED:t=u.ErrorCode.SplayerEnvCheckError,r=d.get("Splayer_Err_Env_Check")+" | "+h(a);break;case n.DECODE:t=u.ErrorCode.SplayerDecodeError,r=d.get("Splayer_Err_Decode")+" | "+h(a);break;case n.NETWORK:t=u.ErrorCode.NetworkError,r=d.get("Error_Network_Text")+" | "+h(a);var l=(a.origin||{}).response;l?404===(l=l.status)?(t=u.ErrorCode.NotFoundSourceURL,r=d.get("Error_Not_Found")+" | "+h(a),i=d.get("Tip_Err_Not_found")):403===l&&(t=u.ErrorCode.AuthKeyExpired,r=d.get("Error_AuthKey_Text")+" | "+h(a)):navigator.onLine&&(t=u.ErrorCode.RequestDataError,r=r+"，"+d.get("Maybe_Cors_Error"));break;case n.PARSER:t=u.ErrorCode.SplayerParserNotFound,r=d.get("Splayer_Err_Parser_Not_Found")+" | "+h(a);break;default:t=u.ErrorCode.OtherError,r="(SP)"+d.get("Error_Play_Text")+" | "+h(a)}if(i=i||d.get("Tip_Err_Splayer")+'<a href="https://help.aliyun.com/zh/vod/developer-reference/advanced-features-3#section-j4v-zwt-641" target="_blank">'+d.get("Tip_Err_Splayer_Doc")+"</a>",t!==u.ErrorCode.NetworkError||!this._reloadForVod()){try{this.pause()}catch(e){}s={error_code:t,error_msg:r,diagnosis_info:i},null!==s.error_code&&null!==s.error_msg&&(this.logError(s),this.trigger(o.Player.Error,s)),_.call(this,{splayer:!0})}}.bind(this)),r.addEventListener("decoderoverload",(function(e){e=e.detail,delete e.shouldWarn,t.trigger(o.Player.H265DecoderOverload,e)})),r.addEventListener("loadedsupportinfo",(function(e){e=e.detail||{};var i=e.detail||{},n=r.controller.options||{};r.renderType=e.renderer,_.call(t,{renderer:e.renderer,wasmThreads:i.wasmThreads&&n.threads,wasmThreadsOption:n.threads,simd:i.simd&&n.simd,simdOption:n.simd,codecTag:r.controller.videoTrack&&r.controller.videoTrack.codecTag||r.controller.videoTrack&&(null==(e=r.controller.videoTrack.codec)?void 0:e.split(".")[0]),splayer:!0})})),(this._options.autoplay||this._options._autoplay)&&(r.once("canplay",(function(){r.paused&&t._autoplayFailedHandler()})),r.once("timeupdate",(function(){t.trigger(o.Player.Play)})),this._monitor)&&this._monitor.reportStartPlay(),r.on("playing",(function(){t._monitor&&t._monitor.reportPlaying()})),r.on("timeupdate",(function(){t._monitor&&t._monitor.reportPlaying()}))}.call(this,e)}function h(e){e=e=void 0===e?{}:e;var t=e.code,r=Videox.Videox.ErrorCode,i="";return t?i+t+": "+(e.message||r[t]):i}function f(e){return!s.contentProtocolMixed(e,"alwaysCheck")||((e={mediaId:this._options.vid||"",error_code:u.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=d.get("Request_Block_Text"),this.logError(e),this.trigger(o.Player.Error,e),!1)}function g(){this._splayer&&(this._splayer.destroy(),this._splayer=null)}function _(e){var t;void 0===e&&(e={}),!this._h265InfoReported&&(this._h265InfoReported=!0,t={0:"native",1:"mse",2:"wasm"},delete(e=i({codecTag:(this._probeInfo||{}).codecTag||e.codecTag,renderType:e.renderType||t[e.renderer]},e)).renderer,e.renderType!==t[2]&&(delete e.simd,delete e.simdOption,delete e.wasmThreads,delete e.wasmThreadsOption),this._splayerRenderType=e.renderType,t=e.codecTag)&&(c.isH265Codec(t)?this.trigger(o.Player.H265PlayInfo,e):c.isH266Codec(t)&&this.trigger(o.Player.H266PlayInfo,e))}t.exports.checkProtocol=f,t.exports.reportH265PlayInfo=_,t.exports.inject=function(e,t,r,i,a){function s(e,t){this._superPt.setPlayerSize.call(this,e,t),e=this._el.querySelector("canvas"),e&&(t=this._el.offsetWidth/this._el.offsetHeight,e.offsetWidth/e.offsetHeight<t?(e.style.height="100%",e.style.width="initial"):(e.style.width="100%",e.style.height="initial"))}function c(){this._disposed||(this._superPt&&(this._superPt.dispose.call(this),t.prototype.replay=this._superPt.replay,t.prototype.setPlayerSize=this._superPt.setPlayerSize,t.prototype._setTransform=this._superPt._setTransform,t.prototype.initPlay=this._superPt.initPlay),g.call(this),this._Type=null,this._superType=null,this._superPt=null,this._disposed=!0,this._splayerLoaded=!1,this._h265InfoReported=!1,this._splayerRenderType=null)}e._Type=t,e._superType=r,e._superPt=r.prototype,e._disposed=!1,e._splayer=null,e._splayerLoaded=!1,e._probeInfo=a,e._splayerRenderType=null,t.prototype.initPlay=function(e){var t=this;this.trigger(o.Private.H5_Loading_Show),f.call(this,this._options.source)&&(this._splayerLoaded?p.call(this,e):function(e,t){var r=this._options,i=r.splayerUrl||"https://g.alicdn.com/apsara-media-components/amcom-splayer/0.7.8/dist/index.js";!r.splayerUrl&&r.assetPrefix&&(i=r.assetPrefix+"/splayer/index.js"),n.loadJS(i,e.bind(this),(function(){t&&t()}))}.call(this,(function(){this._splayerLoaded=!0,p.call(this,e),t._executeReadyCallback()}),(function(){var e={mediaId:t._options.vid||"",mediaAuth:t._options.mediaAuth||"",error_code:u.ErrorCode.ModuleLoadError,error_msg:"splayer module load error."};t.trigger(o.Player.Error,e)})))},t.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this._splayer.load(),this._splayer.play(),this},Object.defineProperty(t.prototype,"setPlayerSize",{enumerable:!0,configurable:!0,get:function(){return s},set:function(){return s}}),t.prototype._setTransform=function(){var e=this._player.el(),t="wasm"===this._splayerRenderType;e=t?e.querySelector("canvas"):e.querySelector("video"),this._transformProp||(this._transformProp=l.getTransformName(e)),t=t?"":" translate(-50%, -50%)";this._rotate&&(t+=" rotate("+this._rotate+"deg)"),this._image&&("vertical"==this._image?t+=" scaleY(-1)":"horizon"==this._image&&(t+=" scaleX(-1)")),e.style[this._transformProp]=t},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return c},set:function(){return c}})}},{"../../lang/index":24,"../../lib/constants":29,"../../lib/dom":33,"../../lib/event":34,"../../lib/io":41,"../../lib/playerutil":46,"../../lib/util":51,"../base/event/eventmanager":67,"../base/event/eventtype":68}],129:[function(e,t,r){function i(e,t){var r,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var r;if(e)return"string"==typeof e?n(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),r=0,function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}var o="undefined"==typeof Promise?e("es6-promise").Promise:Promise,a=e("../../lib/io"),s=e("../../config"),l=e("../../lang/index"),c=e("../../lib/ua"),u=e("../base/event/eventtype"),d=e("../../lib/constants"),p=d.PLAYER_SCOPE,h=d.SW_MSG_EVT,f=d.DM_MSG_EVT,g=d.ErrorCode,_=e("./tsremuxer").TSRemuxer,m="swinjector.js";function y(e){e={mediaId:this._options.vid||"",error_code:e.code,error_msg:e.msg,diagnosis_info:e.info},this.trigger(u.Player.Error,e)}function v(e){return e.split("?")[0].split("#")[0]}t.exports.inject=function(e,t,r,n,d){e.swPlayer=!0,e.firstBuild=!0,e.sw=null,e.tsDemuxerWorker=null,e.tsRemuxer=null,e.preloadError=!1,e.fetchHasResult=!1,e._initServiceWorker=new o((function(e){setTimeout(e,1e3),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then((function(t){if(!t.length)return console.log("No serviceWorker registrations found."),e();for(var r,n=[],a=i(t);!(r=a()).done;)(function(){var e=r.value,t=e.unregister().then((function(t){console.log(t?"Successfully unregistered":"Failed to unregister","ServiceWorkerRegistration\n"+(e.installing?"  .installing.scriptURL = "+e.installing.scriptURL+"\n":"")+(e.waiting?"  .waiting.scriptURL = "+e.waiting.scriptURL+"\n":"")+(e.active?"  .active.scriptURL = "+e.active.scriptURL+"\n":"")+"  .scope: "+e.scope+"\n")}));n.push(t)})();o.all(n).then(e).catch(e)})).catch((function(t){console.log("clear sw error",t),e()})):e()})).then(function(e){var t=this;return new o((function(r){var i=function(e){if(!e)return l.get("Error_SW_ScriptURL_Empty");if(0!==(e=String(e)).indexOf("https")&&-1===e.indexOf("localhost")&&-1===e.indexOf("127.0.0.1"))return l.get("Error_SW_ScriptURL_Https");try{t=new URL(e)}catch(e){return l.get("Error_SW_ScriptURL_ILlegal","",{detail:e})}(e=v(location.href).split("/")).pop();e=e.join("/");var t=((t=v(t.href).split("/")).pop(),t.join("/"));return e!==t?l.get("Error_SW_ScriptURL_Scope","",{scope1:t,scope2:e}):void 0}(e.swScriptURL);if(i)return t.preloadError=!0,y.call(t,{code:g.ModuleLoadError,msg:i});"serviceWorker"in navigator?(navigator.serviceWorker.register(e.swScriptURL,{scope:"./"}).then((function(e){t.traceLog(m,"sw registered"),e=e.active||e.waiting||e.installing,e.postMessage({scope:p,name:h.SETUP}),t.sw=e})).catch((function(e){t.preloadError=!0,y.call(t,{code:g.ModuleLoadError,msg:l.get("Error_SW_Register_Failed")+"("+e+")",info:l.get("Tip_SW_Register")})})),navigator.serviceWorker.addEventListener("controllerchange",(function(r){r.target.controller.scriptURL!==e.swScriptURL&&y.call(t,{code:g.ModuleLoadError,msg:l.get("Error_SW_Conflict"),info:"controlled by "+r.target.controller.scriptURL})})),navigator.serviceWorker.addEventListener("message",(function(e){var i;if((n=e.data)&&n.scope===p){var n=e.data.name;switch(console.log("[MESSAGE FROM SW]["+n+"]",function(e){var t;try{t=/[0-9]+\.ts/.exec(e)[0]}catch(e){}return t}(null==(i=e.data.payload)?void 0:i.url),e.data.payload),n){case h.SETUP_ACK:r(),t.traceLog(m,"sw ack");var o=null==(o=e.data.payload)?void 0:o.version;o!==s.h5Version&&(t.preloadError=!0,y.call(t,{code:g.ModuleLoadError,msg:l.get("Error_SW_Version_Not_Match","",{swVersion:o,playerVersion:s.h5Version})}));break;case h.ENC_SEGMENT:var a=e.data.payload;t._getDemuxer.then((function(){t.tsDemuxerWorker&&t.tsDemuxerWorker.postMessage({name:f.DEMUX,payload:{buffer:a.buffer,url:a.url,playlistUrl:a.playlistUrl}})}));break;case h.ABORT_SEGMENT:t.tsDemuxerWorker&&t.tsDemuxerWorker.postMessage({name:f.FLUSH}),t.tsRemuxer&&t.tsRemuxer.flush()}}}))):(t.preloadError=!0,i="http:"===location.protocol?l.get("Error_SW_Https_required"):l.get("UseChromeForVodEncription")+"(SW not found)",y.call(t,{code:g.EncrptyVideoNotSupport,msg:i}))}))}.call(e,n));var b,w,S=performance.now(),x=(e._getDemuxer=(b=n,new o((function(e,t){var r="aliplayer-hls2-demuxer-min.js",i="https://"+s.domain+s.path+s.h5Version+"/hls/"+r;b.assetPrefix&&(i=b.assetPrefix+"/hls/"+r),a.loadJS(i,e,t)})).then((function(){e.traceLog(m,"got demuxer#"+parseInt(performance.now()-S)),window.AliDemuxerWorker&&(e.tsDemuxerWorker=window.AliDemuxerWorker.injectWorker().worker,e.tsDemuxerWorker.postMessage({name:f.SETUP,payload:{key:d,debug:n.debug}}),e.tsDemuxerWorker.addEventListener("message",(function(t){var r=t.data;switch(r.name){case f.RESULT:if(e.tsRemuxer)try{e.tsRemuxer.remux(r.payload.demuxResult)}catch(t){e.traceLog(m,"remux error: "+t.message+", "+t.stack+"}")}break;case f.DISPOSED:e.tsDemuxerWorker&&(e.tsDemuxerWorker.terminate(),e.tsDemuxerWorker=null);break;case f.ERROR:e.traceLog(m,"demuxer error:  "+r.payload.reason)}})),e.tsDemuxerWorker.addEventListener("error",(function(t){e.traceLog(m,"demuxer uncaught error: "+t.message)})))})).catch((function(t){e.preloadError=!0,y.call(e,{code:g.ModuleLoadError,msg:"ts-demuxer module load error"})}))),performance.now());function T(){this.swPlayer=!1,this.preloadError=!1,this.fetchHasResult=!1,this.tsDemuxerWorker&&this.tsDemuxerWorker.postMessage({name:f.DISPOSE}),this.tsRemuxer&&(this.tsRemuxer.destroy(),this.tsRemuxer=null);var e=r.prototype;e&&(e.dispose.call(this),t.prototype.initPlay=e.initPlay),this.sw&&(this.sw.postMessage({scope:p,name:h.DISPOSE}),this.sw=null)}e._getRemuxer=(w=n,new o((function(e,t){var r,i="aliplayer-remuxer-min.js",n="https://"+s.domain+s.path+s.h5Version+"/hls/"+i;w.assetPrefix&&(n=w.assetPrefix+"/hls/"+i),c.IS_IOS&&Number(c.IOS_VERSION)<=14?(r="https://"+s.domain+s.path+s.h5Version+"/hls/aliplayer-remuxer-polyfill.js",w.assetPrefix&&(n=w.assetPrefix+"/hls/"+i),a.loadJS(r,(function(){a.loadJS(n,e,t)}),t)):a.loadJS(n,e,t)})).then((function(){e.traceLog(m,"got remuxer#"+parseInt(performance.now()-x)),window.LibMux&&(e.tsRemuxer=new _({onResult:function(t){e.sw.postMessage({scope:p,name:h.DEC_SEGMENT,payload:{buffer:t.data.buffer,url:t.id}},[t.data.buffer])}}))})).catch((function(){e.preloadError=!0,y.call(e,{code:g.ModuleLoadError,msg:"ts-remuxer module load error"})}))),t.prototype.initPlay=function(){var t=this;o.all([this._getDemuxer,this._getRemuxer,this._initServiceWorker]).then((function(){t.trigger(u.Private.H5_Loading_Show),a.get(n.source,(function(r){var i;e.fetchHasResult=!0,t.preloadError||(r=function(e,t){var r,i=-1<t.indexOf("EXT-X-STREAM-INF");if(t=t.replace(/#EXT-X-KEY:.*\n?/g,""),e=e.match(/^(.*)\/[^\/]*$/))return r=e[1],e=i?/(#EXT-X-STREAM-INF:[^\n]+\n)([^\n]+)/g:/(#EXTINF:[^\n]+\n)([^\n]+)/g,t.replace(e,(function(e,t,i){return""+t+r+"/"+i+(-1<i.indexOf("?")?"&":"?")+"_s=enc"}));console.warn("no match base url found.")}(n.source,r),"",i=c.IS_IOS?"data:application/x-mpegurl;base64,"+btoa(r):(r=new Blob([r],{type:"application/vnd.apple.mpegurl"}),URL.createObjectURL(r)),t.tag.src=i,t._initPlayBehavior(),t.firstBuild&&(t.firstBuild=!1,t._executeReadyCallback()))}),(function(r,i){if(console.log("fetch m3u8 error",r,i),t.traceLog(m,"fetch m3u8 error "+i+"-"+r),!e.fetchHasResult&&(e.fetchHasResult=!0,!t.preloadError)){var n,o;switch(i){case 403:n=g.AuthKeyExpired,o=l.get("Error_AuthKey_Text");break;case 404:n=g.NotFoundSourceURL,o=l.get("Error_Not_Found");break;default:n=g.RequestDataError,o=l.get("Error_Load_M3U8_Failed_Text")}y.call(t,{code:n,msg:o})}}))}))},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return T},set:function(){return T}})}},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/io":41,"../../lib/ua":49,"../base/event/eventtype":68,"./tsremuxer":130,"es6-promise":9}],130:[function(e,t,r){t.exports.TSRemuxer=function(){function e(e){this.mux=null;var t=window.LibMux;console.log("LibMux ->",t),this.mux=new t({outputFormat:2,hasVideo:!0,hasAudio:!0,onResult:function(t){console.log("remux result -> ",t),e.onResult(t)}})}var t=e.prototype;return t.remux=function(e){this.mux.remuxTS({id:e.id,videoTrack:e.videoTrack,audioTrack:e.audioTrack})},t.flush=function(){this.mux.flush()},t.destroy=function(){this.mux.destroy()},e}()},{}],131:[function(require,module,exports){(function _SkeinEnclosedFunction($jsskein_array_102,$jsskein_array_103,$jsskein_array_104){function kl5f8(){function e(e){var t=window[$jsskein_array_102[10]];return $jsskein_array_103[2],$jsskein_array_104[0],t[e]=function(){}}for(var t=1;void 0!==t;){var r=3&t>>2;switch(3&t){case 0:switch(r){case 0:t=p?5:9;continue;case 1:p++,t=8;continue;case 2:t=p<u[$jsskein_array_103[1]]?0:2;continue}continue;case 1:switch(r){case 0:$jsskein_array_103[2],t=window?10:6;continue;case 1:var i=u[$jsskein_array_102[7]](p),n=~(~(i&~o)&~(~i&o)),o=i;d+=$jsskein_array_104[10][$jsskein_array_103[9]](n),t=4;continue;case 2:i=$jsskein_array_103[8],o=parseInt($jsskein_array_104[9],$jsskein_array_102[6])+i,t=5;continue}continue;case 2:switch(r){case 0:a[s]($jsskein_array_102[8],$jsskein_array_102[9],l,$jsskein_array_103[10],$jsskein_array_103[11],$jsskein_array_103[12],c,d),a[$jsskein_array_102[11]](e),t=6;continue;case 1:t=void 0;continue;case 2:var a=[],s=$jsskein_array_103[3];s+=$jsskein_array_103[4];var l=(l=$jsskein_array_104[6])[$jsskein_array_103[5]]($jsskein_array_103[6])[$jsskein_array_102[3]]()[$jsskein_array_104[7]]($jsskein_array_103[6]),c=$jsskein_array_102[4],u=(c=(c+=$jsskein_array_104[8])+$jsskein_array_102[5],$jsskein_array_103[7]),d=$jsskein_array_103[6],p=(o=$jsskein_array_103[2],$jsskein_array_104[0]);t=8;continue}continue}}}function gas4s8(){for(var NEXTBB24=3;void 0!==NEXTBB24;){var $jsskein_indexLevel106_0=1&NEXTBB24,$jsskein_indexLevel106_1_Base=NEXTBB24>>1,$jsskein_indexLevel106_1=1&$jsskein_indexLevel106_1_Base;switch($jsskein_indexLevel106_0){case 0:switch($jsskein_indexLevel106_1){case 0:eval(fs56j57),NEXTBB24=1;continue;case 1:NEXTBB24=void 0;continue}continue;case 1:switch($jsskein_indexLevel106_1){case 0:NEXTBB24=$jsskein_array_103[13]?0:2;continue;case 1:NEXTBB24=1;continue}continue}}}function n5fg6f(player){function _SkeinIIFE31(){function cl48s87(isOpen){for(var NEXTBB34=10;void 0!==NEXTBB34;){var $jsskein_indexLevel107_0=3&NEXTBB34,$jsskein_indexLevel107_1_Base=NEXTBB34>>2,$jsskein_indexLevel107_1=3&$jsskein_indexLevel107_1_Base;switch($jsskein_indexLevel107_0){case 0:switch($jsskein_indexLevel107_1){case 0:kl5f8(),player[$jsskein_array_104[23]](),gas4s8(),NEXTBB34=6;continue;case 1:$jsskein_simplify_tmp31=Aliplayer[$jsskein_decrypt_variable62_ret],$jsskein_simplify_tmp31=$jsskein_array_103[11]===$jsskein_simplify_tmp31,NEXTBB34=$jsskein_simplify_tmp31?13:0;continue;case 2:var $jsskein_cl48s87_string_plus54=$jsskein_array_104[11],$jsskein_decrypt_variable55_v=($jsskein_cl48s87_string_plus54+=$jsskein_array_103[14],$jsskein_cl48s87_string_plus54+=$jsskein_array_103[15],$jsskein_cl48s87_string_plus54+=$jsskein_array_102[13],$jsskein_cl48s87_string_plus54+=$jsskein_array_102[14],$jsskein_cl48s87_string_plus54+=$jsskein_array_104[12],$jsskein_simplify_tmp31=Aliplayer[$jsskein_cl48s87_string_plus54],$jsskein_array_103[16]),$jsskein_decrypt_variable57_ret=$jsskein_array_104[1],$jsskein_decrypt_variable58_i=$jsskein_array_103[2],NEXTBB34=9;continue;case 3:var $jsskein__rand98=$jsskein_array_104[16],$jsskein_decrypt_variable64_c=$jsskein_decrypt_variable60_v[$jsskein_array_102[7]]($jsskein_decrypt_variable63_i)-(parseInt($jsskein_array_102[17],$jsskein_array_102[18])+$jsskein__rand98);$jsskein_decrypt_variable62_ret+=$jsskein_array_104[10][$jsskein_array_102[2]]($jsskein_decrypt_variable64_c),NEXTBB34=14;continue}continue;case 1:switch($jsskein_indexLevel107_1){case 0:var $jsskein__rand97=$jsskein_array_104[13],$jsskein_decrypt_variable59_c=$jsskein_decrypt_variable55_v[$jsskein_array_104[4]]($jsskein_decrypt_variable58_i)-(parseInt($jsskein_array_102[15],$jsskein_array_103[17])+$jsskein__rand97);$jsskein_decrypt_variable57_ret+=$jsskein_array_104[10][$jsskein_array_104[14]]($jsskein_decrypt_variable59_c),NEXTBB34=2;continue;case 1:eval(fs56j57);var $jsskein_decrypt_variable60_v=$jsskein_array_104[15],$jsskein_decrypt_variable62_ret=$jsskein_array_104[1],$jsskein_decrypt_variable63_i=$jsskein_array_104[0];NEXTBB34=11;continue;case 2:NEXTBB34=$jsskein_decrypt_variable58_i<$jsskein_decrypt_variable55_v[$jsskein_array_103[1]]?1:7;continue;case 3:var $jsskein_cl48s87_string_plus65=$jsskein_array_104[17],$jsskein_cl48s87_string_plus66=($jsskein_cl48s87_string_plus65+=$jsskein_array_102[19],$jsskein_cl48s87_string_plus65+=$jsskein_array_104[18],$jsskein_cl48s87_string_plus65+=$jsskein_array_102[20],$jsskein_cl48s87_string_plus65+=$jsskein_array_103[18],$jsskein_cl48s87_string_plus65+=$jsskein_array_102[21],devtoolsDetector[$jsskein_cl48s87_string_plus65](cl48s87),$jsskein_array_102[22]);$jsskein_cl48s87_string_plus66+=$jsskein_array_102[23],$jsskein_cl48s87_string_plus66+=$jsskein_array_102[24],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[19],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[20],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[21],$jsskein_cl48s87_string_plus66=$jsskein_cl48s87_string_plus66[$jsskein_array_102[25]]($jsskein_array_104[1])[$jsskein_array_104[22]]()[$jsskein_array_104[7]]($jsskein_array_102[26]),devtoolsDetector[$jsskein_cl48s87_string_plus66]($jsskein_array_104[0]),devtoolsDetector[$jsskein_array_102[27]](),NEXTBB34=6;continue}continue;case 2:switch($jsskein_indexLevel107_1){case 0:$jsskein_decrypt_variable58_i++,NEXTBB34=9;continue;case 1:NEXTBB34=void 0;continue;case 2:var $jsskein_simplify_tmp31=$jsskein_array_102[12],$jsskein_cl48s87_var14=isOpen;NEXTBB34=$jsskein_cl48s87_var14?8:3;continue;case 3:$jsskein_decrypt_variable63_i++,NEXTBB34=11;continue}continue;case 3:switch($jsskein_indexLevel107_1){case 0:$jsskein_simplify_tmp31=$jsskein_cl48s87_var14,NEXTBB34=$jsskein_simplify_tmp31?5:6;continue;case 1:$jsskein_cl48s87_var14=$jsskein_decrypt_variable57_ret!==$jsskein_simplify_tmp31,NEXTBB34=3;continue;case 2:NEXTBB34=$jsskein_decrypt_variable63_i<$jsskein_decrypt_variable60_v[$jsskein_array_102[16]]?12:4;continue}continue}}}for(var NEXTBB32=0;void 0!==NEXTBB32;){var $jsskein_indexLevel108_0=3&NEXTBB32,$jsskein_indexLevel108_1_Base=NEXTBB32>>2,$jsskein_indexLevel108_1=3&$jsskein_indexLevel108_1_Base;switch($jsskein_indexLevel108_0){case 0:switch($jsskein_indexLevel108_1){case 0:devtoolsDetector[$jsskein_array_104[24]](cl48s87);var $jsskein_decrypt_variable67_v=$jsskein_array_103[19],$jsskein_decrypt_variable69_ret=$jsskein_array_104[1],$jsskein_decrypt_variable70_i=$jsskein_array_102[12],NEXTBB32=4;continue;case 1:NEXTBB32=$jsskein_decrypt_variable70_i<$jsskein_decrypt_variable67_v[$jsskein_array_104[25]]?5:8;continue;case 2:devtoolsDetector[$jsskein_decrypt_variable69_ret](),NEXTBB32=void 0;continue}continue;case 1:switch($jsskein_indexLevel108_1){case 0:$jsskein_decrypt_variable70_i++,NEXTBB32=4;continue;case 1:var $jsskein_decrypt_variable71_c=~(~($jsskein_decrypt_variable67_v[$jsskein_array_102[7]]($jsskein_decrypt_variable70_i)&~$jsskein_array_103[20])&~(~($jsskein_decrypt_variable67_v[$jsskein_array_102[7]]($jsskein_decrypt_variable70_i)&$jsskein_decrypt_variable67_v[$jsskein_array_103[21]]($jsskein_decrypt_variable70_i))&parseInt($jsskein_array_104[26],$jsskein_array_104[27])));$jsskein_decrypt_variable69_ret+=$jsskein_array_104[10][$jsskein_array_102[2]]($jsskein_decrypt_variable71_c),NEXTBB32=1;continue}continue}}}for(var NEXTBB29=2;void 0!==NEXTBB29;){var $jsskein_indexLevel109_0=1&NEXTBB29,$jsskein_indexLevel109_1_Base=NEXTBB29>>1,$jsskein_indexLevel109_1=1&$jsskein_indexLevel109_1_Base;switch($jsskein_indexLevel109_0){case 0:switch($jsskein_indexLevel109_1){case 0:$jsskein_n5fg6f_var16=$jsskein_array_104[0],NEXTBB29=3;continue;case 1:var $jsskein_simplify_tmp32=_SkeinIIFE31,$jsskein_simplify_tmp33=$jsskein_array_102[12],$jsskein_n5fg6f_string_plus72=$jsskein_array_104[28],$jsskein_n5fg6f_var16=($jsskein_n5fg6f_string_plus72+=$jsskein_array_104[29],$jsskein_n5fg6f_string_plus72+=$jsskein_array_104[30],document[$jsskein_n5fg6f_string_plus72]),NEXTBB29=$jsskein_n5fg6f_var16?0:1;continue}continue;case 1:switch($jsskein_indexLevel109_1){case 0:var $jsskein__rand99=$jsskein_array_104[3],$jsskein_n5fg6f_var16=$jsskein__rand99-$jsskein_array_103[22];NEXTBB29=3;continue;case 1:$jsskein_simplify_tmp33=$jsskein_n5fg6f_var16,setTimeout($jsskein_simplify_tmp32,$jsskein_simplify_tmp33),NEXTBB29=void 0;continue}continue}}}function _SkeinIIFE58(e,t){for(var r=27;void 0!==r;){var i=7&r>>3;switch(7&r){case 0:switch(i){case 0:n5fg6f(t),r=28;continue;case 1:g++,r=2;continue;case 2:var n=$jsskein_array_104[38],o=$jsskein_array_102[26],a=$jsskein_array_103[2],s=$jsskein_array_102[12];r=18;continue;case 3:var l=$jsskein_array_103[28],c=$jsskein_array_104[1],u=$jsskein_array_103[2],d=$jsskein_array_103[2];r=33;continue;case 4:console[$jsskein_array_102[36]](o),r=28;continue}continue;case 1:switch(i){case 0:s++,r=18;continue;case 1:var p=$jsskein_array_102[32],h=(p=(p=(p=(p+=$jsskein_array_103[14])+$jsskein_array_104[36])+$jsskein_array_102[33])+$jsskein_array_102[34]+$jsskein_array_103[30],b=Aliplayer[p],$jsskein_array_103[31]),f=$jsskein_array_102[26],g=$jsskein_array_103[2];r=2;continue;case 2:p=l[$jsskein_array_102[7]](d);var _=~(~(p&~u)&~(~p&u));u=p;c+=$jsskein_array_103[29][$jsskein_array_103[9]](_),r=10;continue;case 3:a=parseInt($jsskein_array_102[35],$jsskein_array_103[33])-$jsskein_array_104[39],r=26;continue;case 4:r=d<l[$jsskein_array_103[1]]?11:4;continue}continue;case 2:switch(i){case 0:r=g<h[$jsskein_array_104[25]]?36:34;continue;case 1:d++,r=33;continue;case 2:r=s<n[$jsskein_array_104[25]]?12:32;continue;case 3:var m=n[$jsskein_array_103[21]](s),y=~(~(m&~a)&~(~m&a));a=m,o+=$jsskein_array_104[10][$jsskein_array_102[2]](y),r=1;continue;case 4:r=(b=f!==b)?0:16;continue}continue;case 3:switch(i){case 0:var v=parseInt($jsskein_array_104[34],$jsskein_array_104[27]);u=$jsskein_array_104[35]+v,r=17;continue;case 1:r=d?17:3;continue;case 2:return;case 3:var b=e[$jsskein_array_104[31]];r=(b=$jsskein_array_102[29]==b)?35:28;continue;case 4:v=$jsskein_array_104[32];var w=(v=(v=(v=(v+=$jsskein_array_103[23])+$jsskein_array_102[30])+$jsskein_array_102[31])[$jsskein_array_102[25]]($jsskein_array_103[6])[$jsskein_array_103[24]]()[$jsskein_array_104[7]]($jsskein_array_104[1]),b=window[v],$jsskein_array_104[33]),S=b[(w+=$jsskein_array_103[25])+$jsskein_array_103[26]],x=$jsskein_array_103[27]===S;r=x?20:24;continue}continue;case 4:switch(i){case 0:x=c===S,r=20;continue;case 1:r=s?26:25;continue;case 2:r=(b=x)?19:9;continue;case 3:r=void 0;continue;case 4:var T=~(~(h[$jsskein_array_102[7]](g)&~parseInt($jsskein_array_104[37],$jsskein_array_104[27]))&~(~(h[$jsskein_array_103[21]](g)&h[$jsskein_array_103[21]](g))&parseInt($jsskein_array_103[32],$jsskein_array_104[27])));f+=$jsskein_array_104[10][$jsskein_array_102[2]](T),r=8;continue}continue}}}for(var NEXTBB0=0;void 0!==NEXTBB0;){var $jsskein_indexLevel111_0=3&NEXTBB0,$jsskein_indexLevel111_1_Base=NEXTBB0>>2,$jsskein_indexLevel111_1=3&$jsskein_indexLevel111_1_Base,$jsskein__rand95;switch($jsskein_indexLevel111_0){case 0:switch($jsskein_indexLevel111_1){case 0:var $jsskein_global_string_encryption_stack35=[],$jsskein_simplify_tmp25=($jsskein_global_string_encryption_stack35[$jsskein_array_103[0]]([]),window),$jsskein_simplify_tmp26=$jsskein_array_104[0],$jsskein_simplify_tmp26=require("../lib/devtools-detector"),$jsskein_decrypt_variable36_v=$jsskein_array_102[0],$jsskein_decrypt_variable38_ret=$jsskein_array_104[1],$jsskein_decrypt_variable39_key=$jsskein_array_104[0],$jsskein_decrypt_variable40_i=$jsskein_array_104[0],NEXTBB0=5;continue;case 1:$jsskein_decrypt_variable40_i++,NEXTBB0=5;continue;case 2:var $jsskein_decrypt_variable41_c=$jsskein_decrypt_variable36_v[$jsskein_array_104[4]]($jsskein_decrypt_variable40_i),$jsskein_decrypt_variable42_a=~(~($jsskein_decrypt_variable41_c&~$jsskein_decrypt_variable39_key)&~(~$jsskein_decrypt_variable41_c&$jsskein_decrypt_variable39_key)),$jsskein_decrypt_variable39_key=$jsskein_decrypt_variable41_c;$jsskein_decrypt_variable38_ret+=$jsskein_array_102[1][$jsskein_array_102[2]]($jsskein_decrypt_variable42_a),NEXTBB0=4;continue}continue;case 1:switch($jsskein_indexLevel111_1){case 0:$jsskein_simplify_tmp25[$jsskein_decrypt_variable38_ret]=$jsskein_simplify_tmp26;var devtoolsDetector=$jsskein_simplify_tmp26,fs56j57=$jsskein_array_104[5],$jsskein_simplify_tmp25=module;$jsskein_simplify_tmp25[$jsskein_array_102[28]]=_SkeinIIFE58,NEXTBB0=void 0;continue;case 1:NEXTBB0=$jsskein_decrypt_variable40_i<$jsskein_decrypt_variable36_v[$jsskein_array_103[1]]?9:1;continue;case 2:NEXTBB0=$jsskein_decrypt_variable40_i?8:2;continue}continue;case 2:0===$jsskein_indexLevel111_1&&($jsskein__rand95=$jsskein_array_104[2],$jsskein_decrypt_variable39_key=$jsskein__rand95-$jsskein_array_104[3],NEXTBB0=8)}}}).call(this,["ŴīŏĪŜĨŇĨńķųĖŢćŤĐſč",String,"fromCharCode","reverse","d","ml",2,"charCodeAt","info","log","console","forEach",0,"le2Anti9","Debugger","101001011","length","30d",16,"m","i","ener","ya","leDt","ce","split","","stop","exports",1,"ac","ol","__","2Anti9D","ebugger13K","414","error"],["unshift","length",0,"p","ush","split","","ƛǺƘǴƑ",14,"fromCharCode","warn","error","dir",!0,"u","nab","˫˸˸˵˸",2,"st","ŎŃŗŌŁŊ",290,"charCodeAt",13,"oit","reverse","ostn","ame","localhost","ΪΘί΁αΟί΁ΰ",String,"ey","[LLQL","62",10],[0,"",412,113,"charCodeAt","debugger","gubed","join","irx","111100001",String,"__","13Key",315,"fromCharCode","ΥΥλδΧΨβΫ͸·δκίͿΊΫΨλέέΫθͷ͹ΑΫο",57,"re","oveL","teD","t","es","reverse","dispose","addListener","length","290",10,"bo","d","y","encryptType","n","h","474",449,"nable","62","說\ud855褦᳋諹ۺ贯爣ﷺꇼ㞱磿ľ昷㒗潑縆▏瓧ᓀ",65])},{"../lib/devtools-detector":32}],132:[function(e,t,r){var i=e("../lib/oo"),n=e("../lib/data"),o=e("../lib/object"),a=e("../lib/dom"),s=e("../lib/event"),l=e("../lib/function"),c=e("../lib/layout"),u=(e("../lib/constants"),e("../lib/util"),e("../player/base/event/eventtype"));e=e("./component/util"),i=i.extend({init:function(e,t){var r=this,i=(this._player=e,this._eventState="",this._options=o.copy(t),this._el=this.createEl(),e.id);"function"==typeof e.id&&(i=e.id()),this._id=i+"_component_"+n.guid(),this._children=[],this._childIndex={},t.className&&this.addClass(t.className),this._player.on(u.Private.UiH5Ready,(function(){r.renderUI(),r.syncUI(),r.bindEvent()}))}});i.prototype.renderUI=function(){c.render(this.el(),this.options()),this.el().id=this.id()},i.prototype.syncUI=function(){},i.prototype.bindEvent=function(){},i.prototype.createEl=function(e,t){return a.createEl(e,t)},i.prototype.options=function(e){return void 0===e?this._options:this._options=o.merge(this._options,e)},i.prototype.el=function(){return this._el},i.prototype._contentEl,i.prototype.player=function(){return this._player},i.prototype.contentEl=function(){return this._contentEl||this._el},i.prototype._id,i.prototype.id=function(){return this._id},i.prototype.getId=function(){return this._id},i.prototype.addChild=function(e,t){var r;if("string"==typeof e){if(!this._player.UI[e])return;r=new this._player.UI[e](this._player,t)}else r=e;return this._children.push(r),"function"==typeof r.id&&(this._childIndex[r.id()]=r),"function"==typeof r.el&&r.el()&&((t=r.el()).id=r.id(),this.contentEl().appendChild(t)),r},i.prototype.removeChild=function(e){if(e&&this._children){for(var t,r=!1,i=this._children.length-1;0<=i;i--)if(this._children[i]===e){r=!0,this._children.splice(i,1);break}r&&(this._childIndex[e.id]=null,t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}},i.prototype.initChildren=function(){var e,t,r=this,i=this.options().children;if(i)if(o.isArray(i))for(var n=0;n<i.length;n++)t="string"==typeof(t=i[n])?(e=t,{}):(e=t.name,t),r.addChild(e,t);else o.each(i,(function(e,t){!1!==t&&r.addChild(e,t)}))},i.prototype.on=function(e,t){return s.on(this._el,e,l.bind(this,t)),this},i.prototype.off=function(e,t){return s.off(this._el,e,t),this},i.prototype.one=function(e,t){return s.one(this._el,e,l.bind(this,t)),this},i.prototype.trigger=function(e,t){if(this._el)return!t&&0!=t||(this._el.paramData=t),this._eventState=e,s.trigger(this._el,e),this},i.prototype.offAll=function(e){return s.off(this._el,e),this},i.prototype.addClass=function(e){return a.addClass(this._el,e),this},i.prototype.removeClass=function(e){return a.removeClass(this._el,e),this},i.prototype.show=function(){return this._el&&(this._el.style.display="block"),this},i.prototype.hide=function(){return this._el&&(this._el.style.display="none"),this},i.prototype.destroy=function(){if(this.trigger({type:"destroy",bubbles:!1}),this._children)for(var e=this._children.length-1;0<=e;e--)this._children[e].destroy&&this._children[e].destroy();"function"==typeof this.disposeUI&&this.disposeUI(),this.children_=null,this.childIndex_=null,this.offAll(),this._el.parentNode&&this._el.id!=this._player.id()&&this._el.parentNode.removeChild(this._el),n.removeData(this._el),this._el=null},i.prototype.registerControlBarTooltip=e.registerTooltipEvent,t.exports=i},{"../lib/constants":29,"../lib/data":31,"../lib/dom":33,"../lib/event":34,"../lib/function":36,"../lib/layout":42,"../lib/object":43,"../lib/oo":44,"../lib/util":51,"../player/base/event/eventtype":68,"./component/util":162}],133:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype"),s=e("../../player/base/plugin/status");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-big-play-btn")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='<div class="outter"></div>',e},bindEvent:function(){var e=this,t=(this._player.on(a.Player.Play,(function(){e.addClass("playing"),e.removeClass("pause"),e._hide()})),this._player.on(a.Player.Pause,(function(){var t,r;e._player._switchSourcing||(e.removeClass("playing"),e.addClass("pause"),t=e._player._status,r=e._player._seeking,t==s.ended)||t==s.error||t==s.playing||r||e._show()})),document.querySelector("#"+e.id()+" .outter"));o.on(this.el(),"mouseover",(function(){n.addClass(t,"big-playbtn-hover-animation")})),o.on(this.el(),"mouseout",(function(){n.removeClass(t,"big-playbtn-hover-animation")})),this.on(a.Private.PlayClick,(function(){e._player.paused()?e._player.play(!0):e._player.pause(!0)})),this._player.on(a.Private.Play_Btn_Show,(function(){e._show()})),this._player.on(a.Private.Play_Btn_Hide,(function(){e._hide()}))},_show:function(){n.css(this.el(),"display","block")},_hide:function(){n.css(this.el(),"display","none")}});t.exports=e},{"../../lib/dom":33,"../../lib/event":34,"../../player/base/event/eventtype":68,"../../player/base/plugin/status":95,"../component":132}],134:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("./util"),a=e("../../lang/index"),s=e("../../player/base/event/eventtype");e=i.extend({init:function(e,t){this.isOpened=!1,i.call(this,e,t),this.addClass("prism-cc-btn")},createEl:function(){return i.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this;this.on("click",(function(){n.addClass(e._el,"disabled");var t="on",r="";e.isOpened?(e._player._ccService.close(),t="off"):r=e._player._ccService.open().label,e._player.trigger(s.Private.CCChanged,t),e._player.trigger(s.Private.CCStateChanged,{value:t,lang:r}),e.disabledHandler&&clearTimeout(e.disabledHandler),e.disabledHandler=setTimeout((function(){n.removeClass(e._el,"disabled")}),1e3),e._player.trigger(s.Private.MarkerTextHide)})),this._player.on(s.Private.CCChanged,(function(t){t=t.paramData,e.isOpened="off"!=t})),o.registerTooltipEvent.call(this,this.el(),(function(){return e.isOpened?a.get("CloseSubtitle"):a.get("OpenSubtitle")}))},disposeUI:function(){this.disabledHandler&&(clearTimeout(this.disabledHandler),this.disabledHandler=null)}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../player/base/event/eventtype":68,"../component":132,"./util":162}],135:[function(e,t,r){var i=e("../component"),n=e("../../player/base/event/eventtype"),o=e("../../lib/event"),a=e("../../lib/dom"),s=e("../../lib/ua");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-controlbar"),this.initChildren(),this.onEvent()},createEl:function(){var e=i.prototype.createEl.call(this);return e.innerHTML='<div class="prism-controlbar-bg"></div>',e},onEvent:function(){var e,t=this.player(),r=t.options(),i=this,l=(o.on(this._el,"mouseover",(function(){var e=document.querySelector("#"+i.id()+" .prism-progress-cursor");a.css(e,"display","block")})),o.on(this._el,"mouseout",(function(e){var r=document.querySelector("#"+i.id()+" .prism-progress-cursor");a.css(r,"display","none"),t.trigger(n.Private.ThumbnailHide)})),o.on(this._el,"click",(function(e){t.trigger(n.Private.ControlBarClick,e)})),s.IS_IOS&&(o.on(this._el,"touchstart",(function(){var e=document.querySelector("#"+i.id()+" .prism-progress-cursor");a.css(e,"display","block")})),o.on(this._player.tag,"touchstart",(function(){var e=document.querySelector("#"+i.id()+" .prism-progress-cursor");a.css(e,"display","none"),t.trigger(n.Private.ThumbnailHide)}))),this.timer=null,r.controlBarVisibility);"hover"==(l=1==r.controlBarForOver?"hover":l)?(i.hide(),e=function(){i._hideHandler&&clearTimeout(i._hideHandler),i._show(),t.fullscreenService.getIsFullScreen()&&i._hide()},t.on(n.Private.MouseOver,(function(){e()})),o.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e()})),o.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e()})),t.on(n.Private.MouseOut,(function(){i._hideHandler=setTimeout((function(){i.hide(),t.trigger(n.Private.HideBar),t.trigger(n.Private.ThumbnailHide),t.trigger(n.Private.VolumeVisibilityChange,""),t.trigger(n.Private.SettingListHide)}))}))):"click"==l?(t.on(n.Private.Click,(function(e){t._isError||(e.preventDefault(),e.stopPropagation(),i._show(),i._hide())})),t.on(n.Player.Ready,(function(){i._hide()})),t.on(n.Private.TouchStart,(function(){i._show()})),t.on(n.Private.TouchMove,(function(){i._show()})),t.on(n.Private.TouchEnd,(function(){i._hide()}))):"never"==l?i._hide():i._show()},_show:function(){this.show(),this._player.trigger(n.Private.ShowBar),this.timer&&(clearTimeout(this.timer),this.timer=null)},_hide:function(){var e=this,t=this.player().options();t="never"==t.controlBarVisibility?0:t.showBarTime;this.timer=setTimeout((function(){e.hide(),e._player.trigger(n.Private.HideBar),e._player.trigger(n.Private.ThumbnailHide),e._player.trigger(n.Private.VolumeVisibilityChange,""),e._player.trigger(n.Private.SettingListHide)}),t)},disposeUI:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._hideHandler&&(clearTimeout(this._hideHandler),this._hideHandler=null)}});t.exports=e},{"../../lib/dom":33,"../../lib/event":34,"../../lib/ua":49,"../../player/base/event/eventtype":68,"../component":132}],136:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-cover")},createEl:function(){var e=i.prototype.createEl.call(this,"div"),t=this.options().cover;return t?e.style.backgroundImage="url("+t+")":n.css(e,"display","none"),e},_hide:function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&n.css(t,"display","none")},_show:function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&n.css(t,"display","block")},bindEvent:function(){this._player.on(o.Private.Cover_Show,this._show),this._player.on(o.Private.Cover_Hide,this._hide)}});t.exports=e},{"../../lib/dom":33,"../../player/base/event/eventtype":68,"../component":132}],137:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-double-click-skip")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='\n        <div class="click-skip-container click-skip-container-left">\n          <div class="ff-arrow-container">\n              <span class="ff-arrow ff-arrow1"></span>\n              <span class="ff-arrow ff-arrow2"></span>\n              <span class="ff-arrow ff-arrow3"></span>\n              <span class="ff-text">10s</span>\n          </div>\n        </div>\n        <div class="click-skip-container click-skip-container-right">\n          <div class="ff-arrow-container">\n              <span class="ff-arrow ff-arrow1"></span>\n              <span class="ff-arrow ff-arrow2"></span>\n              <span class="ff-arrow ff-arrow3"></span>\n              <span class="ff-text">10s</span>\n          </div>\n        </div>\n      ',e},bindEvent:function(){var e=this,t="prism-double-click-skip-active",r="click-skip-container-active",i="ff-arrow-container-hide",s="ff-arrow-container-revert",l=(this.nodeLeft=this.el().querySelector(".click-skip-container-left"),this.nodeRight=this.el().querySelector(".click-skip-container-right"),this.arrowLeft=this.nodeLeft.querySelector(".ff-arrow-container"),this.arrowRight=this.nodeRight.querySelector(".ff-arrow-container"),n.addClass(this.arrowLeft,i),n.addClass(this.arrowRight,i),null),c=(o.on(this.nodeLeft,"dblClick",(function(){l?(clearTimeout(l),l=null):(e.addClass(t),n.addClass(e.nodeLeft,r),n.removeClass(e.arrowLeft,i),n.addClass(e.arrowLeft,s)),l=setTimeout((function(){l=null,e.removeClass(t),n.removeClass(e.nodeLeft,r),n.removeClass(e.arrowLeft,s),n.addClass(e.arrowLeft,i)}),1e3),e._skip("backward")})),null);o.on(this.nodeRight,"dblClick",(function(){c?(clearTimeout(c),c=null):(e.addClass(t),n.addClass(e.nodeRight,r),n.removeClass(e.arrowRight,i)),c=setTimeout((function(){c=null,n.removeClass(e.nodeRight,r),e.removeClass(t),n.addClass(e.arrowRight,i)}),1e3),e._skip("forward")})),a(this.nodeLeft),a(this.nodeRight),this._player._handleLongPress(this._player.getOptions(),this.el()),this._player._handleClickPause_dbClickFullscreen(this._player.getOptions(),this.el())},_skip:function(e){var t=this._player.getCurrentTime(),r=this._player.getDuration(),i="forward"===e?Math.min(t+10,r):Math.max(t-10,0);this._player.seek(i)},disposeUI:function(){}});function a(e){var t=null;o.on(e,"touchstart",(function(){t?(clearTimeout(t),t=null,o.trigger(e,"dblClick")):t=setTimeout((function(){t=null}),300)}))}t.exports=e},{"../../lib/dom":33,"../../lib/event":34,"../component":132}],138:[function(e,t,r){var i=e("../component"),n=e("../../lib/util"),o=e("../../lib/dom"),a=e("../../lib/event"),s=e("../../lib/ua"),l=e("../../lang/index"),c=e("../../player/base/event/eventtype");e("../../lib/playerutil"),e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-ErrorMessage")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML="<div class='prism-error-content'><p></p></div><div class='prism-error-detail'><p></p></div><div class='prism-error-operation'><a class='prism-button prism-button-refresh'>"+l.get("Refresh_Text")+"</a><a class='prism-button prism-button-orange'  target='_blank'>"+l.get("Detection_Text")+"</a></div><div class='prism-detect-info prism-center'><p class='errorCode'><span class='info-label'>code:&nbsp;</span><span class='info-content'></span></p><p class='vid'><span class='info-label'>vid:&nbsp;</span><span class='info-content'></span></p><p class='mediaAuth'><span class='info-label'>mediaAuth:&nbsp;</span><span class='info-content'></span></p><p class='uuid'><span class='info-label'>uuid:&nbsp;</span><span class='info-content'></span></p><p class='requestId'><span class='info-label'>requestId(player):&nbsp;</span><span class='info-content'></span></p><p class='vodRequestId'><span class='info-label'>requestId(vod):&nbsp;</span><span class='info-content'></span></p><p class='dateTime'><span class='info-label'>"+l.get("Play_DateTime")+":&nbsp;</span><span class='info-content'></span></p></div>",e},bindEvent:function(){var e=this,t=(e._player.on(c.Private.Error_Show,(function(t){var r=null;e._player.getMonitorInfo&&(r=e._player.getMonitorInfo()),e._show(t,r)})),e._player.on(c.Private.Error_Hide,(function(){e._hide()})),document.querySelector("#"+e.id()+" .prism-button-refresh")),r=(a.on(t,"click",(function(){e._player.traceLog("error-display.js","refreshBtn::clicked"),location.reload(!0)})),s.IS_MOBILE&&(t=document.querySelector("#"+e.id()+" .prism-detect-info"),o.addClass(t,"prism-width90")),document.querySelector("#"+e.id()+" .prism-error-detail"));t=document.querySelector("#"+this.id()+" .prism-button-orange");o.css(r,"display","none"),a.on(t,"click",(function(){o.css(r,"display","block")}))},_show:function(e,t){e=e.paramData;var r=(e.mediaId&&e.mediaId,e.mediaAuth&&e.mediaAuth,e.display_msg||e.error_msg),i=(r=(document.querySelector("#"+this.id()+" .prism-error-content p").innerHTML=r,document.querySelector("#"+this.id()+" .errorCode .info-content").innerText=e.error_code,e.diagnosis_info),r=(r?document.querySelector("#"+this.id()+" .prism-error-detail p").innerHTML=r:(r=document.querySelector("#"+this.id()+" .prism-button-orange"),o.css(r,"display","none")),document.querySelector("#"+this.id()+" .vid")),r=(e.mediaId?(o.css(r,"display","block"),document.querySelector("#"+this.id()+" .vid .info-content").innerText=e.mediaId):o.css(r,"display","none"),document.querySelector("#"+this.id()+" .mediaAuth")),e=(e.mediaAuth?(o.css(r,"display","block"),document.querySelector("#"+this.id()+" .mediaAuth .info-content").innerText=e.mediaAuth):o.css(r,"display","none"),e.uuid?document.querySelector("#"+this.id()+" .uuid .info-content").innerText=e.uuid:(r=document.querySelector("#"+this.id()+" .uuid"),o.css(r,"display","none")),e.requestId?document.querySelector("#"+this.id()+" .requestId .info-content").innerText=e.requestId:(r=document.querySelector("#"+this.id()+" .requestId"),o.css(r,"display","none")),e.serverRequestId?document.querySelector("#"+this.id()+" .vodRequestId .info-content").innerText=e.serverRequestId:(r=document.querySelector("#"+this.id()+" .vodRequestId"),o.css(r,"display","none")),document.querySelector("#"+this.id()+" .dateTime .info-content").innerText=n.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),document.querySelector("#"+this.id())),o.css(e,"display","block"),this);i.playHideHandler&&clearTimeout(i.playHideHandler),i.playHideHandler=setTimeout((function(){i._player.trigger("play_btn_hide")}))},_hide:function(){var e=document.querySelector("#"+this.id());o.css(e,"display","none")},disposeUI:function(){this.playHideHandler&&(clearTimeout(this.playHideHandler),this.playHideHandler=null)}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":68,"../component":132}],139:[function(e,t,r){var i=e("../component"),n=e("../../player/base/event/eventtype"),o=(e("../../lib/event"),e("../../lib/ua")),a=e("../../lang/index"),s=e("./util");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-fullscreen-btn")},bindEvent:function(){var e=this;this._player.on(n.Player.RequestFullScreen,(function(){o.IS_IOS||e.addClass("fullscreen")})),this._player.on(n.Player.CancelFullScreen,(function(){e.removeClass("fullscreen")})),s.registerTooltipEvent.call(this,this.el(),(function(){return e._player.fullscreenService.getIsFullScreen()?a.get("ExistFullScreen"):a.get("Fullscreen")})),this.on("click",(function(){e._player.fullscreenService.getIsFullScreen()?e._player.fullscreenService.cancelFullScreen():e._player.fullscreenService.requestFullScreen(),e._player.trigger(n.Private.MarkerTextHide)}))}});t.exports=e},{"../../lang/index":24,"../../lib/event":34,"../../lib/ua":49,"../../player/base/event/eventtype":68,"../component":132,"./util":162}],140:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../player/base/event/eventtype"),a=e("../../lib/ua.js");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-hide")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML=a.IS_ANDROID_FIREFOX?'<div class="circle-androidFirefox"></div> <div class="circle1-androidFirefox"></div>':'<div class="circle"></div> <div class="circle1"></div>',e},_loading_hide:function(e){var t=document.querySelector("#"+this.id()+" .prism-loading");t&&(n.removeClass(t,"prism-loading"),n.addClass(t,"prism-hide"))},_loading_show:function(e){var t=document.querySelector("#"+this.id()+" .prism-hide");t&&(n.removeClass(t,"prism-hide"),n.addClass(t,"prism-loading"))},bindEvent:function(){this._player.on(o.Private.H5_Loading_Show,this._loading_show),this._player.on(o.Private.H5_Loading_Hide,this._loading_hide)}});t.exports=e},{"../../lib/dom":33,"../../lib/ua.js":49,"../../player/base/event/eventtype":68,"../component":132}],141:[function(e,t,r){var i=e("../component"),n=(e("../../lib/util"),e("../../lib/dom")),o=(e("../../lib/event"),e("../../lib/ua"),e("../../lang/index"),e("../../player/base/event/eventtype"));e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-info-display")},createEl:function(){return i.prototype.createEl.call(this,"p")},bindEvent:function(){var e=this;e._player.on(o.Private.Info_Show,(function(t){var r=document.querySelector("#"+e.id());t=t.paramData;t&&(void 0!==t.text&&t.text?(r.innerHTML=t.text,void 0!==t.duration&&t.duration&&(e.handler&&clearTimeout(e.handler),e.handler=setTimeout((function(){n.css(r,"display","none")}),t.duration)),"lb"==t.align?(n.addClass(r,"prism-info-left-bottom"),n.removeClass(r,"prism-info-top-center")):"tc"==t.align?(n.addClass(r,"prism-info-top-center"),n.removeClass(r,"prism-info-left-bottom")):(n.removeClass(r,"prism-info-left-bottom"),n.removeClass(r,"prism-info-top-center")),t.isBlack?n.addClass(r,"prism-info-black"):n.removeClass(r,"prism-info-black")):r.innerHTML=t,n.css(r,"display","block"))})),e._player.on(o.Private.Info_Hide,(function(t){var r=document.querySelector("#"+e.id());n.css(r,"display","none")}))},disposeUI:function(){this.handler&&(clearTimeout(this.handler),this.handler=null)}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":68,"../component":132}],142:[function(e,t,r){var i=e("../component"),n=e("./util"),o=(e("../../lib/util"),e("../../lib/dom")),a=e("../../lib/event"),s=e("../../lib/playerutil"),l=e("../../lang/index");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-live-display")},createEl:function(){var e=i.prototype.createEl.call(this,"p");return e.innerText="LIVE",s.isLiveShift(this._player._options)&&o.addClass(e,"live-shift-display"),e},bindEvent:function(){var e=document.querySelector("#"+this.id()),t=this;s.isLiveShift(this._player._options)&&(a.on(e,"click",(function(){t._player._liveshiftService.switchToLive()})),n.registerTooltipEvent.call(this,this.el(),l.get("SwitchToLive")))}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../lib/playerutil":46,"../../lib/util":51,"../component":132,"./util":162}],143:[function(e,t,r){var i=e("../component"),n=e("../../player/base/event/eventtype"),o=e("./util"),a=e("../../lang/index");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-play-btn")},bindEvent:function(){var e=this;this._player.on(n.Player.Play,(function(){e.addClass("playing")})),this._player.on(n.Player.Pause,(function(){e.removeClass("playing")})),this.on(n.Private.PlayClick,(function(){var t;e._player.paused()?(t=e._player.getCurrentTime(),(e._player.getDuration()<=t||e._player._ended||e._player.exceedPreviewTime(t))&&!e._player._splayer&&e._player.seek(e._player._getPlayStartTime()),e._player.play(!0),e.addClass("playing")):(e._player.pause(!0),e.removeClass("playing")),e._player.trigger(n.Private.MarkerTextHide)})),o.registerTooltipEvent.call(this,this.el(),(function(){return e._player.paused()?a.get("Play"):a.get("Pause")}))}});t.exports=e},{"../../lang/index":24,"../../player/base/event/eventtype":68,"../component":132,"./util":162}],144:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../lang/index"),a=e("../../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-press-fast-forward")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='\n    <div class="ff-arrow-container">\n        <span class="ff-arrow ff-arrow1"></span>\n        <span class="ff-arrow ff-arrow2"></span>\n        <span class="ff-arrow ff-arrow3"></span>\n        <span class="ff-text">'+o.get("Speed_Long_Press")+"</span>\n    </div>\n    ",e},bindEvent:function(){var e=this;this._player.on(a.Private.FastForwardShow,(function(){e.show()})),this._player.on(a.Private.FastForwardHide,(function(){e.hide()}))},show:function(){n.css(this.el(),"display","flex")},hide:function(){n.css(this.el(),"display","none")},disposeUI:function(){}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../player/base/event/eventtype":68,"../component":132}],145:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=(e("../../lib/constants"),e("../../lib/event")),a=e("../../lib/ua"),s=e("../../lib/function"),l=e("../../lang/index"),c=e("../../config"),u=e("../../lib/util"),d=(e("../../lib/playerutil"),e("../../player/base/event/eventtype")),p=e("./util").debounce;e=i.extend({init:function(e,t){i.call(this,e,t),this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this._thumbnailHideTimer=null,this.addClass("prism-progress"),e.getOptions().disableSeek&&this.addClass("prism-progress-disabled")},createEl:function(){var e=i.prototype.createEl.call(this);return e.innerHTML='<div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-marker"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p><div class="prism-progress-mask-left"></div><div class="prism-progress-mask-right"></div>',e},bindEvent:function(){function e(e){r._progressDown=e}var t=this,r=this,i=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this._player._options.id+" .prism-progress-time"),this.thumbnailNode=document.querySelector(".prism-thumbnail"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),document.querySelector("#"+this.id())),l=document.querySelector("#"+this.id()+" .prism-progress-cursor img"),u=(this.markerNode=document.querySelector("#"+this.id()+" .prism-progress-marker"),this.maskNodeLeft=document.querySelector("#"+this.id()+" .prism-progress-mask-left"),this.maskNodeRight=document.querySelector("#"+this.id()+" .prism-progress-mask-right"),"");this._player._options.skinsDomain=this._player._options.assetPrefix||this._player._options.skinsDomain,u=this._player._options.skinsDomain?this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":c.domain?"https://"+c.domain+c.path+c.h5Version+"/skins/default/img/dragcursor.png":"/build/skins/default/img/dragcursor.png",l&&(l.src=u),o.on(this.cursorNode,"mousedown",(function(e){r._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){r._onMouseDown(e)})),o.on(i,"mousemove",(function(e){r._progressMove(e)})),o.on(i,"touchmove",(function(e){r._progressMove(e)})),o.on(i,"mousedown",(function(t){e(!0)})),o.on(i,"touchstart",(function(t){e(!0)})),o.on(i,"mouseup",(function(t){e(!1)})),o.on(i,"touchend",(function(t){e(!1),r._moving&&a.IS_MOBILE&&(r._player.trigger(d.Private.EndStart,{toTime:r._lastSeekTime}),r._moving=!1)})),o.on(this._el,"click",(function(e){r._onMouseClick(e)})),this._player.on(d.Private.HideProgress,(function(e){r._hideProgress(e)})),this._player.on(d.Private.CancelHideProgress,(function(e){r._cancelHideProgress(e)})),this._player.on(d.Private.HideBar,(function(e){r._player._seeking=!1})),this._player.on(d.Video.LoadedMetadata,(function(){t._updateMaskNode()})),this._player.on(d.Private.UpdateWatchTime,(function(){t._updateMaskNode()})),o.on(i,d.Private.MouseOver,(function(e){r._onMouseOver(e)})),o.on(i,d.Private.MouseOut,(function(e){r._onMouseOut(e)})),o.on(this.controlNode,d.Private.MouseLeave,(function(e){r._offMouseUp()})),o.on(this.maskNodeLeft,"mouseenter",(function(){r._offMouseUp()})),o.on(this.maskNodeRight,"mouseenter",(function(){r._offMouseUp()})),a.IS_PC?(l=p((function(){n.addClass(i,"prism-progress-hover"),n.addClass(r.cursorNode,"cursor-hover")}),100),o.on(i,"mouseover",l),u=p((function(){n.removeClass(i,"prism-progress-hover"),n.removeClass(r.cursorNode,"cursor-hover"),r._progressDown=!1}),100),o.on(i,"mouseout",u)):(n.addClass(i,"prism-progress-hover"),n.addClass(i,"prism-progress-mobile"),n.addClass(r.cursorNode,"cursor-hover")),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(d.Player.TimeUpdate,this.bindTimeupdate),a.IS_IPAD?this.interval=setInterval((function(){r._onProgress()}),500):this._player.on(d.Video.Progress,(function(){r._onProgress()})),this._player.on(d.Private.UpdateProgress,(function(e){r._updateProgressBar(r.playedNode,e.paramData.targetTime)})),this._player.on(d.Private.UpdateCursorPosition,(function(e){r._updateCursorPosition(e.paramData.targetTime)}))},_progressMove:function(e){e.preventDefault();var t,r,i=this._getSeconds(e);i!=1/0&&(t=u.formatTime(i),r=this._getDistance(e),this.cursorNode)&&(this._player.trigger(d.Private.ThumbnailShow,{time:i,formatTime:t,left:r,progressWidth:this.el().offsetWidth}),this._autoHideThumbnail(),this._progressDown)&&this._onMouseMove(e)},_hideProgress:function(e){o.off(this.cursorNode,"mousedown"),o.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(e){var t=this;o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)}))},_canSeekable:function(e){var t=!0;return"function"==typeof this._player.canSeekable?this._player.canSeekable(e):t},_onMouseOver:function(e){this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseInProgress||this._updateCursorPosition(this._player.getCurrentTime()),this._mouseInProgress=!0},_onMouseOut:function(e){var t=this;this._cursorHideHandler&&clearTimeout(this._cursorHideHandler),this._cursorHideHandler=setTimeout((function(){t._player.trigger(d.Private.ThumbnailHide),t._mouseInProgress=!1}))},_getSeconds:function(e){e=this._getDistance(e);var t=this.el().offsetWidth;e=this._player.getDuration()?e/t*this._player.getDuration():0;return(e=e<0?0:e)>this._player.getDuration()?this._player.getDuration():e},_getDistance:function(e){if(e.touches&&e.touches[0]){for(var t=this.el().offsetLeft,r=this.el();r.offsetParent;){r=r.offsetParent;var i=n.getTranslateX(r);t+=r.offsetLeft+i}r.tagName&&"body"===r.tagName.toLowerCase()&&(t+=document.getElementsByTagName("html")[0].offsetLeft);var o=(e.touches?e.touches[0]:e).pageX-t;return o<0?0:o}return o=e.offsetX,e.target===this.cursorNode||e.target.offsetParent===this.cursorNode?o+=this.cursorNode.offsetLeft:e.target!==this._el&&e.target.offsetParent!==this._el&&e.target.offsetParent===this.markerNode&&(o+=e.target.offsetLeft),o},_onMouseClick:function(e){var t=this,r=t._getSeconds(e);t._canSeekable(r)?t._player._canSeek(r+t._posOffset)&&(t._player.exceedPreviewTime(r)&&(r=t._player.getPreviewTime()),this._seekTime=r,t._updateProgressBar(this.playedNode,r),t._updateCursorPosition(r),this._mouseClickTimeHandle&&clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=setTimeout((function(){t._player._seeking=!0,t._mouseDown&&!a.IS_MOBILE||(t._player.trigger(d.Private.SeekStart,{fromTime:t._player.getCurrentTime()}),t._player.trigger(d.Private.EndStart,{toTime:r})),t._player.seek(r),t._mouseDown=!1,t._mouseClickTimeHandle=null,t._inWaitingSeek=!1}),0),this._inWaitingSeek=!0):t._player.trigger(d.Private.Info_Show,{text:l.get("Can_Not_Seekable"),duration:2e3})},_onMouseDown:function(e){var t=this;e.preventDefault(),this._mouseDown=!0,a.IS_PC&&this._player.trigger(d.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),o.on(this.controlNode,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"mouseup",(function(e){t._onControlBarMouseUp(e)})),o.on(this.controlNode,"touchend",(function(e){t._onControlBarMouseUp(e)})),e=t._getSeconds(e);t._canSeekable(e)?t._player.exceedPreviewTime(e)&&t._player.getPreviewTime():t._player.trigger(d.Private.Info_Show,{text:l.get("Can_Not_Seekable"),duration:2e3})},_onMouseUp:function(e){this._onMouseUpIntern(e)},_onControlBarMouseUp:function(e){this._onMouseUpIntern(e)},_onPlayerMouseUp:function(e){this._onMouseUpIntern(e)},_offMouseUp:function(){o.off(this.controlNode,"mousemove"),o.off(this.controlNode,"touchmove"),o.off(this.controlNode,"mouseup"),o.off(this.controlNode,"touchend")},_onMouseUpIntern:function(e){e.preventDefault(),this._offMouseUp(),e=this._getDistance(e)/this.el().offsetWidth*this._player.getDuration(),this._player.getDuration(),isNaN(e)||this._player.seek(e),a.IS_PC&&this._player.trigger(d.Private.EndStart,{toTime:e}),this._autoHideThumbnail()},_onMouseMove:function(e){e.preventDefault(),!this._moving&&a.IS_MOBILE&&(this._player.trigger(d.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),this._moving=!0),e=this._getSeconds(e),this._player.exceedPreviewTime(e)&&(e=this._player.getPreviewTime()),this._player.seek(e),this._updateProgressBar(this.playedNode,e),this._updateCursorPosition(e),this._lastSeekTime=e},_onTimeupdate:function(e){var t=this._player._options.source,r=(t=this._getUrlSuffix(t),!1);"mp4"===t&&(a.IS_MAC_SAFARI&&(r=!0),a.IS_IOS&&(r=!0),a.IS_IE11)&&(r=!0),"m3u8"===t&&a.IS_IE11&&(r=!0),"audio"==this._player._options.mediaType&&a.IS_IOS&&(this._player._seeking=!1),(this._inWaitingSeek||this._progressDown)&&!r||(this._updateProgressBar(this.playedNode,this._player.getCurrentTime()),this._updateCursorPosition(this._player.getCurrentTime()),this._player.trigger(d.Private.UpdateProgressBar,{time:this._player.getCurrentTime()}))},_onProgress:function(e){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(e,t){var r=this._player.getDuration();1!=this._player._switchSourcing&&r&&(-1!=this._seekTime&&(this._player.getCurrentTime()>=this._seekTime||!this._player._seeking?this._seekTime=-1:t=this._seekTime),1<(t/=r)&&(t=1),e)&&n.css(e,"width",100*t+"%")},_updateCursorPosition:function(e){var t,r,i,o=this._player.getDuration();1!=this._player._switchSourcing&&o&&(t=1,r=(this.cursorNode.offsetWidth||16)/2/(i=this._player.el().clientWidth),0!=i&&(t=1-r),i=(i=e/o-r)<0?0:i,this.cursorNode)&&(t<i?(n.css(this.cursorNode,"right","0px"),n.css(this.cursorNode,"left","auto")):(n.css(this.cursorNode,"right","auto"),n.css(this.cursorNode,"left",100*i+"%")))},_getUrlSuffix:function(e){return e&&"string"==typeof e?((e=(e.split("?")[0]||"").split("."))[e.length-1]||"").toLowerCase():""},_autoHideThumbnail:function(){var e=this;a.IS_MOBILE&&(this._thumbnailHideTimer&&clearTimeout(this._thumbnailHideTimer),this._thumbnailHideTimer=setTimeout((function(){e._moving||e._player.trigger(d.Private.ThumbnailHide)}),2e3))},_makeUninteractible:function(e){["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(t){o.on(e,t,(function(e){e.stopPropagation()}))}))},_updateMaskNode:function(){var e,t=this._player._getSubVideoConfig();t.start||t.end?(n.css(this.maskNodeLeft,"width","0px"),n.css(this.maskNodeRight,"width","0px")):((t=this._player._getWatchTimeConfig()).watchStartTime&&t.watchEndTime?(e=100*Math.min(t.watchStartTime/this._player.getDuration(),1)+"%",n.css(this.maskNodeLeft,"width",e)):n.css(this.maskNodeLeft,"width","0px"),t.watchEndTime?(e=100*(1-Math.min(t.watchEndTime/this._player.getDuration(),1))+"%",n.css(this.maskNodeRight,"width",e)):n.css(this.maskNodeRight,"width","0px"),this._makeUninteractible(this.maskNodeLeft),this._makeUninteractible(this.maskNodeRight))},disposeUI:function(){this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this.cursorNodeHandler&&(clearTimeout(this.cursorNodeHandler),this.cursorNodeHandler=null),this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseClickTimeHandle&&(clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=null),this.interval&&(clearInterval(this.interval),this.interval=null)}});t.exports=e},{"../../config":15,"../../lang/index":24,"../../lib/constants":29,"../../lib/dom":33,"../../lib/event":34,"../../lib/function":36,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":68,"../component":132,"./util":162}],146:[function(e,t,r){var i=e("../component"),n=(e("../../lib/util"),e("../../lib/dom")),o=e("../../lib/event"),a=e("../../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-marker-text")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML="<p></p>",e},bindEvent:function(){var e=this;e._player.on(a.Private.MarkerTextShow,(function(t){var r=t.paramData,i=a.Player.MarkerDotOver;e._player.trigger(i,t.paramData),r.progressMarker.isCustomized?e._player.trigger(a.Private.LifeCycleChanged,{type:i,data:t.paramData}):(e._thumbnailShowHanlde&&(n.css(e.el(),"display","none"),clearTimeout(e._thumbnailShowHanlde)),e._thumbnailShowHanlde=setTimeout((function(){var t;document.querySelector("#"+e.id()+" p").innerText=r.progressMarker.text||"",r&&(n.css(e.el(),"display","block"),t=e._player.el().offsetWidth,left=t*r.left,width=e.el().offsetWidth,left+width>t?(n.css(e.el(),"right","0px"),n.css(e.el(),"left","auto")):(left=(left-=width/2)<0?0:left,n.css(e.el(),"right","auto"),n.css(e.el(),"left",left+"px")))}),30))})),e._player.on(a.Private.MarkerTextHide,(function(t){e._player.trigger(a.Player.MarkerDotOut),e._player.trigger(a.Private.LifeCycleChanged,{type:a.Player.MarkerDotOut,data:""}),e._thumbnailShowHanlde&&clearTimeout(e._thumbnailShowHanlde),n.css(e.el(),"display","none")})),o.on(e._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e._player.trigger(a.Private.MarkerTextHide)})),o.on(e._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e._player.trigger(a.Private.MarkerTextHide)}))},disposeUI:function(){this._thumbnailShowHanlde&&(clearTimeout(this._thumbnailShowHanlde),this._thumbnailShowHanlde=null)}});t.exports=e},{"../../lib/dom":33,"../../lib/event":34,"../../lib/util":51,"../../player/base/event/eventtype":68,"../component":132}],147:[function(e,t,r){var i=e("./selector"),n=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie"),e("../../../lib/dom")),a=(e("../../../lib/event"),e("./util"),e("../../../lang/index")),s=e("../../../player/base/event/eventtype");e=i.extend({init:function(e,t){this.Name=a.get("AudioTrack"),this.Type="audio",this.Tooltip=a.get("AudioTrack_Switch_To"),i.call(this,e,t)},bindEvent:function(){this.bindCommonEvent();var e=this,t=document.querySelector("#"+e.id()+" .selector-list");document.querySelector("#"+e.id()+" .header"),e._player.on(s.Private.ChangeURL,(function(){e._hasGeneratedList=!1})),this._player.on(s.Player.AudioTrackSwitch,(function(){o.addClass(t,"disabled")})),this._player.on(s.Player.AudioTrackSwitched,(function(){o.removeClass(t,"disabled")})),e._player.on(s.Player.AudioTrackReady,(function(r){!e._hasGeneratedList&&(e._clear(),r=r.paramData)&&(n.each(r,(function(r,i){var n=o.createEl.call(e,"li",{key:r.value,text:r.text}),a=o.createEl.call(e,"span",{key:r.value,text:r.text});a.innerText=r.text,n.appendChild(a),t.appendChild(n)})),e._hasGeneratedList=!0)}))},execute:function(e){this._player._audioTrackService.switch(e)}});t.exports=e},{"../../../lang/index":24,"../../../lib/cookie":30,"../../../lib/dom":33,"../../../lib/event":34,"../../../lib/object":43,"../../../lib/util":51,"../../../player/base/event/eventtype":68,"./selector":153,"./util":155}],148:[function(e,t,r){var i=e("../../component"),n=(e("../../../lib/dom"),e("../../../player/base/event/eventtype")),o=e("./list"),a=e("../../../lang/index"),s=e("../util");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass(t.className||"prism-setting-btn"),this._settingList=new o(e,t),e.addChild(this._settingList,t)},createEl:function(){return i.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this;this.on("click",(function(){e._settingList.isOpened?e._player.trigger(n.Private.SettingListHide):e._player.trigger(n.Private.SettingListShow),e._player.trigger(n.Private.SelectorHide),e._player.trigger(n.Private.MarkerTextHide),e._player.trigger(n.Private.VolumeVisibilityChange,"")})),s.registerTooltipEvent.call(this,this.el(),a.get("Setting"))}});t.exports=e},{"../../../lang/index":24,"../../../lib/dom":33,"../../../player/base/event/eventtype":68,"../../component":132,"../util":162,"./list":151}],149:[function(e,t,r){var i=e("./selector"),n=e("../../../lib/object"),o=e("../../../lib/dom"),a=(e("../../../lib/event"),e("./util"),e("../../../lib/cookie")),s=e("../../../lib/constants"),l=e("../../../lang/index"),c=e("../../../player/base/event/eventtype");e=i.extend({init:function(e,t){this.Name=l.get("Subtitle"),this.Type="cc",this.Tooltip=l.get("CC_Switch_To"),i.call(this,e,t)},bindEvent:function(){this.bindCommonEvent();var e=this;this._player.on(c.Private.CCStateChanged,(function(t){var r=t.paramData.value;t=t.paramData.lang,"on"==r&&t?e._backCCText=t:"off"==r&&""==e._backCCText&&(e._backCCText=e._previousSelection.text),t="Off";"on"==r&&(t=e._backCCText),e._player.trigger(c.Private.SelectorUpdateList,{type:"cc",text:t})}))},generateList:function(e){var t=document.querySelector("#"+this.id()+" .selector-list"),r=this._player._ccService.tracks,i=this;n.each(r,(function(r,n){var a=o.createEl.call(this,"li",{key:r.value,text:r.text}),s=o.createEl.call(this,"span",{key:r.value,text:r.text});r.text==e&&(o.addClass(a,"current"),i._previousSelection=a),s.innerText=r.text,a.appendChild(s),t.appendChild(a)}))},execute:function(e){this._backCCText="",a.set(s.SelectedCC,e,365),this._player._ccService.switch(e)}});t.exports=e},{"../../../lang/index":24,"../../../lib/constants":29,"../../../lib/cookie":30,"../../../lib/dom":33,"../../../lib/event":34,"../../../lib/object":43,"../../../player/base/event/eventtype":68,"./selector":153,"./util":155}],150:[function(e,t,r){t.exports={CC:e("./cc"),Speed:e("./speed"),Quality:e("./quality"),Audio:e("./audio")}},{"./audio":147,"./cc":149,"./quality":152,"./speed":154}],151:[function(e,t,r){var i=e("../../component"),n=e("../../../lib/dom"),o=e("../../../lib/ua"),a=e("../../../lib/event"),s=e("../../../player/base/event/eventtype"),l=e("./export"),c=e("./util"),u=e("../../../lang/index");e=i.extend({init:function(e,t){for(var r in this.isOpened=!1,i.call(this,e,t),this.addClass(t.className||"prism-setting-list"),l)r=new l[r](e,t),e.addChild(r,t)},createEl:function(){var e=i.prototype.createEl.call(this,"div"),t="<div class='prism-setting-item prism-setting-{type}' type={type}><div class='setting-content'><span class='setting-title'>{value}</span><span class='array'></span><span class='current-setting'></span></div></div>",r=t.replace(/{type}/g,"speed").replace("{value}",u.get("Speed")),n=t.replace(/{type}/g,"cc").replace("{value}",u.get("Subtitle")),o=t.replace(/{type}/g,"audio").replace("{value}",u.get("AudioTrack"));t=t.replace(/{type}/g,"quality").replace("{value}",u.get("Quality"));return e.innerHTML=r+n+o+t,e},bindEvent:function(){function e(){r._player.trigger(s.Private.SettingListHide),r.isOpened=!1}function t(e){e&&e.type&&(document.querySelector("#"+r.id()+" .prism-setting-"+e.type+" .current-setting").innerText=e.text||"")}var r=this,i=(this._player.on(s.Private.SettingListShow,(function(e){r.isOpened=!0,e=e.paramData,t(e),n.css(r.el(),"display","block")})),this._player.on(s.Private.UpdateToSettingList,(function(e){e=e.paramData,t(e)})),this._player.on(s.Private.SelectorUpdateList,(function(e){e=e.paramData,t(e),r._player.trigger(s.Private.SelectorValueChange,e)})),this._player.on(s.Private.SettingListHide,(function(){r.isOpened=!1,n.css(r.el(),"display","none")})),a.on(this.el(),"click",(function(e){r._player.trigger(s.Private.SettingListHide);e=e.srcElement||e.target;(e=c.findItemElementForList(e))&&(e=e.getAttribute("type"),r._player.trigger(s.Private.SelectorShow,{type:e}))})),o.IS_MOBILE?"touchleave":"mouseleave");a.on(this.el(),i,(function(){e()})),a.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e()})),a.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e()})),this._player.on(s.Private.QualityChange,(function(e){var t,i;e=e.paramData;e.levelSwitch&&(t=document.querySelector("#"+r.id()+" .prism-setting-quality .current-setting"),i=u.get("Auto"),e=e.desc,-1<t.innerText.indexOf(i))&&(e&&-1<String(e).indexOf("(")?i=i+"-"+e:i+=e?"("+e+")":"",t.innerText=i)}))}});t.exports=e},{"../../../lang/index":24,"../../../lib/dom":33,"../../../lib/event":34,"../../../lib/ua":49,"../../../player/base/event/eventtype":68,"../../component":132,"./export":150,"./util":155}],152:[function(e,t,r){var i=e("./selector"),n=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie")),a=e("../../../lib/dom"),s=(e("../../../lib/event"),e("../../../lib/constants")),l=e("../../../lang/index"),c=e("../../../player/base/event/eventtype");e=i.extend({init:function(e,t){this.Name=l.get("Quality"),this.Type="quality",this.Tooltip=l.get("Quality_Switch_To"),i.call(this,e,t),this._isMasterLevel=!1},showTip:function(e,t){this._player.trigger(c.Private.Info_Show,{text:e,duration:t,align:"lb"})},bindEvent:function(){this.bindCommonEvent();var e=this,t=(this._player.on(c.Private.QualityChange,(function(t){var r,i,n=0<e._player._urls.length?e._player._urls:e._player._qualityService.levels;(data=t.paramData).levelSwitch?(r=data.desc||data.bitrate,e._autoSWitchDesc=r,e._updateText(r)):0<e._player._currentPlayIndex&&(e._autoSWitchDesc="",i=n[(r=e._player._currentPlayIndex)-1].desc,n=n[r].desc,e.showTip(i+t.paramData+n,1e3),e._player.trigger(c.Private.SelectorValueChange,{type:e.Type,text:n}))})),document.querySelector("#"+e.id()+" .selector-list"));this._player.on(c.Player.LevelSwitch,(function(){a.addClass(t,"disabled")})),this._player.on(c.Player.LevelSwitched,(function(){a.removeClass(t,"disabled")}))},generateList:function(e){var t,r=this._player._urls,i=this._player._currentPlayIndex,o=this._player._qualityService.levels,s=(0<o.length&&(this._isMasterLevel=!0,this._player._options.isVBR)&&(i=(r=o).length-1),document.querySelector("#"+this.id()+" .selector-list"));0<r.length&&(t=this,n.each(r,(function(e,r){var n,o;(e.desc||e.bitrate)&&(n=a.createEl.call(this,"li",{key:e.Url,index:r,text:e.desc||e.bitrate}),o=a.createEl.call(this,"span",{key:e.Url,index:r,text:e.desc||e.bitrate}),r==i&&(a.addClass(n,"current"),t._previousSelection=n),o.innerText=e.desc||e.bitrate,n.appendChild(o),s.appendChild(n))}))),this._autoSWitchDesc&&this._updateText(this._autoSWitchDesc)},execute:function(e){if(this._player._switchSourcing=!0,this._isMasterLevel){for(var t,r=this._player._qualityService.levels,i=0;i<r.length;i++)r[i].Url==e&&r[i].desc!=l.get("Auto")&&(t=r[i],this._resetAutoText());this._player._switchLevel?this._player._switchLevel(e,t):(n=this._player.autoplay||"pause"!=this._player._status,this._player._loadByUrlInner(e,this._player.getCurrentTime(),n))}else{var n,a=this._player._urls.length,c=this._player._currentPlayIndex,u=-1;for(i=0;i<a;i++)if(this._player._urls[i].Url==e){u=this._player._currentPlayIndex=i,o.set(s.SelectedStreamLevel,this._player._urls[i].definition,365);break}c!=u&&-1<u&&(c=this._player.getCurrentTime(),n=this._player.autoplay||"pause"!=this._player._status,this._player.autoplay||0!=c||(n=!1),this._player._switchLevel&&!this._player._options.isLive&&this._player._options.isVBR?this._player._switchLevel(e):this._player._loadByUrlInner(e,c,n))}var d=this;setTimeout((function(){d._player._switchSourcing=!1}))},_updateText:function(e){var t=document.querySelector("#"+this.id()+" .selector-list .current"),r=document.querySelector("#"+this.id()+" .selector-list .current span"),i=l.get("Auto");r&&r.innerText&&-1<r.innerText.indexOf(i)&&(e&&-1<String(e).indexOf("(")?i=i+"-"+e:i+=e?"("+e+")":"",r.innerText=i,t)&&(t.text=i)},_resetAutoText:function(){for(var e=l.get("Auto"),t=document.querySelectorAll("#"+this.id()+" .selector-list li"),r=0;r<t.length;r++){var i=t[r],n=i.querySelector("span");if(-1<n.innerText.indexOf(e)){n.innerText=e,i.text=e;break}}}});t.exports=e},{"../../../lang/index":24,"../../../lib/constants":29,"../../../lib/cookie":30,"../../../lib/dom":33,"../../../lib/event":34,"../../../lib/object":43,"../../../lib/util":51,"../../../player/base/event/eventtype":68,"./selector":153}],153:[function(e,t,r){var i=e("../../component"),n=(e("../../../lib/object"),e("../../../lib/util"),e("../../../lib/ua")),o=(e("../../../lib/cookie"),e("../../../lib/dom")),a=e("../../../lib/event"),s=e("./util"),l=(e("../../../lang/index"),e("../../../player/base/event/eventtype"));e=i.extend({init:function(e,t){this._hasGeneratedList=!1,this._previousSelection=null,this._backupSelector="",i.call(this,e,t),this.className=t.className||"prism-"+this.Type+"-selector prism-setting-selector",this.addClass(this.className)},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='<div class="header"><div class="left-array"></div><span>'+this.Name+'</span></div><ul class="selector-list"></ul>',e},bindEvent:function(){this.bindCommonEvent()},bindCommonEvent:function(){var e=this,t=document.querySelector("#"+e.id()+" .selector-list"),r=document.querySelector("#"+e.id()+" .header");function i(){e._hasGeneratedList||(e._clear(),e.generateList(e._backupSelector),e._backupSelector="",e._hasGeneratedList=!0)}this._player.on(l.Private.ChangeURL,(function(){e._hasGeneratedList=!1})),a.on(r,"click",(function(){e._player.trigger(l.Private.SelectorHide),e._player.trigger(l.Private.SettingListShow,{type:e.Type,text:e._previousSelection?e._previousSelection.text:""})})),a.on(t,"click",(function(t){t=t.srcElement||t.target;var r=t.key,i=t.text;e._player.traceLog("selector.js","selector::click#"+e.Name+"#"+e.Type+"#"+i+"#"+r),e._player.trigger(l.Player.SettingSelected,{name:e.Name,type:e.Type,text:i,key:r}),void 0!==i&&(e._previousSelection&&o.removeClass(e._previousSelection,"current"),e._previousSelection=s.findliElementForSelector(t),o.addClass(e._previousSelection,"current"),e.execute&&e.execute(r),t=e.Tooltip+"<span>"+i+"</span>",e._player.trigger(l.Private.Info_Show,{text:t,duration:3e3,align:"lb"}))})),e._player.on(l.Private.SelectorHide,(function(){c()})),e._player.on(l.Private.SelectorValueChange,(function(t){var r=t.paramData;if(r&&r.type==e.Type){var i=document.querySelectorAll("#"+e.id()+" .selector-list li");if(i){for(var n=i.length,a=(0==n&&(e._backupSelector=r.text),-1),s=0;s<n;s++)if(i[s].text==r.text){a=s;break}e._previousSelection&&(o.removeClass(e._previousSelection,"current"),e._previousSelection=null),-1!==a?(o.addClass(i[a],"current"),e._previousSelection=i[a]):e._previousSelection||console.warn("UI Not Sync: No Such Option '"+r.text+"' in '"+r.type+"'")}}})),e._player.on(l.Private.SettingListShow,(function(){i()})),e._player.on(l.Private.SelectorGenerateList,(function(t){var r=t.paramData&&t.paramData.type;t=t.paramData&&t.paramData.value;r===e.Type&&(e._hasGeneratedList=!1,t&&(e._backupSelector=t),i())})),e._player.on(l.Private.SelectorShow,(function(t){(t=t.paramData).type==e.Type&&(t=document.querySelector("#"+e._player.id()+" .prism-"+t.type+"-selector"),e._hasGeneratedList||i(),o.css(t,"display","block"))}));var c=function(){o.css(e.el(),"display","none"),e._player.trigger(l.Private.UpdateToSettingList,{type:e.Type,text:e._previousSelection?e._previousSelection.text:""})};r=n.IS_MOBILE?"touchleave":"mouseleave";a.on(this.el(),r,(function(){c()})),a.on(this._player.tag,"click",(function(e){e&&e.target==e.currentTarget&&c()})),a.on(this._player.tag,"touchstart",(function(e){e&&e.target==e.currentTarget&&c()}))},setSelected:function(e){},generateList:function(){},_clear:function(){document.querySelector("#"+this.id()+" .selector-list").innerHTML=""}});t.exports=e},{"../../../lang/index":24,"../../../lib/cookie":30,"../../../lib/dom":33,"../../../lib/event":34,"../../../lib/object":43,"../../../lib/ua":49,"../../../lib/util":51,"../../../player/base/event/eventtype":68,"../../component":132,"./util":155}],154:[function(e,t,r){var i=e("./selector"),n=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie"),e("../../../lib/dom")),a=(e("../../../lib/event"),e("./util"),e("../../../lib/constants")),s=e("../../../lang/index"),l=e("../../../player/base/event/eventtype");e=i.extend({init:function(e,t){var r=this;this.Name=s.get("Speed"),this.Type="speed",this.Tooltip=s.get("Speed_Switch_To"),this.speedPreStore=1,this.listGenerated=!1,i.call(this,e,t),this._player.on(l.Private.PlaybackRateChanged,(function(e){r.speedPreStore=e.paramData,r.listGenerated&&r._player.trigger(l.Private.SelectorUpdateList,{type:"speed",text:e.paramData})}))},generateList:function(){var e=document.querySelector("#"+this.id()+" .selector-list"),t=this._player._options.speedLevels,r=(t=this.verifySpeedLevels(t)?t:a.SpeedLevels,this);n.each(t,(function(t,i){var n=o.createEl.call(this,"li",{key:t.key,text:t.text}),a=o.createEl.call(this,"span",{key:t.key,text:t.text});a.innerText=t.text,t.key==r.speedPreStore&&(o.addClass(n,"current"),r._previousSelection=n),n.appendChild(a),e.appendChild(n)})),this.listGenerated=!0},execute:function(e){this._player.setSpeed(e,!1)},verifySpeedLevels:function(e){var t=0;if(e&&e.length)try{e.forEach((function(e){"number"==typeof e.key&&e.key==e.key&&0<=e.key&&t++}))}catch(e){return!1}return e&&t===e.length}});t.exports=e},{"../../../lang/index":24,"../../../lib/constants":29,"../../../lib/cookie":30,"../../../lib/dom":33,"../../../lib/event":34,"../../../lib/object":43,"../../../lib/util":51,"../../../player/base/event/eventtype":68,"./selector":153,"./util":155}],155:[function(e,t,r){t.exports.findliElementForSelector=function(e){var t;return e&&"li"!=e.tagName.toLowerCase()?(t=e.parentElement)&&"li"==t.tagName.toLowerCase()?t:null:e},t.exports.findliElementByKey=function(e,t){return document.querySelectors(e),null},t.exports.findItemElementForList=function(e){var r;return!e||-1<e.className.indexOf("prism-setting-item")||(r=e.parentElement)&&(e=t.exports.findItemElementForList(r)),e}},{}],156:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../lang/index"),a=e("../../player/base/event/eventtype"),s=e("./util");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-snapshot-btn")},createEl:function(){return i.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this,t=this._player;t.on(a.Private.Snapshot_Hide,(function(){n.css(e._el,"display","none")})),s.registerTooltipEvent.call(this,this.el(),o.get("Snapshot")),this.on("click",(function(){e.trigger(a.Player.Snapshoting),e.trigger(a.Player.Snapshoted,t.takeSnapshot())}))}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../player/base/event/eventtype":68,"../component":132,"./util":162}],157:[function(e,t,r){var i=e("../component");e("../../lib/dom"),e("../../player/base/event/eventtype"),e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-text-overlay")},createEl:function(){return i.prototype.createEl.call(this,"div")},_hide:function(e){},_show:function(e){},bindEvent:function(){}});t.exports=e},{"../../lib/dom":33,"../../player/base/event/eventtype":68,"../component":132}],158:[function(e,t,r){var i=e("../component"),n=(e("../../lib/util"),e("../../lib/dom")),o=e("../../lib/event"),a=(e("../../lib/ua"),e("../../lang/index"),e("../../player/base/event/eventtype")),s=e("./util");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-thumbnail")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML="<img></img><span></span>",e},bindEvent:function(){var e=this,t=(o.on(this._el,"mousemove",(function(e){e.preventDefault()})),o.on(this._el,"touchmove",(function(e){e.preventDefault()})),e._player.on(a.Private.ThumbnailLoaded,(function(t){var r,i,o;t=t.paramData;t&&0<t.length&&(r=e._player._thumbnailService.makeUrl(t[0].text),e._player.log("THUMBNAILSTART",{tu:encodeURIComponent(r)}),i=(new Date).getTime(),t[0].isBig?(n.css(e.el(),"background","url("+r+")"),n.css(e.el(),"width",t[0].w+"px"),n.css(e.el(),"height",t[0].h+"px"),e._player.log("THUMBNAILCOMPLETE",{ftt:(new Date).getTime()-i})):((o=document.querySelector("#"+e.id()+" img")).onload=function(){var t=o.width,r=o.height;n.css(e.el(),"width",t+"px"),n.css(e.el(),"height",r+"px"),e._player.log("THUMBNAILCOMPLETE",{ftt:(new Date).getTime()-i})},o.src=r))})),s.throttle((function(t){t=t[0];var r,i,o,a=document.querySelector("#"+e.id()+" span");t=t.paramData;a.innerText=t.formatTime,t&&((r=e._player._thumbnailService.findAvailableCue(t.time))?r.isBig?(i=e._player._thumbnailService.makeUrl(r.text),n.css(e.el(),"background","url("+i+")"),r.w,r.h,o=-1*r.x+"px "+-1*r.y+"px",n.css(e.el(),"background-position",o)):(o=document.querySelector("#"+e.id()+" img"),i=e._player._thumbnailService.makeUrl(r.text),o.src!=i&&(o.src=i)):(n.css(e.el(),"border","none"),n.css(a,"left","0px")),n.css(e.el(),"display","block"),o=0,i=(r?e.el():a).offsetWidth,o=t.left+i>t.progressWidth?t.left-i:(o=t.left-i/2)<0?0:o,n.css(e.el(),"left",o+"px"))}),30));e._player.on(a.Private.ThumbnailShow,t),e._player.on(a.Private.ThumbnailHide,(function(t){n.css(e.el(),"display","none")}))},_createSamllThumbnail:function(){},disposeUI:function(){}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":68,"../component":132,"./util":162}],159:[function(e,t,r){var i=e("../component"),n=e("../../lib/util"),o=e("../../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-time-display")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="duration">00:00</span>',e},bindEvent:function(){var e=this;this._player.on(o.Video.DurationChange,(function(){var t=n.formatTime(e._player.getDisplayDuration());t?(document.querySelector("#"+e.id()+" .time-bound").style.display="inline",document.querySelector("#"+e.id()+" .duration").style.display="inline",document.querySelector("#"+e.id()+" .duration").innerText=t):(document.querySelector("#"+e.id()+" .duration").style.display="none",document.querySelector("#"+e.id()+" .time-bound").style.display="none")})),this._player.on(o.Video.TimeUpdate,(function(){var t=e._player.getCurrentTime();t=n.formatTime(t);document.querySelector("#"+e.id()+" .current-time")&&(t?(document.querySelector("#"+e.id()+" .current-time").style.display="inline",document.querySelector("#"+e.id()+" .current-time").innerText=t):document.querySelector("#"+e.id()+" .current-time").style.display="none")}))}});t.exports=e},{"../../lib/util":51,"../../player/base/event/eventtype":68,"../component":132}],160:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-tooltip")},createEl:function(){var e=i.prototype.createEl.call(this,"p");return e.innerText="提示信息",e},bindEvent:function(){var e=this;e._player.on(o.Private.TooltipShow,(function(t){var r=document.querySelector("#"+e.id()),i=(t=t.paramData,r.innerText=t.text,n.css(r,"display","block"),r.offsetWidth),o=document.querySelector("#"+e._player.id()+" .prism-controlbar");o&&(o=o.offsetWidth,t.left+i>o?n.css(r,"left",o-i+"px"):n.css(r,"left",t.left-(i-t.width)/2+"px"))})),e._player.on(o.Private.TooltipHide,(function(t){var r=document.querySelector("#"+e.id());n.css(r,"display","none")}))}});t.exports=e},{"../../lib/dom":33,"../../player/base/event/eventtype":68,"../component":132}],161:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../lang/index"),s=e("../../player/base/event/eventtype");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-unmute-btn")},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerText=a.get("Click_To_Unmute"),e},bindEvent:function(){var e=this;this._player.on(s.Private.MutedAutoplay,(function(){var t;null!=(t=e._player.getOptions().autoplayPolicy)&&t.showUnmuteBtn&&e._show()})),this._player.on(s.Private.HideUnmuteButton,(function(){e._hide()})),o.on(this.el(),"click",(function(){e._player.unMute(!0),e._hide()}))},_show:function(){n.css(this.el(),"display","block")},_hide:function(){n.css(this.el(),"display","none")}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../player/base/event/eventtype":68,"../component":132}],162:[function(e,t,r){var i=e("../../lib/event"),n=e("../../player/base/event/eventtype");t.exports.registerTooltipEvent=function(e,t){function r(){o._controlbarTooltipHandler&&(clearTimeout(o._controlbarTooltipHandler),o._controlbarTooltipHandler=null)}var o=this;i.on(this.el(),"mouseover",(function(e){r(),o._controlbarTooltipHandler=setTimeout((function(){o._player.trigger(n.Private.TooltipHide)}),4e3);var i=o.el().offsetLeft,a=o.el().offsetWidth,s=t;"function"==typeof t&&(s=t.call(this)),o._player.trigger(n.Private.TooltipShow,{left:i,width:a,text:s})})),i.on(this.el(),"mouseout",(function(){r(),o._player.trigger(n.Private.TooltipHide)}))},t.exports.throttle=function(e,t){var r=Date.now();return function(){var i=arguments,n=Date.now();t<=n-r&&(e(i),r=n)}},t.exports.debounce=function(e,t){var r;return function(){var i=this,n=arguments;clearTimeout(r),r=setTimeout((function(){e.apply(i,n)}),t)}}},{"../../lib/event":34,"../../player/base/event/eventtype":68}],163:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype"),s=e("./util"),l=e("../../lang/index"),c=e("./volumecontrol");e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-volume");var r=new c(e,t);e.addChild(r,t),this.volumeControl=r},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='<div class="volume-icon"><div class="short-horizontal"></div><div class="long-horizontal"></div></div>',e},bindEvent:function(){var e=this,t=e._player,r=(this.icon=document.querySelector("#"+e.id()+"  .volume-icon"),s.registerTooltipEvent.call(this,this.el(),(function(){return e._player.muted()||0==e._player.getVolume()?l.get("Muted"):l.get("Volume")})),o.on(this.icon,"click",(function(r){var i;e.volumeControl._shown?t.muted()?t.unMute():t.mute():(i=e.el().offsetLeft,e._player.trigger(a.Private.SettingListHide),e._player.trigger(a.Private.SelectorHide),e._player.trigger(a.Private.VolumeVisibilityChange,i),e._player.trigger(a.Private.MarkerTextHide))})),document.querySelector("#"+e.id()+"  .long-horizontal")),i=document.querySelector("#"+e.id()+"  .short-horizontal");o.on(this.el(),"mouseover",(function(){n.removeClass(r,"volume-hover-animation"),setTimeout((function(){n.addClass(r,"volume-hover-animation")})),setTimeout((function(){n.removeClass(r,"volume-hover-animation"),n.addClass(i,"volume-hover-animation"),setTimeout((function(){n.removeClass(i,"volume-hover-animation"),n.addClass(r,"volume-hover-animation")}),300)}),300)})),o.on(window,"resize",(function(){var t;e.volumeControl._shown&&(t=e.el().offsetLeft,e._player.trigger(a.Private.VolumeUpdatePosition,t))}))}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../player/base/event/eventtype":68,"../component":132,"./util":162,"./volumecontrol":164}],164:[function(e,t,r){var i=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype");e("./util"),e("../../lang/index"),e=i.extend({init:function(e,t){i.call(this,e,t),this.addClass("prism-volume-control"),this._shown=!1},createEl:function(){var e=i.prototype.createEl.call(this,"div");return e.innerHTML='<div class="volume-range"><div class="volume-value"></div><div class="volume-cursor"></div></div>',e},bindEvent:function(){var e=this;this.icon=document.querySelector("#"+e._player.id()+"  .volume-icon"),this.control=document.querySelector("#"+e.id()),this.volumnValue=document.querySelector("#"+e.id()+"  .volume-value"),this.volumnRange=document.querySelector("#"+e.id()+"  .volume-range"),this.volumnCursor=document.querySelector("#"+e.id()+"  .volume-cursor"),this._player.on(a.Private.VolumeVisibilityChange,(function(t){var r;t=t.paramData;!e._shown&&t?(r=e._player.getVolume(),e._setVolumnUI(r),n.css(e.control,"display","block"),t&&e._updatePosition(t),e._shown=!0):e._hide()})),this._player.on(a.Private.VolumeUpdatePosition,(function(t){t=t.paramData,e._shown&&e._updatePosition(t)})),this._player.on(a.Private.ControlBarClick,(function(t){n.hasClass(t.paramData.target,"prism-controlbar-bg")&&e._hide()})),o.on(this.volumnRange,"click",(function(t){t=n.getPointerPosition(e.volumnRange,t).y,t<0||1<t||(e._setVolumnUI(t=1<(t=t<0?0:t)?1:t),e._setMuteUI(t),e._player.setVolume(t))})),o.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e._hide()})),o.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e._hide()})),o.on(this.volumnCursor,"mousedown",(function(t){e._onMouseDown(t)})),o.on(this.volumnCursor,"touchstart",(function(t){e._onMouseDown(t)})),this._player.on(a.Private.VolumnChanged,(function(t){t=t.paramData,-1<t&&e._setVolumnUI(t),e._setMuteUI(t)})),o.on(this.control,"mouseleave",(function(){e._offEvent(),e._hide()})),o.on(this.control,"mouseover",(function(){n.addClass(e.control,"hover")})),e._rangeBottom=e._getBottom()},_getBottom:function(){var e;return window.getComputedStyle?(e=window.getComputedStyle(this.volumnRange,null).getPropertyValue("bottom"),parseFloat(e)):26},_onMouseDown:function(e){var t=this;e.preventDefault(),o.on(this.control,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.control,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this._player.tag,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this._player.tag,"touchend",(function(e){t._onMouseUp(e)})),o.on(this.control,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this.control,"touchend",(function(e){t._onMouseUp(e)}))},_onMouseUp:function(e){e.preventDefault(),this._offEvent(),this.volumnRange.offsetHeight&&(e=(this.volumnValue.offsetHeight/this.volumnRange.offsetHeight).toFixed(2),this._player.setVolume(e),this._setMuteUI(e))},_onMouseMove:function(e){e.preventDefault(),e=n.getPointerPosition(this.volumnRange,e).y,e<0||1<e||this._setVolumnUI(e=1<(e=e<0?0:e)?1:e)},_getPosition:function(e){for(var t=this.volumnRange,r=0;t=t.offsetParent;)r+=t.offsetTop;var i=this.volumnRange.offsetHeight,n=this.volumnCursor.offsetHeight,o=(e.touches?e.touches[0]:e).pageY;return(i-((o=i<o-r?e.clientY:o)-r)+n)/this.volumnRange.offsetHeight},_offEvent:function(){o.off(this._player.tag,"mouseup"),o.off(this._player.tag,"touchend"),o.off(this.control,"mousemove"),o.off(this.control,"touchmove"),o.off(this.control,"mouseup"),o.off(this.control,"touchend")},_setMuteUI:function(e){isNaN(e)||(0==e||-1==e?n.addClass(this.icon,"mute"):n.removeClass(this.icon,"mute"))},_setVolumnUI:function(e){isNaN(e)||(n.css(this.volumnValue,"height",100*e+"%"),n.css(this.volumnCursor,"bottom",100*(e=1==e?.99:e)+"%"))},_hide:function(){n.css(this.control,"display","none"),this._shown=!1},_updatePosition:function(e){n.css(this.control,"left",e-5+"px")}});t.exports=e},{"../../lang/index":24,"../../lib/dom":33,"../../lib/event":34,"../../player/base/event/eventtype":68,"../component":132,"./util":162}],165:[function(e,t,r){t.exports={H5Loading:e("./component/h5-loading"),bigPlayButton:e("./component/big-play-button"),unmuteButton:e("./component/unmute-button"),controlBar:e("./component/controlbar"),progress:e("./component/progress"),playButton:e("./component/play-button"),liveDisplay:e("./component/live-display"),timeDisplay:e("./component/time-display"),fullScreenButton:e("./component/fullscreen-button"),volume:e("./component/volume"),snapshot:e("./component/snapshot"),errorDisplay:e("./component/error-display"),infoDisplay:e("./component/info-display"),liveShiftProgress:e("../commonui/liveshiftprogress"),liveShiftTimeDisplay:e("../commonui/livetimedisplay"),setting:e("./component/setting/button"),subtitle:e("./component/cc-button"),thumbnail:e("./component/thumbnail"),tooltip:e("./component/tooltip")}},{"../commonui/liveshiftprogress":13,"../commonui/livetimedisplay":14,"./component/big-play-button":133,"./component/cc-button":134,"./component/controlbar":135,"./component/error-display":138,"./component/fullscreen-button":139,"./component/h5-loading":140,"./component/info-display":141,"./component/live-display":142,"./component/play-button":143,"./component/progress":145,"./component/setting/button":148,"./component/snapshot":156,"./component/thumbnail":158,"./component/time-display":159,"./component/tooltip":160,"./component/unmute-button":161,"./component/volume":163}]},{},[16])(16)}))}).call(this,__webpack_require__("0ee4"))},7696:function(e,t,r){"use strict";var i=r("0ab2"),n=r.n(i);n.a},"79b7":function(e,t,r){r("f7a5"),r("bf0f"),r("08eb"),r("18f7"),r("5c47"),r("0506");var i=r("e476");e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"79d9":function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.title_view[data-v-7e96fd2a]{padding:%?10?% %?20?% %?0?%;height:%?92?%;position:relative}.title_view .title_icon[data-v-7e96fd2a]{width:%?44?%;height:%?44?%}.title_view .right_view[data-v-7e96fd2a]{height:%?102?%;color:#33b3dc}@media screen and (min-width:768px){.title_view[data-v-7e96fd2a]{padding:%?10?% %?20?% %?0?%;height:%?92?%;position:relative}.title_view .title_icon[data-v-7e96fd2a]{width:%?44?%;height:%?44?%}.title_view .right_view[data-v-7e96fd2a]{height:%?102?%;color:#33b3dc}}',""]),e.exports=t},"7d79":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAk1JREFUeAHtmkFuwjAQReM0ldgRkrDnDLCkByiCW8A92t6BZbvrll0reoHuCmdgTxJgh1Qad0ZKpEqA5BjHOO5EQgmO8cx//qMRURyHDiJABIgAESACRIAIaCbAOW+sk+RZc1gzwm02m846jr/gw6+dkas7gSRJ7n+ybAFxe7pjn4qnDQBYnoH4B9jyd7gOTiVzjTFPR9DdbhfEafrqcD7QEa9MjMoBbLfb7vfhMAPxnTKJ6ZpbaQmA5ccg/hMsb6R4hFyJA7DFgeWnGedjXTspG0c5AGxxcZLMIKGubFI6f6e0BNI0HeQtrhbiEbQSAGB5F1scWP7NpBYn4qSLS8DkFlc5ANNbnAgA6RKoQ4sTAXBUAqJ/UKDeRdY3fo60A4xXJpggARAEZe00coC1WysojBwgCMraaeQAa7dWUBg5QBCUtdPIAdZuraAwcoAgKGunkQOs3VpBYUxw3tE0fCQGT4WmcKNxdLPEQDuKpHMoEebsVOkSCMPwxfG8O8bY6uzqNbghDQC1tX1/cet5PYexjxpoPZniRQBwxWazmUZBMAQIT+CG2j0pvRgAQgDhWTsMH13GhnCd4lhdDiUACrFBEMxvXBdffVkWY6aflQJAsa1WaxWFYR9s8WK6eMxPOQBcFMpgDyUxgZKYwNc9jpl6VAKgEIutErpEH4CsijHTzpUCQLG+7y/zVjk3TTzmUzkADJK3ylHeKjMcM+XQAgDF/mmVI5NapTYAxY7XsVUWuSs945tk//ZlaaUkaTEiQASIABEgAkSACBABOQK/1oavhXGGGjYAAAAASUVORK5CYII="},"883d":function(e,t,r){r("7a76"),r("c9b5"),e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},8848:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("2634")),o=i(r("2fdc")),a=i(r("f9ea")),s={name:"u-rate",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{elId:uni.$u.guid(),elClass:uni.$u.guid(),rateBoxLeft:0,activeIndex:this.value,rateWidth:0,moving:!1}},watch:{value:function(e){this.activeIndex=e},activeIndex:"emitEvent"},methods:{init:function(){var e=this;uni.$u.sleep().then((function(){e.getRateItemRect(),e.getRateIconWrapRect()}))},getRateItemRect:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,uni.$u.sleep();case 2:e.$uGetRect("#"+e.elId).then((function(t){e.rateBoxLeft=t.left}));case 3:case"end":return t.stop()}}),t)})))()},getRateIconWrapRect:function(){var e=this;this.$uGetRect("."+this.elClass).then((function(t){e.rateWidth=t.width}))},touchMove:function(e){if(this.touchable){this.preventEvent(e);var t=e.changedTouches[0].pageX;this.getActiveIndex(t)}},touchEnd:function(e){if(this.touchable){this.preventEvent(e);var t=e.changedTouches[0].pageX;this.getActiveIndex(t)}},clickHandler:function(e,t){if("ios"!==uni.$u.os()||!this.moving){this.preventEvent(e);var r;r=e.changedTouches[0].pageX,this.getActiveIndex(r,!0)}},emitEvent:function(){this.$emit("change",this.activeIndex),this.$emit("input",this.activeIndex)},getActiveIndex:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.disabled&&!this.readonly){var i=this.rateWidth*this.count+this.rateBoxLeft;e=uni.$u.range(this.rateBoxLeft,i,e)-this.rateBoxLeft;var n,o=e;if(this.allowHalf){n=Math.floor(o/this.rateWidth);var a=o%this.rateWidth;a<=this.rateWidth/2&&a>0?n+=.5:a>this.rateWidth/2&&n++}else{n=Math.floor(o/this.rateWidth);var s=o%this.rateWidth;r?s>0&&n++:s>this.rateWidth/2&&n++}this.activeIndex=Math.min(n,this.count),this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),setTimeout((function(){t.moving=!0}),10),setTimeout((function(){t.moving=!1}),10)}}},mounted:function(){this.init()}};t.default=s},"889e":function(e,t,r){var i=r("59f0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("70a0ea3d",i,!0,{sourceMap:!1,shadowMode:!1})},8952:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,".open_view[data-v-596aa276]{background:#fff7f3}.tree_view[data-v-596aa276]{font-size:%?32?%}.c_F96661[data-v-596aa276]{color:#f96661}.bd[data-v-596aa276]{border:%?2?% solid #ffe6d9}.level_one[data-v-596aa276]{height:%?68?%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.level_two[data-v-596aa276]{margin-left:%?74?%;height:%?68?%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.up_icon[data-v-596aa276]{width:%?48?%;height:%?48?%}.level_three[data-v-596aa276]{margin-left:%?74?%;border-bottom:%?2?% solid #f1d3c3;display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:%?28?%}.time_progress[data-v-596aa276]{display:flex;flex-direction:row}.study_btn[data-v-596aa276]{\n\t  /* width: 100rpx; */height:%?50?%;background:linear-gradient(180deg,#f3916f,#ff7253);flex-shrink:0;padding:0 %?12?%}.center_view[data-v-596aa276]{display:flex;flex-direction:row;justify-content:flex-end}",""]),e.exports=t},"8abe":function(e,t,r){"use strict";r.r(t);var i=r("e8b89"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"8bcf":function(e,t,r){var i=r("bdbb")["default"],n=r("56c9");e.exports=function(e){var t=n(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"8cf5":function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-158e4676], uni-scroll-view[data-v-158e4676], uni-swiper-item[data-v-158e4676]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-notice-bar[data-v-158e4676]{overflow:hidden;padding:9px 12px;flex:1}',""]),e.exports=t},"92bc":function(e,t,r){"use strict";r.r(t);var i=r("a71a"),n=r("f376");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("661c");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"5575e50e",null,!1,i["a"],void 0);t["default"]=s.exports},9376:function(e,t,r){r("7a76"),r("c9b5"),e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},9502:function(e,t,r){"use strict";var i=r("8bdb"),n=r("ab4a"),o=r("64098"),a=r("7992"),s=r("1099"),l=r("d6b1");n&&i({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){l.f(s(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},"969c":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uRate:r("512e").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("v-uni-view",{staticClass:"comment_item pl22 pr26 mb24"},[r("v-uni-view",{staticClass:"user_icon"},[r("v-uni-image",{staticClass:"head_icon",attrs:{src:e.itemData.avatar,mode:"aspectFill"}})],1),r("v-uni-view",{staticClass:"flex1 right_view ml18",class:[e.showBorder?"border_view":""]},[r("v-uni-view",{staticClass:"dfsb mb16"},[r("v-uni-view",{staticClass:"flex1"},[r("v-uni-view",[r("v-uni-text",{staticClass:"c333 mb4"},[e._v(e._s(e.itemData.userName))])],1),r("v-uni-view",[r("v-uni-text",{staticClass:"time c999"},[e._v(e._s(e.itemData.createTime))])],1)],1),r("u-rate",{attrs:{value:e.itemData.commentStar,size:"12",readonly:!0,activeColor:"#E6311A"}})],1),r("v-uni-view",{staticClass:"des pb26"},[r("v-uni-text",{staticClass:"c333"},[e._v(e._s(e.itemData.commentDesc))])],1)],1)],1)],1)},o=[]},"99b1":function(e,t,r){"use strict";r.r(t);var i=r("eb43"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"99d6":function(e,t,r){"use strict";r.r(t);var i=r("a3a7"),n=r("4f54");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("7696");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"f3e3db3a",null,!1,i["a"],void 0);t["default"]=s.exports},"9e66":function(e,t,r){"use strict";r.r(t);var i=r("415a"),n=r("2ddf");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("d898");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"3bcf0d22",null,!1,i["a"],void 0);t["default"]=s.exports},a362:function(e,t,r){r("7a76"),r("c9b5");var i=r("bdbb")["default"],n=r("3a7e");e.exports=function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return n(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a3a7:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uIcon:r("99cf").default,uSticky:r("3377").default,uTabs:r("77df").default,uRate:r("512e").default,uLoadmore:r("7357").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"container"},[r("v-uni-view",{staticClass:"dfac back"},[r("v-uni-view",{staticClass:"back_view dfcen",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleBack.apply(void 0,arguments)}}},[r("u-icon",{attrs:{name:"arrow-left",size:"18",color:"#333333",bold:!0}})],1),r("v-uni-view",{staticClass:"flex1"},[r("v-uni-text",{staticClass:"fz26 fwb5"},[e._v(e._s(e.subCourseName))])],1)],1),r("v-uni-view",{staticClass:"content flex1"},[r("v-uni-view",{staticClass:"left"},[e.showPlay?r("aliplayer",{ref:"aliplayer",attrs:{playData:e.playData,title:e.pageData.courseName},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleStatusChange.apply(void 0,arguments)},edit:function(t){arguments[0]=t=e.$handleEvent(t),e.handleEditProgress.apply(void 0,arguments)},next:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePlayNext.apply(void 0,arguments)}}}):r("v-uni-view",{staticStyle:{width:"100%"}},[e.pageData.courseImgList.length?r("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:e.pageData.courseImgList[0].jumpPic,mode:"widthFix"}}):e._e()],1)],1),r("v-uni-view",{staticClass:"right"},[r("v-uni-scroll-view",{staticClass:"scroll_view",attrs:{"scroll-y":!0},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.handleLoadingMore.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"bgcfff course_view"},[r("v-uni-view",{staticClass:"pl12 pr12 pt16 pb16"},[r("v-uni-view",{staticClass:"text_line2 fwb5 mb20"},[r("v-uni-text",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.pageData.courseName))])],1),r("v-uni-view",{staticClass:"mb20"},[r("v-uni-text",{staticClass:"c999"},[e._v(e._s(e.pageData.courseDesc))])],1),r("v-uni-view",{staticClass:"course_time mb10"},[r("v-uni-text",{staticClass:"c666"},[e._v("课时："+e._s(e.pageData.courseKey))])],1),r("v-uni-view",[r("v-uni-text",{staticClass:"c666"},[e._v("有效期至 ："+e._s(e.pageData.validity_day))])],1)],1)],1),r("u-sticky",[r("v-uni-view",{staticClass:"dfcen bgcfff"},[r("u-tabs",{attrs:{list:e.tabs,lineColor:"#FE5858",lineWidth:"34",activeStyle:"color: #FE5858;",inactiveStyle:"color: #333333;",current:e.current},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleChange.apply(void 0,arguments)}}})],1)],1),r("v-uni-view",{staticClass:"pt12"},[0==e.currIndex?r("v-uni-view",{staticClass:"dfvcen bgcfff flex1"},e._l(e.pageData.courseDetailList,(function(e,t){return r("v-uni-image",{key:t,staticStyle:{width:"100%"},attrs:{src:e,mode:"widthFix"}})})),1):e._e(),1==e.currIndex?r("v-uni-view",{staticClass:"bgcfff flex1  pb18"},[r("courseTree",{attrs:{courseTree:e.classSchedule,playData:e.playData},on:{study:function(t){arguments[0]=t=e.$handleEvent(t),e.handleStudy.apply(void 0,arguments)},stop:function(t){arguments[0]=t=e.$handleEvent(t),e.handleStudyStop.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleEditData.apply(void 0,arguments)}}})],1):e._e(),2==e.currIndex?r("v-uni-view",{staticClass:"bgcfff flex1 pt10"},[r("v-uni-view",{staticClass:"ml10 mr10 dfsb rate_view bdra14 pl10 pr10"},[r("u-rate",{attrs:{value:e.comments.commentScore,size:e.isPad?40:20,activeColor:"#E6311A",readonly:!0}}),r("v-uni-view",{staticClass:"flex1 pl48"},[r("v-uni-text",{staticStyle:{color:"#B30000"}},[e._v(e._s(e.comments.commentScore)+"分")])],1),r("v-uni-view",{staticClass:"comment_view dfcen",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleToComment.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"cfff"},[e._v("我要评价")])],1)],1),e.comments&&e.comments.commentList.length?r("v-uni-view",[r("comment",{attrs:{comments:e.comments,urlParams:e.urlParams}}),e.listData.isLoad?r("v-uni-view",{staticClass:"loading_view"},[r("u-loadmore",{attrs:{status:e.listData.status}})],1):e._e()],1):r("v-uni-view",{staticClass:"dfcen pt30"},[r("v-uni-text",{staticClass:"c333",staticStyle:{"font-size":"28rpx"}},[e._v("暂无评论")])],1)],1):e._e(),3==e.currIndex?r("v-uni-view",{staticClass:"bgcfff flex1"},[e.resourceList.length?r("v-uni-view",[r("material",{attrs:{resourceList:e.resourceList}}),e.listData.isLoad?r("v-uni-view",{staticClass:"loading_view"},[r("u-loadmore",{attrs:{status:e.listData.status}})],1):e._e()],1):r("v-uni-view",{staticClass:"dfcen pt30"},[r("v-uni-text",{staticClass:"c333",staticStyle:{"font-size":"28rpx"}},[e._v("暂无资料")])],1)],1):e._e()],1),r("v-uni-view",{staticClass:"dfcen bottom_view"},[r("v-uni-view",{staticClass:"dfvcen like btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleCollect.apply(void 0,arguments)}}},[e.pageData.is_collect?r("v-uni-image",{staticClass:"act_btn mb4",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729675359823.png"}}):r("v-uni-image",{staticClass:"act_btn mb4",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729675357421.png"}}),r("v-uni-text",{staticClass:"c666"},[e._v("收藏")])],1),r("v-uni-view",{staticClass:"dfvcen btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleShowErrorCorrenction.apply(void 0,arguments)}}},[r("v-uni-image",{staticClass:"act_btn mb4",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729675361146.png"}}),r("v-uni-text",{staticClass:"c666"},[e._v("纠错")])],1)],1)],1)],1)],1),r("errorCorrection",{ref:"errorCorrection",attrs:{studyData:e.playData}})],1)},o=[]},a622:function(e,t,r){"use strict";var i=r("5a46"),n=r.n(i);n.a},a71a:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uPopup:r("91a5").default,uUpload:r("d6e7").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("u-popup",{attrs:{show:e.isShow,mode:"center",bgColor:"transparent"}},[r("v-uni-view",{staticClass:"popup_view bdra16 bgcfff"},[r("v-uni-view",[r("v-uni-text",{staticClass:"fwb5 mb14 c333",staticStyle:{"font-size":"28rpx"}},[e._v("题目反馈")])],1),r("v-uni-scroll-view",{staticClass:"content pt14",attrs:{"scroll-y":"true","show-scrollbar":!1}},[r("v-uni-view",{staticClass:"mb18 wrong_view"},e._l(e.errorCategory,(function(t,i){return r("v-uni-view",{key:i,staticClass:"dfcen f_item mr20 mb20 bdra8",class:{check:t.checked},on:{click:function(r){arguments[0]=r=e.$handleEvent(r),t.checked=!t.checked}}},[r("v-uni-text",{class:[t.checked?"cfff":"c666"],staticStyle:{"font-size":"28rpx"}},[e._v(e._s(t.wrongCategoryDesc))])],1)})),1),r("v-uni-view",{staticClass:"mb20"},[r("v-uni-text",{staticStyle:{color:"#F96863","font-size":"24rpx"}},[e._v("*上传问题描述图片，可以让老师更快的进行题目核查：")])],1),r("v-uni-view",{staticClass:"mb18"},[r("v-uni-text",{staticClass:"fwb5 c333",staticStyle:{"font-size":"24rpx"}},[e._v("上传问题")])],1),r("v-uni-view",[r("u-upload",{attrs:{fileList:e.form.wrongQ,maxCount:1,name:"wrongQ",capture:["album"]},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.handleAfterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.handleDeletePic.apply(void 0,arguments)}}})],1),r("v-uni-view",{staticClass:"mb18"},[r("v-uni-text",{staticClass:"fwb5 c333",staticStyle:{"font-size":"24rpx"}},[e._v("上传答案")])],1),r("v-uni-view",[r("u-upload",{attrs:{fileList:e.form.wrongA,maxCount:1,name:"wrongA",capture:["album"]},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.handleAfterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.handleDeletePic.apply(void 0,arguments)}}})],1),r("v-uni-view",{staticClass:"mb18"},[r("v-uni-text",{staticClass:"fwb5 c333",staticStyle:{"font-size":"24rpx"}},[e._v("补充说明")])],1),r("v-uni-textarea",{staticClass:"des_area bdra8",staticStyle:{"font-size":"24rpx"},attrs:{placeholder:"你的补充说明会帮助我们更有效、更准确的找到题目问题呦～","auto-height":!0},model:{value:e.form.wrongDesc,callback:function(t){e.$set(e.form,"wrongDesc",t)},expression:"form.wrongDesc"}})],1),r("v-uni-view",{staticClass:"pt36 btn_view"},[r("v-uni-view",{staticClass:"dfcen btn mr24",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isShow=!1}}},[r("v-uni-text",{staticClass:"fwb5 c333"},[e._v("取消")])],1),r("v-uni-view",{staticClass:"dfcen btn sub_btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSubmit.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"fwb5 cfff"},[e._v("提交")])],1)],1)],1)],1)],1)},o=[]},a7f2:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{titleInfo:{type:Object,default:function(){return{title:"精品班级课",rightTxt:"全部课程",icon:"https://videoapp.obs.myhuaweicloud.com/appImages/1728876056809.png"}}},wrapStyle:{type:String,default:""},itemData:{type:Object,default:function(){return null}}},data:function(){return{isPad:getApp().globalData.config.isPad}},methods:{handleToNext:function(){this.itemData?this.$redirectFn(this.itemData):this.$emit("rightLink")}}};t.default=i},ab7f:function(e,t,r){"use strict";var i=r("8bdb"),n=r("9f9e"),o=r("7992"),a=r("e7e3"),s=r("af9e"),l=!s((function(){Reflect.apply((function(){}))}));i({target:"Reflect",stat:!0,forced:l},{apply:function(e,t,r){return n(o(e),t,a(r))}})},b0dc:function(e,t,r){"use strict";var i=r("bb55"),n=r.n(i);n.a},b40b:function(e,t,r){"use strict";r.r(t);var i=r("cbde"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},b54d:function(e,t,r){"use strict";r.r(t);var i=r("553c"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},b5d5:function(e,t,r){"use strict";var i=r("3ab4"),n=r.n(i);n.a},b6d28:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAAHdbkFIAAAAAXNSR0IArs4c6QAAA/1JREFUeAHtWrtuFDEUTRBSKsoNP0GFSMN3kNR8B20QEh1/gbTU4SeQaKKlo6GDSCEFBQ8hOGfW17pzxx57NvYwrGxpYvs+zj33zOxkMpuDg+LjD4YGvSsb66CdtjsSYGc6DzF6dho5eka7SQbYhMJ71F9ZyE4HQ+yQe2kxqAOdJmmr2sBo6/2n+/7ZVk3ohkUy5fbLnoxMkuEj1AK+R+LHfKRc26Vy9pYS6IxHmE+4Fntwhv+UQRzBgGacUQGchMGHVJf3Ny5tlLU6hdErtnclqsSVShbz+MyE2GAmfE9wnLv1BuuuNU+NybES8mFyMVeIW4kt2EIMCPYPTMbxfBBD9NhgMHyk3bF0cc8GIC7Qf4hcYLQ1xnsNLJpU64LQsPXLPqqBE+lMAtvcFFiwArje1/qan4WqFGVhGdULo1DXqRS0syUA/wNr4x720d8QXY4Fz9nrYojXjyD6Hi5Qw8cSAyCB2bPOl7UhQqxB4ei9UEB2nVFsg9x3Lv+xm7/D3ikyikuqU4cFdPm9jmHjqbm2sdl7JH9xwIMpG6RUoCVTCncnHJLZKbElNQWaAk2BvVEAd8L1P2kGhbu/RDGP/gFVhRy7ZmEZVYqEQFHQdy3FOYdic2yTnohQh+d6/t98KBzsmp3LyOkWsfdz4roXuwKcO2tg5PxinrEdO6xLbZ90CnRiYv2NfiGB+Rjbzy7nk5vjk2M6abJoSP4aALiwccF9IDFpCgEh6UYlBosHX54wKQQ4ZpMXTxIDCC17Z7YxNFa5Bkzxt6hzw2LZjTFw6mABDuTdU7ledtj8NbGNHPmpALKXGg5JL3H44uKDjSQeyp5z8BrQAVwjiXe/lbXrfej8an9snXUNAJwX1FkMZFY71cAxGHOTmPRCtRo5yODVqFYkBQwSnRqpuOZvCjQFmgJNgaZAU6Ap0BRYqALuga57slwoxfK0dNNY+1G+0oIQ0SUf3f3fEL5rtVgQ3TJUcppW/U9+IVOGZWGUqU3vhQC3aTpXAFeDr16TX7sjhq9jNzgucYy+0sk6/wCZZYTIoDDftl0FCAyEQIw0bsNfhbCzbRat1n6MEGryfx78K0bF4RzrWOMX8PX+d2KsRtSnilVdRgkoBwjEhNDcyjQudTVyzbXUS83gwDP+McLlRSp/sj9SqLg5RQwFY5f6zwCZwT0ihR/1B8CrmGIERhr3lzpiYh+N2wtRpdsA6IgA/MpDD9+4zUGQFeIatt7XIpKT9fUIg1lZkmrOqa9ZQOMp6r9G3I8UD8SeIOY3Yt+nYov4UXCF4w2OnUcRIksAgQI7ibEE7sU5TBGjePGlATox1rHPyNL4VuUTEqNqwSWDixhL5ti4NQWaAk2BpsC+KfAXS1yUfN3MiJgAAAAASUVORK5CYII="},b7c7:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)||(0,n.default)(e)||(0,o.default)(e)||(0,a.default)()};var i=s(r("4733")),n=s(r("d14d")),o=s(r("5d6b")),a=s(r("30f7"));function s(e){return e&&e.__esModule?e:{default:e}}},b7d9:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.material[data-v-56f6ce02]{font-size:%?32?%}.material .item_view .icon[data-v-56f6ce02]{width:%?100?%;height:%?100?%;flex-shrink:0}.material .item_view .btn[data-v-56f6ce02]{width:%?120?%;height:%?40?%;background:#fff;border:%?2?% solid #f78564;border-radius:%?40?%;font-size:%?28?%}.material .item_view .btn .txt[data-v-56f6ce02]{color:#f78564}.material .item_view .btn .down[data-v-56f6ce02]{color:#fff}.material .item_view .r_btn[data-v-56f6ce02]{background:linear-gradient(180deg,#f3916f,#ff7253);color:#fff}@media screen and (min-width:768px){.material[data-v-56f6ce02]{font-size:%?32?%}.material .item_view .icon[data-v-56f6ce02]{width:%?100?%;height:%?100?%;flex-shrink:0}.material .item_view .btn[data-v-56f6ce02]{width:%?120?%;height:%?40?%;background:#fff;border:%?2?% solid #f78564;border-radius:%?40?%;font-size:%?28?%}.material .item_view .btn .txt[data-v-56f6ce02]{color:#f78564}.material .item_view .btn .down[data-v-56f6ce02]{color:#fff}.material .item_view .r_btn[data-v-56f6ce02]{background:linear-gradient(180deg,#f3916f,#ff7253);color:#fff}}',""]),e.exports=t},b966:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("b7c7")),o=i(r("9b1b"));r("bf0f"),r("2797"),r("aa9c"),r("c223");var a=i(r("68c0")),s=i(r("753d")),l=i(r("0a72")),c=r("7158"),u=r("46fc"),d=i(r("008d")),p=i(r("92bc")),h=i(r("9e66")),f=i(r("4d13")),g={components:{aliplayer:a.default,homeTabs:s.default,homeSwiperBanner:l.default,courseTree:d.default,errorCorrection:p.default,comment:h.default,material:f.default},data:function(){return{tabs:[{name:"课程详情"},{name:"课程表"},{name:"评论"},{name:"相关资料"}],currIndex:0,isCollect:!1,urlParams:{},pageData:null,classSchedule:[],comments:{},resourceList:[],subCourseName:"",playData:{},lock:!1,listData:{isLoad:!1,isEmpty:!1,pageNum:1,pageSize:15,status:"loadmore"},showPlay:!1,current:0}},onShow:function(){},onLoad:function(e){this.urlParams=e},mounted:function(){this.getCourseVideoDetail()},onUnload:function(){uni.$off("handlerefreshComment",this.handlerefreshComment)},methods:{handleStatusChange:function(e){this.playData=e},handleToComment:function(){uni.$u.route({url:"pages/study/comment",params:{courseId:this.urlParams.courseId}})},handleBack:function(){uni.navigateBack()},getCourseVideoDetail:function(){var e=this,t={courseId:this.urlParams.courseId};(0,c.getCourseVideoDetail)(t).then((function(t){e.pageData=t.data,e.subCourseName=e.pageData.courseName.length>=23?"".concat(e.pageData.courseName.substring(0,23),"..."):e.pageData.courseName})).catch((function(e){setTimeout((function(){uni.navigateBack()}),1500)}))},handlerefreshComment:function(){2==this.currIndex&&this.loadData("refresh")},handleChange:function(e){this.currIndex=e.index,1==this.currIndex&&0==this.classSchedule.length&&this.getCourseVideoCourse(),2==this.currIndex&&(this.loadData("refresh"),uni.$on("handlerefreshComment",this.handlerefreshComment)),3==this.currIndex&&this.loadData("refresh")},getCourseVideoCourse:function(){var e=this,t={courseId:this.urlParams.courseId};(0,c.getCourseVideoCourse)(t).then((function(t){e.classSchedule=t.data,e.classSchedule.forEach((function(t){e.$set(t,"open",!1),t.courseUnit.forEach((function(t){e.$set(t,"open",!1),t.courseUnitDetailList.forEach((function(t){e.$set(t,"open",!1),e.$set(t,"isPlay",!1)}))}))})),e.playData.playUrl||e.handleGetyytsdd()}))},handleEditProgress:function(e){this.classSchedule.forEach((function(t){t.courseUnit.forEach((function(t){t.courseUnitDetailList.forEach((function(t){t.playVid==e.playVid&&t.playUrl&&(t.progress=e.curProgress,t.progressName=Math.ceil(e.curProgress/(1e3*t.playTimeSecond)*100))}))}))}))},flattenVideos:function(e){var t=[];return this.classSchedule.forEach((function(e){e.courseUnit.forEach((function(r){r.courseUnitDetailList.forEach((function(i){t.push({video:i,unit:r,course:e})}))}))})),t},handlePlayNext:function(e){var t=this.autoPlayNext(e.unitDetailId);console.log("下一级数据",t),t?(this.handleAutoPlayNext(t),uni.showLoading({title:"视频加载中...",mask:!0})):uni.showToast({title:"最后一节已播放完成",icon:"none"})},autoPlayNext:function(e){for(var t=this.flattenVideos(),r=!1,i=0;i<t.length;i++){var n=t[i],o=n.video,a=n.unit,s=n.course;if(r)return o.open=!0,a.open=!0,s.open=!0,console.log("▶️ 正在播放:",{unitDetailId:o.unitDetailId,playUrl:o.playUrl,progressName:o.progressName}),o;o.unitDetailId===e&&(r=!0)}return console.log("✅ 所有视频已播放完成"),!1},handleEditData:function(e){this.classSchedule=e},handleGetyytsdd:function(){this.playData=this.handleFillterVid(this.classSchedule),console.log("默认",this.playData),this.$set(this.playData,"isPlay",!1),this.playData&&this.playData.playUrl&&(this.showPlay=!0,this.handleGetAuth())},handleStudy:function(e){this.playData.playVid!=e.playVid?(this.playData=e,this.handleGetAuth()):this.$refs.aliplayer.startPlayCurrent((0,o.default)({},this.playData))},handleAutoPlayNext:function(e){this.$refs.aliplayer.stopPlay(this.playData),this.playData=e,this.handleGetAuth(!0),setTimeout((function(){uni.hideLoading(),uni.showToast({title:"已为您自动播放下一节",icon:"none"})}),3e3)},handleStudyStop:function(e){this.$refs.aliplayer.stopPlay(this.playData)},handleGetAuth:function(e){var t=this;(0,c.getyytsdd)({unitDetailId:this.playData.unitDetailId,unitDetailType:1}).then((function(r){t.$set(t.playData,"playAuth",r.data.playAuth),t.$nextTick((function(){t.$refs.aliplayer.startPlay((0,o.default)((0,o.default)({},t.playData),{},{isAuto:e}))}))}))},handleFillterVid:function(e){for(var t=0;t<e.length;t++)for(var r=e[t],i=0;i<r.courseUnit.length;i++)for(var n=r.courseUnit[i],o=0;o<n.courseUnitDetailList.length;o++){var a=n.courseUnitDetailList[o];if(2===a.playState)return this.classSchedule[t].open=!0,this.classSchedule[t].courseUnit[i].open=!0,this.classSchedule[t].courseUnit[i].courseUnitDetailList[o].open=!0,a}for(var s=0;s<e.length;s++)for(var l=e[s],c=0;c<l.courseUnit.length;c++)for(var u=l.courseUnit[c],d=0;d<u.courseUnitDetailList.length;d++){var p=u.courseUnitDetailList[d];if(1===p.playState)return this.classSchedule[s].open=!0,this.classSchedule[s].courseUnit[c].open=!0,this.classSchedule[s].courseUnit[c].courseUnitDetailList[d].open=!0,p}return null},handleCollect:function(){var e=this;this.lock||(this.lock=!0,setTimeout((function(){e.lock=!1}),700),(0,u.collect)({is_collect:!this.pageData.is_collect,dataId:this.urlParams.courseId,dataType:3}).then((function(t){e.pageData.is_collect=!e.pageData.is_collect})))},handleShowErrorCorrenction:function(){this.playData.unitDetailId?this.$refs.errorCorrection.show():uni.showToast({title:"请先学习视频",icon:"none"})},handleLoadingMore:function(){2==this.currIndex&&(console.log("pl"),this.loadData(),uni.$on("handlerefreshComment",this.handlerefreshComment)),3==this.currIndex&&(console.log("fj"),this.loadData())},loadData:function(e,t){var r=this;if(this.listData.isLoad=!0,"refresh"==e)this.listData.pageNum=1;else if("nomore"==this.listData.status)return;this.listData.status="loading",this.handleGetDataList({isRefresh:"refresh"==e,pageNum:this.listData.pageNum,pageSize:this.listData.pageSize,extendParams:t,callback:function(t){var i=t.hasMore,n=void 0===i||i,o=t.isEmpty,a=void 0!==o&&o;"refresh"==e&&uni.stopPullDownRefresh(),r.listData.isEmpty=a,console.log(1111,n),n?(r.listData.pageNum++,r.listData.status="loadmore"):r.listData.status="nomore"}})},handleGetDataList:function(e){var t=this,r=e.isRefresh,i=e.pageNum,a=e.pageSize,s=e.extendParams,l=e.callback,u=(0,o.default)({pageNum:i,pageSize:a,courseId:this.urlParams.courseId},s);2==this.currIndex&&(0,c.getCourseVideoCommentList)(u).then((function(e){r&&(t.comments=e.data),t.comments.commentList=r?e.data.commentList.rows:[].concat((0,n.default)(t.comments.commentList),(0,n.default)(e.data.commentList.rows));var o=e.data.commentList.total/a;l({hasMore:i<o,isEmpty:!t.comments.commentList.length})})),3==this.currIndex&&(0,c.getCourseVideoResourceList)(u).then((function(e){t.resourceList=r?e.data.rows:[].concat((0,n.default)(t.resourceList),(0,n.default)(e.data.rows));var o=e.data.total/a;l({hasMore:i<o,isEmpty:!t.resourceList.length})}))}}};t.default=g},bb55:function(e,t,r){var i=r("c818");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("123143f3",i,!0,{sourceMap:!1,shadowMode:!1})},be6a:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.rate_view[data-v-3bcf0d22]{height:%?90?%;background:#ffefe7;border:%?2?% solid #ffe6d9}.rate_view .comment_view[data-v-3bcf0d22]{width:%?136?%;height:%?40?%;background:linear-gradient(180deg,#f3916f,#ff7253);border-radius:%?40?%}.title_view[data-v-3bcf0d22]{font-size:%?32?%}.title_view .title_iocn[data-v-3bcf0d22]{width:%?42?%;height:%?42?%}.comment_item .right_view[data-v-3bcf0d22]{border-bottom:%?2?% solid #e6e6e6}.comment_item .right_view[data-v-3bcf0d22]:last-of-type{border:none}.comment_item .head_icon[data-v-3bcf0d22]{flex-shrink:0;width:%?52?%;height:%?52?%}.comment_item .like_icon[data-v-3bcf0d22]{width:%?22?%;height:%?20?%;flex-shrink:0}@media screen and (min-width:768px){.rate_view[data-v-3bcf0d22]{height:%?90?%;background:#ffefe7;border:%?2?% solid #ffe6d9}.rate_view .comment_view[data-v-3bcf0d22]{width:%?136?%;height:%?40?%;background:linear-gradient(180deg,#f3916f,#ff7253);border-radius:%?40?%}.title_view[data-v-3bcf0d22]{font-size:%?32?%}.title_view .title_iocn[data-v-3bcf0d22]{width:%?42?%;height:%?42?%}.comment_item .right_view[data-v-3bcf0d22]{border-bottom:%?2?% solid #e6e6e6}.comment_item .right_view[data-v-3bcf0d22]:last-of-type{border:none}.comment_item .head_icon[data-v-3bcf0d22]{flex-shrink:0;width:%?52?%;height:%?52?%}.comment_item .like_icon[data-v-3bcf0d22]{width:%?22?%;height:%?20?%;flex-shrink:0}}',""]),e.exports=t},c1e8:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("64aa");var i={props:{text:{type:[Array,String],default:uni.$u.props.noticeBar.text},direction:{type:String,default:uni.$u.props.noticeBar.direction},step:{type:Boolean,default:uni.$u.props.noticeBar.step},icon:{type:String,default:uni.$u.props.noticeBar.icon},mode:{type:String,default:uni.$u.props.noticeBar.mode},color:{type:String,default:uni.$u.props.noticeBar.color},bgColor:{type:String,default:uni.$u.props.noticeBar.bgColor},speed:{type:[String,Number],default:uni.$u.props.noticeBar.speed},fontSize:{type:[String,Number],default:uni.$u.props.noticeBar.fontSize},duration:{type:[String,Number],default:uni.$u.props.noticeBar.duration},disableTouch:{type:Boolean,default:uni.$u.props.noticeBar.disableTouch},url:{type:String,default:uni.$u.props.noticeBar.url},linkType:{type:String,default:uni.$u.props.noticeBar.linkType}}};t.default=i},c60e:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),e.exports=t},c68b:function(e,t,r){var i=r("3f54");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("5c90527f",i,!0,{sourceMap:!1,shadowMode:!1})},c75e:function(e,t,r){"use strict";r.r(t);var i=r("24d0"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},c818:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.popup_view[data-v-41b4ffb8]{width:%?620?%}.close_btn[data-v-41b4ffb8]{width:%?620?%;height:%?152?%;display:flex;justify-content:center;align-items:center}.close_btn .close_img[data-v-41b4ffb8]{width:%?60?%;height:%?60?%}@media screen and (min-width:768px){.popup_view[data-v-41b4ffb8]{width:%?620?%}.close_btn[data-v-41b4ffb8]{width:%?620?%;height:%?152?%;display:flex;justify-content:center;align-items:center}.close_btn .close_img[data-v-41b4ffb8]{width:%?60?%;height:%?60?%}}',""]),e.exports=t},ca7c:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("4c9a")),o=i(r("1bfe")),a={props:{comments:{type:Object,default:function(){}},urlParams:{type:Object,default:function(){}}},components:{moduleTitle:n.default,commentItem:o.default},data:function(){return{isPad:getApp().globalData.config.isPad}},methods:{handleToComment:function(){uni.$u.route({url:"pages/study/comment",params:{courseId:this.urlParams.courseId}})}}};t.default=a},cbde:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{isShow:!1}},mounted:function(){},methods:{show:function(){this.isShow=!this.isShow}}}},cc22:function(e,t,r){"use strict";var i=r("8bdb"),n=r("ab4a"),o=r("e7e3"),a=r("1ded");i({target:"Reflect",stat:!0,sham:!n},{getOwnPropertyDescriptor:function(e,t){return a.f(o(e),t)}})},cdb7:function(e,t,r){r("bf0f"),r("7996"),r("6a88"),e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports["default"]=e.exports},cf2f:function(e,t,r){var i=r("f48b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("f6e5e870",i,!0,{sourceMap:!1,shadowMode:!1})},d183:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAAHdbkFIAAAAAXNSR0IArs4c6QAAAQdJREFUeAHtmdkOwjAMBFv+/5+hllhkKrlRz0B38uIoh2OPVyGiw3BYe75bOMz9R+uECxa0QjhyPnKXv9y/IM3mEYrrPDvOXWcE49Q0X43vzgEHQuxtP0oLDJXaqvHYg5Bg8Bs6iChofQl8XSfzUPI1kufyD14eX7s+9u6+jnIAW/oEAAEIQKA7gS2XF3sgAIF7EeBJ1v0qJgAIQAACEIAABCAAge4E7vXGJxsIQAACEIDAvxFY/H9qKZnq82C1p/rMWK0/27/OtX8LAUBScLUowLXyyhsFiISrRQGulVfeKEAkXC0KcK288kYBIuFqUYBr5ZU3ChAJV4sCXCtP3hCAAAQgMBF4AShmQIQewFksAAAAAElFTkSuQmCC"},d189:function(e,t,r){var i=r("e2db"),n=r("2774"),o=r("79b7"),a=r("9376");e.exports=function(e){return i(e)||n(e)||o(e)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},d2aa:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.uni_aliplayer_download_callback=void 0;t.uni_aliplayer_download_callback="uni_aliplayer_download_callback"},d70a:function(e,t,r){var i=r("2d0b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("a8a459c8",i,!0,{sourceMap:!1,shadowMode:!1})},d84f:function(e,t,r){var i=r("c60e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("2b1638e7",i,!0,{sourceMap:!1,shadowMode:!1})},d898:function(e,t,r){"use strict";var i=r("638f"),n=r.n(i);n.a},d9f2:function(e,t,r){"use strict";var i=r("5b83"),n=r.n(i);n.a},db01:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[e._l(e.copyTree,(function(t,i){return r("v-uni-view",{key:i,staticClass:"tree_view mb16",class:{open_view:t.open}},[r("v-uni-view",{staticClass:"level_one pr20 pl34 bd bdra12 mb20",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleClickItem(t)}}},[r("v-uni-view",[r("v-uni-text",{staticClass:"fwb5 c_F96661"},[e._v(e._s(t.courseName))])],1),t.open?r("v-uni-image",{staticClass:"up_icon",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729676884845.png"}}):r("v-uni-image",{staticClass:"up_icon",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729676885206.png"}})],1),t.open?e._l(t.courseUnit,(function(t,i){return r("v-uni-view",{key:i,staticClass:"mb20"},[r("v-uni-view",{staticClass:"level_two pl34 pr20 bd bdra12 mb14",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleClickItem(t)}}},[r("v-uni-view",[r("v-uni-text",{staticClass:"fwb5 c_F96661"},[e._v(e._s(t.unitName))])],1),r("v-uni-view",{staticClass:"flex1 mr30 center_view"},[r("v-uni-text",{staticClass:"c666"},[e._v(e._s(t.courseKey))])],1),t.open?r("v-uni-image",{staticClass:"up_icon",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729676884845.png"}}):r("v-uni-image",{staticClass:"up_icon",attrs:{src:"https://videoapp.obs.myhuaweicloud.com/appImages/1729676885206.png"}})],1),t.open?r("v-uni-view",{staticClass:"pb28"},e._l(t.courseUnitDetailList,(function(t,i){return r("v-uni-view",{key:i,staticClass:"level_three pl34 pr24 pt14 pb14"},[r("v-uni-view",[r("v-uni-view",[r("v-uni-text",{staticClass:"c_F96661"},[e._v(e._s(t.unitDetailName))])],1),t.playTime?r("v-uni-view",{staticClass:"time_progress"},[r("v-uni-text",{staticClass:"c666"},[e._v(e._s(t.playTime))]),t.progressName?r("v-uni-text",{staticClass:"ml20 c666"},[e._v(e._s(t.progressName)+"%")]):e._e()],1):e._e()],1),1==t.playState?r("v-uni-view",{staticStyle:{"flex-shrink":"0"}},[t.playVid==e.playData.playVid&&e.playData.isPlay?r("v-uni-view",{staticClass:"study_btn bdra12 dfcen",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleStudyStop(t)}}},[r("v-uni-text",{staticClass:"cfff"},[e._v("暂停")])],1):r("v-uni-view",{staticClass:"study_btn bdra12 dfcen",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleStudy(t)}}},[r("v-uni-text",{staticClass:"cfff"},[e._v(e._s(t.progress>0?"继续学习":"学习"))])],1)],1):e._e(),2==t.playState?r("v-uni-view",{staticStyle:{"flex-shrink":"0"}},[t.playVid==e.playData.playVid&&e.playData.isPlay?r("v-uni-view",{staticClass:"study_btn bdra12 dfcen",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleStudyStop(t)}}},[r("v-uni-text",{staticClass:"cfff"},[e._v("暂停")])],1):r("v-uni-view",{staticClass:"study_btn bdra12 dfcen",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.handleStudy(t)}}},[r("v-uni-text",{staticClass:"cfff"},[e._v(e._s(t.progress>0?"继续学习":"学习"))])],1)],1):e._e(),3==t.playState?r("v-uni-view",{staticClass:"study_btn bdra12 dfcen cfff",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleService.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"cfff"},[e._v("购买")])],1):e._e()],1)})),1):e._e()],1)})):e._e()],2)})),r("customerService",{ref:"customerService"})],2)},n=[]},db5c:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("2634")),o=i(r("2fdc"));r("5c47"),r("0506"),r("aa9c"),r("f7a5");var a=i(r("750f")),s={name:"u-row-notice",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{animationDuration:"0",animationPlayState:"paused",nvueInit:!0,show:!0}},watch:{text:{immediate:!0,handler:function(e,t){this.vue(),uni.$u.test.string(e)||uni.$u.error("noticebar组件direction为row时，要求text参数为字符串形式")}},fontSize:function(){this.vue()},speed:function(){this.vue()}},computed:{textStyle:function(){var e={};return e.color=this.color,e.fontSize=uni.$u.addUnit(this.fontSize),e},animationStyle:function(){var e={};return e.animationDuration=this.animationDuration,e.animationPlayState=this.animationPlayState,e},innerText:function(){for(var e=[],t=this.text.split(""),r=0;r<t.length;r+=20)e.push(t.slice(r,r+20).join(""));return e}},mounted:function(){this.init()},methods:{init:function(){this.vue(),uni.$u.test.string(this.text)||uni.$u.error("noticebar组件direction为row时，要求text参数为字符串形式")},vue:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return 0,r=0,t.next=3,uni.$u.sleep();case 3:return t.next=5,e.$uGetRect(".u-notice__content__text");case 5:return r=t.sent.width,t.next=8,e.$uGetRect(".u-notice__content");case 8:t.sent.width,e.animationDuration="".concat(r/uni.$u.getPx(e.speed),"s"),e.animationPlayState="paused",setTimeout((function(){e.animationPlayState="running"}),10);case 12:case"end":return t.stop()}}),t)})))()},nvue:function(){return(0,o.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},loopAnimation:function(e,t){},getNvueRect:function(e){},clickHandler:function(e){this.$emit("click")},close:function(){this.$emit("close")}}};t.default=s},db60:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"u-sticky",style:[this.style],attrs:{id:this.elId}},[t("v-uni-view",{staticClass:"u-sticky__content",style:[this.stickyContent]},[this._t("default")],2)],1)},n=[]},dce4:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("d4b5"),r("bf0f"),r("2797");var n=i(r("42ff")),o={components:{customerService:n.default},props:{courseTree:{type:Array,default:function(){return[]}},playData:{type:Object,default:function(){}}},data:function(){return{copyTree:[],isDisabled:!0}},watch:{courseTree:{immediate:!0,deep:!0,handler:function(e,t){this.copyTree=JSON.parse(JSON.stringify(e))}}},mounted:function(){},methods:{handleService:function(){this.$refs.customerService.show()},addKeyValueToTree:function(e,t,r){var i=this;this.copyTree=JSON.parse(JSON.stringify(e)),this.copyTree.forEach((function(e){i.addKeyValueToNodes(e,t,r)}))},addKeyValueToNodes:function(e,t,r){var i=this;this.$set(e,t,r),e.children&&e.children.length>0&&e.children.forEach((function(e){i.addKeyValueToNodes(e,t,r)}))},handleClickItem:function(e){this.$emit("change",this.copyTree),e.open=!e.open},handleStudy:function(e){this.$emit("study",e)},handleStudyStop:function(e){this.$emit("stop",e)}}};t.default=o},df64:function(e,t,r){"use strict";r.r(t);var i=r("3249"),n=r("6c5e");for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("18a7");var a=r("828b"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"7508bc40",null,!1,i["a"],void 0);t["default"]=s.exports},e05e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA8JJREFUeAHtmktoE0EYxzPZpA001M1mRVFQUETBixcP3r148SYIgngRm7ZQKSgqUlAQUdCD9VBE0INY8HHw4gMfIB5EraBIsRX0pijdTZqa2qZ5jP+tNp2mSbvZ7mOmnYWw385jM//ffDP7zeyGQvKQBCQBSUASkAQkAUmgQQKGYTxIp9MbGqzGXfGw0xbRUGhvqVz+bKTTxymlUaf3CboecdqAEcMAg38HIWQwTEhK07RXM2minB17ACsQHrC9TOlLwzRvjI2N6Wwe77YrACyRgEDwOzRVKAybpnnYuuZdvNU+x41kh0AtoRgWr5VwOJVIJD7WyuclzTUPqBYED9iFSXJgxDQvwY5X5/Ny7ZkHsALhDd/xR13JZPI+m86D7ZkHsOLgAesxSd6DNzwcHR3dxOYFbfsCoCKS0j2FYnEQQdRpQGmqpAdo+DIEaunDHw+HIpF2XVVf1Mr3K81fD2BUIYraSovF5/CGW7lcbg2T5asZGIAZlQBxYDKfH0ZI3Y5h4Xt7AhsCMwDYMxrzjkYiqdWq+p5N99L2nfhCYuANO0mp9Bbe0IuV5qqFyrqVxxUAS5Q1DGi53IkgaggQ9rsltN59uAPANHQtIPRjgfU0m81uYdJdNXkGMC0UHrEbC6xPCKLOwI65qh4342oStCHuK/YdOhBSP7FR1lYR7j2gSsVmhNSPMSzujIyPr6vKc3QpGoBpkRgK+8jExBD2HbpgK46U/68k2hCYr5WQD9iJadN1/c38zMVThPSAObIo3RHC5gu8oQ8rzcScPBsX4gOASAwDgrnhCFaaQ1hbHLShu1JkWQCoqHHwVIswlYU1seNk7cBeUxTlpKqqmUaEiA8AkyDGQFvS4SQoLAD0+G/0fA9exvTiXGqk19myQgKA4Ls0Fjuqt7T8YMU4sUUD4HooLAqAPJ71F3RNO4/en3TS0/XqcA8Agp81RaMdra2tX+qJWEo6zwB+4tVaNya5/qUIXKwud4EQerxMwuGrEL/Na/EWHK48AI+2AaoobX5uinIBAL2exSR3KplI9FkesJjbupkfOAD0+u1Yc3N3PB7/5aYwu/cKDACEc/FqLAgAkxB/Dvt6F+HuU3Z7yqty/gIg5FFUUTqxYvvmlaBG7+sLAPQ0tx9IeAoAwkt43XUlqWk9sHON9o4f5T0DAMFCfCTlOgAIT2OSO4Eo7jpsOADfh6sAIPgmFi7HsHAx+JY92zpXAEC4sJ/KLhXAHyxcziKEvQwIhVmuK8CyPpfPZDIbV4BUKVESkAQkAUlAEpAElimBv8g7O0lnTWYLAAAAAElFTkSuQmCC"},e061:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.container[data-v-f3e3db3a]{display:flex;flex-direction:column;height:100vh;overflow:hidden}.container .content[data-v-f3e3db3a]{display:flex}.container .content .left[data-v-f3e3db3a]{width:66.6%;background-color:#000;display:flex;align-items:center;justify-content:center}.container .content .right[data-v-f3e3db3a]{width:33.4%;display:flex;flex-direction:column;flex:1;overflow:hidden;position:relative}.top_view[data-v-f3e3db3a]{background-color:#f1f1f1}.scroll_view[data-v-f3e3db3a]{position:absolute;height:100%;padding-bottom:%?100?%}.scroll_view .content[data-v-f3e3db3a]{display:flex;flex-direction:column}.banner_view[data-v-f3e3db3a]{width:66.6%;height:100vh}.course_time[data-v-f3e3db3a]{margin-right:%?86?%}.bottom_view[data-v-f3e3db3a]{height:%?98?%;position:fixed;right:0;bottom:0;background-color:#fff;display:flex;flex-direction:row;border-top:%?2?% solid #f0f0f0;width:33.34%;font-size:%?24?%}.btn[data-v-f3e3db3a]{height:%?98?%;width:%?264?%}.act_btn[data-v-f3e3db3a]{width:%?48?%;height:%?48?%}.back[data-v-f3e3db3a]{height:64px;background-color:#fff}.back_view[data-v-f3e3db3a]{width:%?72?%;height:40px;box-sizing:border-box;flex-shrink:0}.ellipsis[data-v-f3e3db3a]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;flex:1}.course_view[data-v-f3e3db3a]{border-bottom:%?16?% solid #f0f0f0;font-size:14px}.rate_view[data-v-f3e3db3a]{height:%?90?%;background:#ffefe7;border:%?2?% solid #ffe6d9;font-size:%?28?%}.comment_view[data-v-f3e3db3a]{height:%?40?%;background:linear-gradient(180deg,#f3916f,#ff7253);border-radius:%?40?%;font-size:%?24?%;flex-shrink:0;padding:0 %?10?%}',""]),e.exports=t},e2db:function(e,t,r){var i=r("e476");e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e476:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i},e.exports.__esModule=!0,e.exports["default"]=e.exports},e488:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("64aa");var i={props:{text:{type:[Array],default:uni.$u.props.columnNotice.text},icon:{type:String,default:uni.$u.props.columnNotice.icon},mode:{type:String,default:uni.$u.props.columnNotice.mode},color:{type:String,default:uni.$u.props.columnNotice.color},bgColor:{type:String,default:uni.$u.props.columnNotice.bgColor},fontSize:{type:[String,Number],default:uni.$u.props.columnNotice.fontSize},speed:{type:[String,Number],default:uni.$u.props.columnNotice.speed},step:{type:Boolean,default:uni.$u.props.columnNotice.step},duration:{type:[String,Number],default:uni.$u.props.columnNotice.duration},disableTouch:{type:Boolean,default:uni.$u.props.columnNotice.disableTouch}}};t.default=i},e6cb:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.banner_view[data-v-75e0247e]{overflow:hidden}.swiper[data-v-75e0247e]{width:100%}@media screen and (min-width:768px){.banner_view[data-v-75e0247e]{overflow:hidden}.swiper[data-v-75e0247e]{width:100%}}',""]),e.exports=t},e75b:function(e,t,r){var i=r("f80e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("15a5f838",i,!0,{sourceMap:!1,shadowMode:!1})},e8b89:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("5c47"),r("0506");var n=i(r("e488")),o={mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],watch:{text:{immediate:!0,handler:function(e,t){uni.$u.test.array(e)||uni.$u.error("noticebar组件direction为column时，要求text参数为数组形式")}}},computed:{textStyle:function(){var e={};return e.color=this.color,e.fontSize=uni.$u.addUnit(this.fontSize),e},vertical:function(){return"horizontal"!=this.mode}},data:function(){return{index:0}},methods:{noticeChange:function(e){this.index=e.detail.current},clickHandler:function(){this.$emit("click",this.index)},close:function(){this.$emit("close")}}};t.default=o},ea93:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{},props:{resourceList:{type:Array,default:function(){return[]}}},data:function(){return{}},mounted:function(){},methods:{handleToLook:function(e){uni.$u.route({url:"pages/previewMaterial",params:{webUrl:encodeURIComponent(e.resourceUrl)}})},handleToDownload:function(e){this.$public.downLoadFile(e.resourceUrl)}}};t.default=i},eb43:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("9b1b"));r("d4b5");r("d2aa");var o=r("7158"),a=i(r("7533"));r("889e");var s={components:{},props:{url:{type:String,default:""},title:{type:String,default:""},playData:{type:Object,default:function(){}}},data:function(){return{deviceInfo:getApp().globalData.config.deviceWH,show:!0,showDamu:!1}},computed:{},mounted:function(){if("function"===typeof window.require){var e=this,t=window.require("electron"),r=t.ipcRenderer;r.on("running-process-list",(function(t,r){console.log("监听到白名单内进程了",r),e.show&&r.length&&(e.show=!1,(0,o.getyytsddDDEEFF)({deviceInfo:JSON.stringify(uni.getSystemInfoSync()),pro:JSON.stringify(r)}),uni.showModal({title:"提示",content:"发现可以翻录进程: ".concat(r[0].name,".exe，请结束该进程后再观看！"),showCancel:!1,success:function(t){e.show=!0}}),e.player&&e.player.pause())}))}},onUnload:function(){},methods:{startPlay:function(e){var t=this;this.showDamu=!0,uni.showLoading({title:"视频加载中...",mask:!0}),this.player&&(this.player.dispose(),this.player=null,document.getElementById("J_prismPlayer").innerHTML=""),this.player=new a.default({id:"J_prismPlayer",swScriptURL:"https://yuedianedu.cn/aliplayer-worker-min.js",width:"100%",height:"20%",vid:e.playVid,playauth:e.playAuth,encryptType:1,playConfig:{EncryptType:"AliyunVoDEncryption"},license:{domain:"yuedianedu.cn",key:"IPnmYyWHjgZZusVVha1487699a5324d1caf7189a454dcd981"}},(function(r){uni.hideLoading(),(e.progressName>99||e.isAuto)&&(e.progress=0),r.seek(e.progress/1e3),r.on("timeupdate",(function(e){if(!(r.getCurrentTime()>r.getDuration())){var i=Math.ceil(r.getCurrentTime());i!=t.lastRecordedTime&&i%3==0&&((0,o.saveSeek)({unitDetailId:t.playData.unitDetailId,position:Math.floor(1e3*i)}),t.$emit("edit",(0,n.default)((0,n.default)({curProgress:1e3*i},t.playData),{},{isPlay:!0}))),t.lastRecordedTime=i}})),r.on("play",(function(){t.$emit("change",(0,n.default)((0,n.default)({},t.playData),{},{isPlay:!0}))})),r.on("pause",(function(){t.$emit("change",(0,n.default)((0,n.default)({},t.playData),{},{isPlay:!1}))})),r.on("ended",(function(){t.$emit("change",(0,n.default)((0,n.default)({},t.playData),{},{isPlay:!1})),t.$emit("next",t.playData)})),r.on("error",(function(e){uni.showModal({title:"错误提示",content:"重试或者联系客服",showCancel:!1}),this.startPlayCurrent()}))}))},stopPlay:function(){this.player.pause()},startPlayCurrent:function(){this.player.play()}}};t.default=s},edc4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAAHdbkFIAAAAAXNSR0IArs4c6QAAAotJREFUeAHtWgtSxSAMfDpeQW/mO+TTk+khNFsbZtuSDr/Sj2FGoZBkNwu0tHq7NS8/Ujjos15gAIWv0Q4GOoCaDYPBkxQ14rb2hZq9Q2fHhuC/zuFe0DEjFrLBWEgTF7EyGKzmHfM6Wd9EEubO0q2JMJERTlo4GNro51rHJwG0s0ktgO8WmyYAHiRDAZmJxSZl92HDcge3MY3jtbliowsJqOTMMRftwCDVAXa8N6IMFjDSYQEkB4gFRV+7AMgLRYLeY2jj2GLInB7O2XJGNDOFNTYLGt7hCuyrgKz3B6/5LmwUFMBaNgcWoCFTBZzXFgG1s8bD/ZgN4MTXOW31Xbv9cDzzVsRGW7Z3JxCdgpqMU6UvwpD5/cIcx0pRwBonITEhUxOr2hdkqoN4AFfAFXAFTq2A3AkfuyQgwMObqNTFB5hi4sgawFqKA+U6CmDIWsFR58ZR+6wTkeBgrps++ZJORAKMbx1FwKqOdVKKElAnlWnLOmsKUoiAPEqKLWyaE0gFVjsn4ApEt6EukJLa2u9WrOgUIAgXcf62AnTrl60dvsMPG332qyeRySuZ8uhGAEAxNboSUDAhEtTQvu61qtEd2AFdAVfAFXAFXAFXwBVwBdooMB7ohpNlm4gniMJJSzuUE1AvpyhZ4rUuvEOErKlRHv2gnilJU/7J37QOmu4frdykLyFATdI1ArAv2rkrI/nDVEnwXDJ72CcLsAc5YM6Fxwe7llyiXwZbAhw9lgtw9Bnamp+vgK0VPnr8wz8FWt/15xOSvAX470VWW4K/yc/nHORfXsvzG//T8IHneE65pFgiQLIYlxSAkxrFeFirgm0v346JcfmkrQRVDGvc+10BV8AVcAVcgfYK/AJWbzC3Dqid9AAAAABJRU5ErkJggg=="},ef6b:function(e,t,r){"use strict";r.r(t);var i=r("05bc"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},f376:function(e,t,r){"use strict";r.r(t);var i=r("2fc8"),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},f3c1:function(e,t,r){"use strict";r("6a54");var i=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("2634")),o=i(r("2fdc"));r("9c4e"),r("64aa");var a=i(r("56a8")),s={name:"u-sticky",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{cssSticky:!1,stickyTop:0,elId:uni.$u.guid(),left:0,width:"auto",height:"auto",fixed:!1}},computed:{style:function(){var e={};return this.disabled?e.position="static":this.cssSticky?(e.position="sticky",e.zIndex=this.uZindex,e.top=uni.$u.addUnit(this.stickyTop)):e.height=this.fixed?this.height+"px":"auto",e.backgroundColor=this.bgColor,uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),e)},stickyContent:function(){var e={};return this.cssSticky||(e.position=this.fixed?"fixed":"static",e.top=this.stickyTop+"px",e.left=this.left+"px",e.width="auto"==this.width?"auto":this.width+"px",e.zIndex=this.uZindex),e},uZindex:function(){return this.zIndex?this.zIndex:uni.$u.zIndex.sticky}},mounted:function(){this.init()},methods:{init:function(){this.getStickyTop(),this.checkSupportCssSticky(),this.cssSticky||!this.disabled&&this.initObserveContent()},initObserveContent:function(){var e=this;this.$uGetRect("#"+this.elId).then((function(t){e.height=t.height,e.left=t.left,e.width=t.width,e.$nextTick((function(){e.observeContent()}))}))},observeContent:function(){var e=this;this.disconnectObserver("contentObserver");var t=uni.createIntersectionObserver({thresholds:[.95,.98,1]});t.relativeToViewport({top:-this.stickyTop}),t.observe("#".concat(this.elId),(function(t){e.setFixed(t.boundingClientRect.top)})),this.contentObserver=t},setFixed:function(e){var t=e<=this.stickyTop;this.fixed=t},disconnectObserver:function(e){var t=this[e];t&&t.disconnect()},getStickyTop:function(){this.stickyTop=uni.$u.getPx(this.offsetTop)+uni.$u.getPx(this.customNavHeight)},checkSupportCssSticky:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.checkCssStickyForH5()&&(e.cssSticky=!0),"android"===uni.$u.os()&&Number(uni.$u.sys().system)>8&&(e.cssSticky=!0),"ios"===uni.$u.os()&&(e.cssSticky=!0);case 3:case"end":return t.stop()}}),t)})))()},checkComputedStyle:function(){},checkCssStickyForH5:function(){for(var e=["","-webkit-","-ms-","-moz-","-o-"],t=e.length,r=document.createElement("div"),i=0;i<t;i++)if(r.style.position=e[i]+"sticky",""!==r.style.position)return!0;return!1}},beforeDestroy:function(){this.disconnectObserver("contentObserver")}};t.default=s},f48b:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.player_container[data-v-cda925b2]{\n  /* position: fixed; */position:relative}.player_container .tip[data-v-cda925b2]{position:absolute;width:100%;top:50%;z-index:9999}',""]),e.exports=t},f494:function(e,t,r){var i=r("b7d9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("967d").default;n("35e3e7aa",i,!0,{sourceMap:!1,shadowMode:!1})},f5f9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAAHdbkFIAAAAAXNSR0IArs4c6QAAAydJREFUeAHtWjty1EAQ3QXKAbljuYozcAo4BoW5BLk5ATknIDcxVRyBCxhiExKY10It3nzVkkbeZbenamp6ul9/9NTaHcu7260dew3wgKGyrnuMJ7qRVRQyWBcAEORWgQzqZU4hsowEdCBFf0m5goLLZQDkOy42iRB4KjKK0JOltiNYgzvLtdZq4wt9lgMyILbHSYJ2YjCA97w3yRJdBoP/av4Fi+2rOeBkLi9kYPVdKDaStaCklee0sSQxVRB3H1eXDQCHNwyqVcW43dD3vAQPlBrYKVfBa8koA8Bv4sQOVbkEHjLfD2sQcHUfVCtyozPwOAwEfcwpSw8FY+bIw5OZuCQfZwkCipJzDss6y0XkPks4hllGsgvMO8wbs1MNKNXrqOHUBuxNjNe9rIozr7Ez9j9ZB/ntVDDGT2ETOzsP8ncFYd9F9mwxjFFf82p1Bq5jLORrTcJ61cXrwR/DZk9BfGW+dwacAWfAGbAy4N8FB/8yOp1DqbXpYlyzW4DTjxxK5VR8ESdZtLccpzgw4ccXo6QrnoqbMUDFfCJ5uZirHrpfmNkTcC5TLkYOl9WxM+RX0T54fZMNACX7lDBFPTuT/JVkEccjeC4QY3P2qo6dB/mlOmD/hexFNghTbEKNmaxTzrB3jIGc9AbbkwRTCqszcLeEDdggfXsG+AKQqONkkPveYB3jWfav4y0+CZlhl50BZ8AZcAacAWfAGXAGnIEKA8UDeclHTvkl2zHo5/538+zP42dPgOn9pKW157aeJWYN0+pRPPsOODoCcGfHHx/IXR5Gm19C1FrKatOK4tXqP4VDXHnJHY/xnbP6xwDdq926btoBKOoFZmctZsBdYf2A+WOYIl9hHsdQpuNVq4P+EvNzbMdeXmHOJUPDJmsmfq9KgK0VpcTQf6zYYtNqMuKAum99vUk8TTSx/ob9PeZTCYD1Heb4K1DIPBaRwQFYTgpureBkGVm64HkpJ2x7zGvM1WQgRnaUcjfTZ7NCuSQB3BaT0bKOWbVvlXguGVvVMUnGYyS2kNGqDv9zePKWnzhg05PgiXPnl+cMOAPOgDPgDDgD/zkDfwDyUp0YrB7CmAAAAABJRU5ErkJggg=="},f80e:function(e,t,r){var i=r("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-30ed47a6], uni-scroll-view[data-v-30ed47a6], uni-swiper-item[data-v-30ed47a6]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-rate[data-v-30ed47a6]{\ndisplay:flex;\nflex-direction:row;align-items:center;margin:0;padding:0;touch-action:none}.u-rate__content[data-v-30ed47a6]{\ndisplay:flex;\nflex-direction:row}.u-rate__content__item[data-v-30ed47a6]{position:relative}.u-rate__content__item__icon-wrap--half[data-v-30ed47a6]{position:absolute;overflow:hidden;top:0;left:0}.u-icon[data-v-30ed47a6]{box-sizing:border-box}',""]),e.exports=t},f922:function(e,t,r){"use strict";var i=r("6e85"),n=r.n(i);n.a},f9ea:function(e,t,r){"use strict";r("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("64aa");var i={props:{value:{type:[String,Number],default:uni.$u.props.rate.value},count:{type:[String,Number],default:uni.$u.props.rate.count},disabled:{type:Boolean,default:uni.$u.props.rate.disabled},readonly:{type:Boolean,default:uni.$u.props.rate.readonly},size:{type:[String,Number],default:uni.$u.props.rate.size},inactiveColor:{type:String,default:uni.$u.props.rate.inactiveColor},activeColor:{type:String,default:uni.$u.props.rate.activeColor},gutter:{type:[String,Number],default:uni.$u.props.rate.gutter},minCount:{type:[String,Number],default:uni.$u.props.rate.minCount},allowHalf:{type:Boolean,default:uni.$u.props.rate.allowHalf},activeIcon:{type:String,default:uni.$u.props.rate.activeIcon},inactiveIcon:{type:String,default:uni.$u.props.rate.inactiveIcon},touchable:{type:Boolean,default:uni.$u.props.rate.touchable}}};t.default=i},fb2c:function(e,t,r){"use strict";var i=r("f494"),n=r.n(i);n.a},fbe0:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i}));var i={uIcon:r("99cf").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"u-notice",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("icon",[e.icon?r("v-uni-view",{staticClass:"u-notice__left-icon"},[r("u-icon",{attrs:{name:e.icon,color:e.color,size:"19"}})],1):e._e()]),r("v-uni-swiper",{staticClass:"u-notice__swiper",attrs:{"disable-touch":e.disableTouch,vertical:!e.step,circular:!0,interval:e.duration,autoplay:!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.noticeChange.apply(void 0,arguments)}}},e._l(e.text,(function(t,i){return r("v-uni-swiper-item",{key:i,staticClass:"u-notice__swiper__item"},[r("v-uni-text",{staticClass:"u-notice__swiper__item__text u-line-1",style:[e.textStyle]},[e._v(e._s(t))])],1)})),1),["link","closable"].includes(e.mode)?r("v-uni-view",{staticClass:"u-notice__right-icon"},["link"===e.mode?r("u-icon",{attrs:{name:"arrow-right",size:17,color:e.color}}):e._e(),"closable"===e.mode?r("u-icon",{attrs:{name:"close",size:16,color:e.color},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}}):e._e()],1):e._e()],2)},o=[]},feae:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAAXNSR0IArs4c6QAAA3BJREFUaAXtmjtv1EAQx732XSpOupOPBoQQSJHoKKmA4j4AJQ1SIvEo+BB8EYhCm5IWKQWPJiWijEQKoECx7y46lCJ3jpm/pbUcZ73e9XpXF2RL0T5md2Z++/J4L57n4EnT1D+O43dRFG07MOfGBKCiON49jqKU0sQVHLOJB6h4Ot2hNJ8pxti5l6bPx+Pxe5u2rYGJoDiICzgrYDIoV3Ctg6lAuYBrFUwHyjacFIwc7Z2cnNziTtSlqyR5Q32269qV5dhzKWOv+77/sSwTlZMkWYZh+Esk43VSsPl8fme5Wv3gjdcmZezoehjelfnjy4RXWdaBXbXZ62asm7E1GYFuKa7JRCi70c2Y8lAVGlJYs+8z9srb2Lg3DsMB/pBHHWSFpq1nK0OqJgFtwbvDXhC8HI1Gnwp1l7Kz2ewxxZdvSbB5SSipUPmeE4IZQTH2pR8ET4bD4UziWy6ieHS0TJIP9FX9MK9UyNTBXQIzgvK8w36v90AVivufwa1WB1RubeYuHB6GUB6Wny4U4NAHfTmoagp/PcZ2RBdEOZgpFE39ft2ekjmMvtAhayOSVcFlYKZQMEhrfk9kWKeuqQ4RnN8GFJw/7/c/60CI2proKMMx3NDink9kSKcO7yga8b86fcptyblrdKm6KNfrlLPTkrEtn6Xp16yg09tS24hWdAuqZwFj333cyJK2F6Zw0WJx09ipxeKGiQ5iiAPfn9BB9C07POjGZxfL0QTOXy4fmTiFviY6ilCZLu5MdpduAEf74ynX1TRtqqMMdQEMBRO41PMmiP2aQqEvdOj2F0FBh3CzZm9yeqNnR6ieJdchVb6nym7mkUdRYDBzmwhoEfsV9cnyeRCsHydWQsGeEAwCwOHaGXmth6J0uj0+UFmWaIO2upE9+XPKT78q34RLkTem0TS64ibl+7QH9hBRjAeD39CL1wJOPxwUTfZU5pvCFXePQ9hI4TgBTLyzM48iitzEeZ6zl6lcivZMutHcgbkZ5/asdDPW3li60dTNmJtxbs/Kfztj0hc0fp2nW5oj1XGkSON2g8CZqz8lW394oSb9WSMXR/d1narkTb8Kqj49quyo1EtjRRUF5Ta6cDag4FPrYFCqCmcLyhqYCpxNKKtgMjjbUNbBRHAuoGDXyYM9l/3bbBxH9NV834lRV0ai6fSZS6h/YKUM+mPI10YAAAAASUVORK5CYII="},feb3:function(e,t,r){r("6a88"),r("bf0f"),r("7996");var i=r("14bd"),n=r("cdb7"),o=r("a362");e.exports=function(e){var t=n();return function(){var r,n=i(e);if(t){var a=i(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}},e.exports.__esModule=!0,e.exports["default"]=e.exports},ff74:function(e,t,r){"use strict";var i=r("4472"),n=r.n(i);n.a}}]);